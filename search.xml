<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ExoPlayer2 Googleä¾èµ–åº“</title>
      <link href="/2020/11/13/ExoPlayer2-Google%E4%BE%9D%E8%B5%96%E5%BA%93/"/>
      <url>/2020/11/13/ExoPlayer2-Google%E4%BE%9D%E8%B5%96%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p><strong>1.æ·»åŠ ä¾èµ–</strong></p><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ æ‰“å¼€ build.gradle ä¸­æ·»åŠ Googleå’ŒJCenteråº“ã€‚</p><blockquote><p>åˆ›å»ºandroid é¡¹ç›®æ—¶ AndroidStudio ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œåœ¨è¿™é‡Œæä¸€ä¸‹ã€‚</p></blockquote><pre><code class="groovy">repositories {    google()    jcenter()}</code></pre><ol start="2"><li>åœ¨ app module <strong>ä¸­æ·»åŠ ä¾èµ–é¡¹</strong>ã€‚</li></ol><pre><code class="groovy">implementation &#39;com.google.android.exoplayer:exoplayer:2.X.X&#39;</code></pre><p><strong>2.x.x</strong>æ›¿æ¢ä¸ºé¦–é€‰çš„æœ€æ–°ç‰ˆæœ¬(<a href="https://github.com/google/ExoPlayer/blob/release-v2/RELEASENOTES.md" target="_blank" rel="noopener">ExoPlayer</a>)</p><p>ä½œä¸ºå®Œæ•´åº“çš„ä»£æ›¿æ–¹æ¡ˆï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦çš„åº“æ¨¡å—ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å†…å®¹å¯¹Core,DASHå’ŒUIåº“æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œè¿™å¯èƒ½æ—¶æ’­æ”¾DASHå†…å®¹çš„åº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„ã€‚</p><pre><code class="groovy">implementation &#39;com.google.android.exoplayer:exoplayer-core:2.X.X&#39;implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.X.X&#39;implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.X.X&#39;</code></pre><p>å¯ç”¨çš„åº“æ¨¡å—åœ¨ä¸‹åˆ—å‡ºã€‚</p><ul><li><strong>exoplayer-core</strong>ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆå¿…é¡»ï¼‰ã€‚</li><li><strong>exoplayer-dash</strong>ï¼šæ”¯æŒDASHå†…å®¹ã€‚</li><li><strong>exoplayer-hls</strong>ï¼šæ”¯æŒHLSå†…å®¹ã€‚</li><li><strong>exoplayer-smoothstraming</strong>ï¼šæ”¯æŒSmoothStreamingå†…å®¹ã€‚</li><li><strong>exoplayer-ui</strong>ï¼šä¸ExoPlayerä¸€èµ·ä½¿ç”¨çš„UIç»„ä»¶å’Œèµ„æºã€‚</li></ul><p><a href="https://github.com/google/ExoPlayer/tree/release-v2/extensions/" target="_blank" rel="noopener">æ›´å¤šçš„æ‰©å±•æ¨¡å—</a>ã€‚</p><p><strong>3.Java8</strong></p><p>åœ¨ app ç›®å½•ä¸‹æ·»åŠ  ä¸€ä¸‹å†…å®¹ä¾›æ‰€æœ‰æ–‡ä»¶æ”¯æŒJava8</p><pre><code class="groovy">compileOptions {  targetCompatibility JavaVersion.VERSION_1_8}</code></pre><h1 id="DOC"><a href="#DOC" class="headerlink" title="DOC"></a>DOC</h1><h4 id="AudioAttributes-Builder-ç±»"><a href="#AudioAttributes-Builder-ç±»" class="headerlink" title="AudioAttributes.Builder() ç±»"></a><strong>AudioAttributes.Builder() ç±»</strong></h4><blockquote><p>ç”¨äºéŸ³é¢‘å›æ”¾çš„å±æ€§ï¼Œç”¨äºé…ç½®å¹³å°ä¸‹çš„AudioTrackã€‚</p><p>å¦‚æœä½ è¦è®¾ç½®éŸ³é¢‘å±æ€§ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª AudioAttributeså®ä¾‹ã€‚</p></blockquote><ul><li><strong>setContentText(int contentType)</strong></li></ul><blockquote><p>è®¾ç½®æè¿°éŸ³é¢‘ä¿¡å·å†…å®¹ç±»å‹çš„å±æ€§ã€‚å¦‚è¯­è¨€æˆ–éŸ³ä¹ã€‚</p></blockquote><ul><li><strong>setUsage(int contentType)</strong></li></ul><blockquote><p>è®¾ç½®æè¿°éŸ³é¢‘ä¿¡å·ç”¨é€”çš„å±æ€§ï¼Œä¾‹å¦‚æŠ¥è­¦æˆ–è€…é“ƒå£°ã€‚</p></blockquote><ul><li><strong>build()æ–¹æ³•</strong></li></ul><blockquote><p>æ„å»ºå™¨åˆ›å»ºä¸€ä¸ª AudioAttributes å®ä¾‹ã€‚</p></blockquote><h4 id="C-ç±»"><a href="#C-ç±»" class="headerlink" title="C ç±»"></a>C ç±»</h4><blockquote><p>å®šä¹‰æ ‡å‡†åº“çš„å¸¸é‡</p></blockquote><ul><li><strong>C.CONTENT_TYPE_MUSIC</strong></li></ul><blockquote><p>C ç±»çš„å¸¸é‡ç”¨äº</p><p>åœ¨ä½ ä½¿ç”¨å†…å®¹ç±»å‹ä¸ºéŸ³ä¹æ—¶ä½¿ç”¨çš„å†…å®¹ç±»å‹å€¼ã€‚</p></blockquote><ul><li><strong>C.USAGE_MEDIA</strong></li></ul><blockquote><p>å½“ä½¿ç”¨åª’ä½“æ˜¯ä½¿ç”¨è¿™ä¸ªå€¼(å¦‚éŸ³ä¹æˆ–è€…ç”µå½±åŸå£°å¸¦)</p></blockquote><h4 id="SimpleExoPlayer-ç±»"><a href="#SimpleExoPlayer-ç±»" class="headerlink" title="SimpleExoPlayer ç±»"></a>SimpleExoPlayer ç±»</h4><blockquote><p>å®ç°ç»„ä»¶çš„å¤–éƒ¨æ’­æ”¾ã€‚</p><p>ç”¨SimpleExoPlayer.Build(context:Context)æ¥å®ç°</p></blockquote><ul><li><strong>build()æ–¹æ³•</strong></li></ul><blockquote><p>æ„å»ºå™¨åˆ›å»ºä¸€ä¸ª SimpleExoPlayerå®ä¾‹ã€‚</p></blockquote><h4 id="å¼•ç”¨ï¼š"><a href="#å¼•ç”¨ï¼š" class="headerlink" title="å¼•ç”¨ï¼š"></a>å¼•ç”¨ï¼š</h4><p><a href="https://juejin.im/post/6854573203994443789" target="_blank" rel="noopener">æ·±å…¥è§£è¯»ExoPlayer ä¹‹ å¼€å‘è€…æŒ‡å—å…¨è¯‘-02 å¼€å§‹ä½¿ç”¨</a></p><p><a href="https://exoplayer.dev/doc/reference/overview-summary.html" target="_blank" rel="noopener">DOC</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> ExoPlayer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Glide Androidå›¾ç‰‡åŠ è½½åº“</title>
      <link href="/2020/11/12/Glide-Android%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%BA%93/"/>
      <url>/2020/11/12/Glide-Android%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸‹è½½-æ·»åŠ ä¾èµ–"><a href="#ä¸‹è½½-æ·»åŠ ä¾èµ–" class="headerlink" title="ä¸‹è½½ æ·»åŠ ä¾èµ–"></a>ä¸‹è½½ æ·»åŠ ä¾èµ–</h1><p><strong>æ·»åŠ ä¾èµ–</strong></p><blockquote><p>åœ¨ app ç›®å½•ä¸‹æ‰“å¼€ build.gradle</p></blockquote><pre><code class="kotlin">   // Glide    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;    kapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;</code></pre><h1 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h1><pre><code class="kotlin">Glide.with(context)    .load(url)    .into(imageView);</code></pre><blockquote><ul><li>with(context:Context) éœ€è¦ä¸Šä¸‹æ–‡ã€‚</li><li>load(url:String) å­—ç¬¦ä¸²æ€§è´¨çš„ç½‘ç»œå›¾ç‰‡Urlã€‚</li><li>into(imageView :ImageView) ä½ éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡çš„æ§ä»¶</li></ul></blockquote><p><strong>å–æ¶ˆåŠ è½½</strong></p><pre><code class="kotlin">Glide.with(context).clear(imageView);</code></pre><blockquote><p>Glide.with()ä¸­ä¼ å…¥Activityæˆ–è€…Fragmentæ—¶ä¼šè·Ÿéšå®ƒä»¬åˆ›å»ºå’Œé”€æ¯ï¼Œæ‰€æœ‰æ‰‹åŠ¨å–æ¶ˆæ˜¯éå¿…è¦çš„ã€‚</p></blockquote><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><blockquote><ul><li>setDefaultRequestOptions(RequestOptions requestOptions)</li></ul><p>ç”¨äºé…ç½®åŠ è½½å›¾ç‰‡æ—¶çš„é»˜è®¤é€‰é¡¹ï¼Œç¼–ç æ¨¡å¼åŒ…å«åœ¨å…¶ä¸­ï¼Œé»˜è®¤é…ç½®æ˜¯RGB_565</p><p>å‚æ•°ï¼š</p><ol><li>requestOptions:è®¾ç½® RequestOptions åˆ°åŠ è½½çš„åº”ç”¨ä¸­ã€‚</li></ol></blockquote><h4 id="RequestOptionsç±»"><a href="#RequestOptionsç±»" class="headerlink" title="RequestOptionsç±»"></a>RequestOptionsç±»</h4><blockquote><p>æä¾›é€‰é¡¹æ¥ç»™ Glide è‡ªå®šä¹‰åŠ è½½ã€‚</p></blockquote><ul><li><strong>placeholder(Drawable drawable)</strong></li></ul><blockquote><p>è®¾ç½®åŠ è½½æ—¶çš„é»˜è®¤å›¾ç‰‡ã€‚</p><p>å‚æ•°ï¼š</p><ol><li>drawableï¼Œæ˜¾ç¤ºå›¾ç‰‡çš„å ä½ç¬¦</li></ol></blockquote><ul><li><strong>onError(Drawable drawable)</strong></li></ul><blockquote><p>è®¾ç½®å›¾ç‰‡åŠ è½½é”™è¯¯æ—¶çš„å›¾ç‰‡ã€‚</p><p>å‚æ•°ï¼š</p><ol><li>drawableï¼Œæ˜¾ç¤ºå›¾ç‰‡çš„å ä½ç¬¦</li></ol></blockquote><ul><li><strong>diskCacheStrategy(DiskCacheStrategy diskCacheStrategy)</strong></li></ul><blockquote><p>å°† DiskCacheStrategy ç±»å‹åº”ç”¨åˆ°å•ç‹¬è¯·æ±‚ä¸­ã€‚å…è®¸ä½ åŠ è½½è¿‡ç¨‹ä¸­ä½¿ç”¨æˆ–è€…å†™å…¥ç£ç›˜ç¼“å­˜ï¼Œé€‰æ‹©æ€§çš„ä»…æ”¯æŒæ— ä¿®æ”¹çš„åŸå£°æ•°æ®ï¼Œæˆ–è€…å˜æ¢è¿‡çš„ç¼©ç•¥å›¾ï¼Œæˆ–è€…å…¼è€Œæœ‰ä¹‹ã€‚</p><p>å‚æ•°ï¼š</p><ol><li>diskCacheStrategyï¼šä½¿ç”¨DiskCacheStrategyç±»çš„å¸¸é‡ä½œä¸ºç¼“å­˜ç­–ç•¥ã€‚</li></ol></blockquote><h4 id="DiskCacheStrategy-ç±»"><a href="#DiskCacheStrategy-ç±»" class="headerlink" title="DiskCacheStrategy  ç±»"></a>DiskCacheStrategy  ç±»</h4><blockquote><p>ç¼“å­˜ç­–ç•¥ï¼ˆDisk ã€Cache ã€Strategyï¼‰</p><p>å…è®¸ä½ åŠ è½½è¿‡ç¨‹ä¸­ä½¿ç”¨æˆ–è€…å†™å…¥ç£ç›˜ç¼“å­˜ï¼Œé€‰æ‹©æ€§çš„ä»…æ”¯æŒæ— ä¿®æ”¹çš„åŸå£°æ•°æ®ï¼Œæˆ–è€…å˜æ¢è¿‡çš„ç¼©ç•¥å›¾ï¼Œæˆ–è€…å…¼è€Œæœ‰ä¹‹ã€‚</p><p>é»˜è®¤æ˜¯<strong>AUTOMATIC</strong>ï¼Œä¼šå°è¯•å¯¹æœ¬åœ°å’Œè¿œç¨‹å›¾ç‰‡ä½¿ç”¨æœ€ä½³ç­–ç•¥ã€‚å½“ä½ åŠ è½½è¿œç¨‹æ•°æ®æ—¶ï¼Œ<strong>AUTOMATIC</strong>ç­–ç•¥ä¼šå­˜å‚¨ç»´è¢«ä½ åŠ è½½è¿‡ç¨‹ä¿®æ”¹è¿‡çš„åŸå§‹æ•°æ®(ä¾‹å¦‚ï¼Œå˜æ¢ï¼Œè£å‰ª)ï¼Œå› ä¸ºä¸‹è½½è¿œç¨‹æ•°æ®ç›¸æ¯”è°ƒæ•´ç£ç›˜ä¸Šå·²ç»å­˜åœ¨çš„æ•°æ®è¦æ˜‚è´µçš„å¤šã€‚å¯¹äºæœ¬éƒ½æ•°æ®ï¼Œ<strong>AUTOMATIC</strong> ç­–ç•¥ä¼šå­˜å‚¨å˜æ¢è¿‡çš„ç¼©ç•¥å›¾ï¼Œå› ä¸ºå³ä½¿ä½ å†æ¬¡ç”Ÿæˆå¦ä¸€ä¸ªå°ºå¯¸æˆ–è€…ç±»å‹çš„å›¾ç‰‡ï¼Œå–å›åŸå§‹æ•°æ®ä¹Ÿæ˜¯å¾ˆå®¹æ˜“çš„ã€‚</p></blockquote><p><strong>ç±»å‹ä»‹ç»</strong></p><blockquote><p>DiskCacheStrategy.NONE: è¡¨ç¤ºä¸ç¼“å­˜ä»»ä½•å†…å®¹ã€‚</p><p>DiskCacheStrategy.DATA: åªç¼“å­˜åŸå§‹å›¾ç‰‡ã€‚</p><p>DiskCacheStrategy.RESOURCEï¼šè¡¨ç¤ºåªç¼“å­˜è½¬æ¢è¿‡åçš„å›¾ç‰‡ã€‚</p><p>DiskCacheStrategy.ALL:è¡¨ç¤ºæ—¢ç¼“å­˜åŸå§‹å›¾ç‰‡ï¼Œä¹Ÿç¼“å­˜è½¬æ¢è¿‡åçš„å›¾ç‰‡ã€‚</p><p>DiskCacheStrategy.AUTOMATIC: è¡¨ç¤ºè®©Gildeæ ¹æ®å›¾ç‰‡èµ„æºæ™ºèƒ½çš„é€‰æ‹©ä¸€ç§ç¼“å­˜ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰ã€‚</p></blockquote><p><strong>å¼•ç”¨</strong></p><p><a href="https://muyangmin.github.io/glide-docs-cn/doc/getting-started.html" target="_blank" rel="noopener">Glide</a></p><p><a href="https://www.jianshu.com/p/4f457a124d67" target="_blank" rel="noopener">Androidå›¾ç‰‡åŠ è½½æ¡†æ¶â€”â€”Glideï¼ˆGlide v4ï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Glide </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dagger-Hilt Androidçš„ä¾èµ–æ³¨å…¥æ¡†æ¶</title>
      <link href="/2020/11/11/Dagger-Hilt-Android%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A1%86%E6%9E%B6/"/>
      <url>/2020/11/11/Dagger-Hilt-Android%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="Hilt-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#Hilt-æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="Hilt æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>Hilt æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h1><p>å®ƒæ˜¯ Google ä¸ºAndroidå¼€å‘æä¾›çš„åœºæ™¯åŒ–ä¾èµ–åº“ï¼Œçš†åœ¨å‡å°‘é¡¹ç›®ä¸­è¿›è¡Œçš„æ‰‹åŠ¨ä¾èµ–æ³¨å…¥ã€‚</p><p>Hilt ä¸ºé¡¹ç›®ä¸­çš„æ¯ä¸ª Android ç±»æä¾›å®¹å™¨å¹¶è‡ªåŠ¨ç®¡ç†å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›äº† DIçš„æ ‡å‡†æ–¹æ³•ã€‚å®ƒæ˜¯ä» Dagger åº“çš„åŸºç¡€ä¸Šè¿›è¡Œæ„å»ºçš„ï¼Œå› ä¸º Daggeræä¾›çš„ç¼–è¯‘æ—¶æ­£ç¡®æ€§ã€è¿è¡Œæ—¶æ€§èƒ½ã€å¯ä¼¸ç¼©æ€§å¹¶ä¸”ä»AndroidStudioæ”¯æŒDaggerä¸­è·ç›Šã€‚</p><blockquote><p><strong>ç›¸æ¯”Daggerï¼ŒHiltæœ‰é‚£äº›ä¼˜åŒ–ï¼Ÿ</strong></p><p>Hiltçš„å®ç°è¦æ¯”Daggerç®€å•çš„å¤šï¼Œä½¿ç”¨Daggerå®ç°ä¾èµ–æ³¨å…¥ï¼Œéœ€è¦å»ç¼–å†™modulesã€componentsç­‰ç­‰ã€‚æ¯æ¬¡å»åˆ›å»ºä¸€ä¸ªæ–°çš„Androidç»„ä»¶ï¼Œæ¯”å¦‚ Activityã€Fragmentæ—¶ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†å®ƒä»¬æ‰‹åŠ¨æ·»åŠ åˆ°modulesä¸­ã€‚</p></blockquote><h1 id="ä½¿ç”¨-Hilt-å‰çš„å‡†å¤‡å·¥ä½œ"><a href="#ä½¿ç”¨-Hilt-å‰çš„å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä½¿ç”¨ Hilt å‰çš„å‡†å¤‡å·¥ä½œ"></a>ä½¿ç”¨ Hilt å‰çš„å‡†å¤‡å·¥ä½œ</h1><ul><li>æ·»åŠ ä¾èµ– åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ build.gradle æ–‡ä»¶</li></ul><pre><code>buildscript {    ...    dependencies {        ...        classpath &quot;com.google.dagger:hilt-android-gradle-plugin:2.28.3-alpha&quot;    }}</code></pre><ul><li>åœ¨é¡¹ç›®çš„åº”ç”¨çº§ç›®å½•ä¸‹ </li></ul><pre><code>...apply plugin: &#39;kotlin-kapt&#39;apply plugin: &#39;dagger.hilt.android.plugin&#39;android {    ...}dependencies {    implementation &quot;com.google.dagger:hilt-android:2.28-alpha&quot;    kapt &quot;com.google.dagger:hilt-android-compiler:2.28-alpha&quot;}</code></pre><p>Hilt ä½¿ç”¨Java8çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¯ç”¨å®ƒï¼Œåº”ç”¨æ¨¡å—ä¸‹ build.gradle æ–‡ä»¶æ·»åŠ ä»£ç ã€‚</p><pre><code class="groovy">android {  ...    compileOptions {        sourceCompatibility JavaVersion.VERSION_1_8        targetCompatibility JavaVersion.VERSION_1_8    }    // For Kotlin projects    kotlinOptions {        jvmTarget = &quot;1.8&quot;    }}</code></pre><blockquote><p><strong>æ³¨æ„</strong></p><p>åœ¨ Kotlin é¡¹ç›®ä¸­ï¼Œéœ€è¦æ·»åŠ  kotlinOptionsï¼Œå¦åˆ™ViewModelä¼šç¼–è¯‘ä¸é€šè¿‡ã€‚</p><p>éœ€è¦æ³¨æ„ä½¿ç”¨hilt å’Œdata bindingï¼Œéœ€è¦AndroidStudioçš„ç‰ˆæœ¬å¿…é¡»&gt;=4.0ã€‚</p></blockquote><p>Application æ˜¯ App çš„å…¥å£ï¼Œæ‰€æœ‰ä½¿ç”¨Hiltçš„Appå¿…é¡»åŒ…å«ä¸€ä¸ªä½¿ç”¨@HiltAndroidAppæ³¨è§£çš„Application</p><pre><code class="kotlin">@HiltAndroidAppclass HiltApplication : Application() {    /**     * 1. æ‰€æœ‰ä½¿ç”¨ Hilt çš„ App å¿…é¡»åŒ…å«ä¸€ä¸ªä½¿ç”¨ @HiltAndroidApp æ³¨è§£çš„ Application     * 2. @HiltAndroidApp å°†ä¼šè§¦å‘ Hilt ä»£ç çš„ç”Ÿæˆï¼ŒåŒ…æ‹¬ç”¨ä½œåº”ç”¨ç¨‹åºä¾èµ–é¡¹å®¹å™¨çš„åŸºç±»     * 3. ç”Ÿæˆçš„ Hilt ç»„ä»¶ä¾é™„äº Application çš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¹Ÿæ˜¯ App çš„çˆ¶ç»„ä»¶ï¼Œæä¾›å…¶ä»–ç»„ä»¶è®¿é—®çš„ä¾èµ–     * 4. åœ¨ Application ä¸­è®¾ç½®å¥½ @HiltAndroidApp ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ Hilt æä¾›çš„ç»„ä»¶äº†ï¼Œ     *    Hilt æä¾›çš„ @AndroidEntryPoint æ³¨è§£ç”¨äºæä¾› Android ç±»çš„ä¾èµ–ï¼ˆActivityã€Fragmentã€Viewã€Serviceã€BroadcastReceiverï¼‰ç­‰ç­‰     *    Application ä½¿ç”¨ @HiltAndroidApp æ³¨è§£     */}</code></pre><ol><li>@HiltAndroidAppä¼šè§¦å‘Hiltä»£ç çš„ç”Ÿæˆï¼ŒåŒ…æ‹¬ç”¨ä½œåº”ç”¨ç¨‹åºä¾èµ–å®¹å™¨çš„åŸºç±»</li><li>ç”Ÿæˆçš„Hiltç»„ä»¶ä¾é™„äºApplicationçš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¹Ÿæ˜¯Appçš„çˆ¶ç»„ä»¶ï¼Œæä¾›å…¶ä»–ç»„ä»¶è®¿é—®çš„ä¾èµ–ã€‚</li></ol><h1 id="ä½¿ç”¨-Hilt-è¿›è¡Œä¾èµ–æ³¨å…¥"><a href="#ä½¿ç”¨-Hilt-è¿›è¡Œä¾èµ–æ³¨å…¥" class="headerlink" title="ä½¿ç”¨ Hilt è¿›è¡Œä¾èµ–æ³¨å…¥"></a>ä½¿ç”¨ Hilt è¿›è¡Œä¾èµ–æ³¨å…¥</h1><p>æ³¨å…¥ HiltSimple å¹¶åœ¨ Application ä¸­è°ƒç”¨å®ƒçš„doSomethingæ–¹æ³•ã€‚</p><pre><code class="kotlin">class HiltSimple @Inject constructor() {    fun doSomething() {        Log.e(TAG, &quot;----doSomething----&quot;)    }}@HiltAndroidAppclass HiltApplication : Application() {    @Inject    lateinit var mHiltSimple: HiltSimple    override fun onCreate() {        super.onCreate()        mHiltSimple.doSomething()    }}</code></pre><p>Hilt éœ€è¦çŸ¥é“å¦‚ä½•ä»ç›¸å¯¹åº”çš„ç»„ä»¶ä¸­æä¾›å¿…è¦çš„ä¾èµ–å®ä¾‹ã€‚ä½¿ç”¨@Injectæ³¨è§£æ¥å‘Šè¯‰Hiltå¦‚ä½•æä¾›è¯¥ç±»çš„å®ä¾‹ï¼Œ@Inject å¸¸ç”¨äºæ„é€ å‡½æ•°ã€éç§æœ‰å­—æ®µã€æ–¹æ³•ã€‚</p><h1 id="Hilt-å¸¸ç”¨æ³¨è§£çš„å«ä¹‰"><a href="#Hilt-å¸¸ç”¨æ³¨è§£çš„å«ä¹‰" class="headerlink" title="Hilt å¸¸ç”¨æ³¨è§£çš„å«ä¹‰"></a>Hilt å¸¸ç”¨æ³¨è§£çš„å«ä¹‰</h1><h4 id="HiltAndroidApp"><a href="#HiltAndroidApp" class="headerlink" title="@HiltAndroidApp"></a>@HiltAndroidApp</h4><blockquote><p>1 æ‰€æœ‰ä½¿ç”¨HIltçš„Appå¿…é¡»åŒ…å«ä¸€ä¸ªä½¿ç”¨@HiltAndroidAppæ³¨è§£çš„Applicationã€‚</p><p>2 @HiltAndroidAppæ³¨è§£å°†ä¼šè§¦å‘Hiltä»£ç çš„ç”Ÿæˆï¼Œä½œä¸ºåº”ç”¨ç¨‹åºä¾èµ–é¡¹å®¹å™¨çš„åŸºç±»ã€‚</p><p>3 ç”Ÿæˆçš„Hiltç»„ä»¶ä¾é™„äºApplicationçš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¹Ÿæ˜¯Appçš„çˆ¶ç»„ä»¶ï¼Œæä¾›å…¶ä»–ç»„ä»¶è®¿é—®çš„ä¾èµ–ã€‚</p><p>4 åœ¨Applicationä¸­è®¾ç½®å·@HiltAndroidAppä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨Hiltæä¾›çš„ç»„ä»¶äº†ï¼Œç»„ä»¶åŒ…å«Applicaitonã€Activityã€Fragmentç­‰ã€‚</p></blockquote><h4 id="AndroidEntryPoint"><a href="#AndroidEntryPoint" class="headerlink" title="@AndroidEntryPoint"></a>@AndroidEntryPoint</h4><blockquote><p>Hilt æä¾›çš„@AndroidEntryPointæ³¨è§£ç”¨äºæä¾›Androidç±»çš„ä¾èµ–ï¼ˆActivityã€Fragmentã€Viewã€Serviceã€BroadcastReceiverï¼‰</p><p>ç‰¹æ®Šçš„Applicationä½¿ç”¨ @HiltAndroidAppæ³¨è§£ã€‚</p><ul><li><p>Activityï¼šæ”¯æŒComponentActivityçš„å­ç±»ä¾‹å¦‚FragmentActivityã€AppCompatActivityç­‰ã€‚</p></li><li><p>Fragmentï¼šæ”¯æŒ androidx.FragmentåŒ…ä¸‹çš„Fragmentã€‚</p></li><li><p>View</p></li><li><p>Service</p></li><li><p>BroadcastReceiver</p></li></ul></blockquote><h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><p>åœ¨ä½¿ç”¨@AndroidEntryPointåœ¨éComponentActivityå­ç±»ä¸Šæ³¨è§£ï¼Œä¾‹å¦‚Activityåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><pre><code class="groovy">Activities annotated with @AndroidEntryPoint must be a subclass of androidx.activity.ComponentActivity. (e.g. FragmentActivity, AppCompatActivity, etc.)</code></pre><p>ä½¿ç”¨@AndroidEntryPointæ³¨è§£æ—¶ï¼Œå¿…é¡»åœ¨å®ƒçš„ä¾èµ–çš„Androidç±»æ·»åŠ åŒæ ·çš„æ³¨è§£ï¼Œ<strong>ä¾‹å¦‚Fragmentä¸­æ·»åŠ @AndroidEntryPointæ³¨è§£ï¼Œå¿…é¡»åœ¨Fragmentä¾èµ–çš„Activityä¸Šä¹Ÿæ·»åŠ @AndroidEntryPointæ³¨è§£ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€æ ·ã€‚</strong></p><pre><code class="kotlin">java.lang.IllegalStateException: Hilt Fragments must be attached to an @AndroidEntryPoint Activity. Found: class com.hi.dhl.hilt.MainActivity</code></pre><h4 id="Module"><a href="#Module" class="headerlink" title="@Module"></a>@Module</h4><p>å°ç”¨äºåˆ›å»ºä¾èµ–ç±»çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ç¬¬ä¸‰æ–¹åº“ OkHttpã€Retrofitç­‰ç­‰ï¼‰ï¼Œä½¿ç”¨@Moduleæ³¨è§£çš„ç±»ï¼Œéœ€è¦ä½¿ç”¨@InstallInæ³¨è§£æŒ‡å®šèŒƒå›´moduleã€‚</p><pre><code class="kotlin">@Module@InstallIn(ApplicationComponent::class)// è¿™é‡Œä½¿ç”¨äº† ApplicationComponentï¼Œå› æ­¤ NetworkModule ç»‘å®šåˆ° Application çš„ç”Ÿå‘½å‘¨æœŸã€‚object NetworkModule {}</code></pre><h4 id="InstallIn"><a href="#InstallIn" class="headerlink" title="@InstallIn"></a>@InstallIn</h4><p>ä½¿ç”¨@Moduleæ³¨å…¥çš„ç±»ï¼Œä½¿ç”¨@InstallInæ³¨è§£æŒ‡å®šmoduleçš„èŒƒå›´ï¼Œä¾‹å¦‚ä½¿ç”¨@InstallIn(ActivityComponent::class)æ³¨è§£çš„moduleä¼šç»‘å®šåˆ°Activityçš„ç”Ÿå‘½å‘¨æœŸä¸Šã€‚</p><p>Hilt æä¾›äº†ä»¥ä¸‹ç»„ä»¶æ¥ç»‘å®šä¾èµ–ä¸å¯¹åº”çš„Androidç±»çš„æ´»åŠ¨èŒƒå›´ã€‚</p><table><thead><tr><th align="center">Hilt æä¾›ç»„ä»¶</th><th align="center">å¯¹åº”çš„Androidç±»æ´»åŠ¨èŒƒå›´</th></tr></thead><tbody><tr><td align="center">ApplicationComponent</td><td align="center">Application</td></tr><tr><td align="center">ActivityRetainedComponent</td><td align="center">ViewModel</td></tr><tr><td align="center">ActivityComponent</td><td align="center">Activity</td></tr><tr><td align="center">FragmentComponent</td><td align="center">Fragment</td></tr><tr><td align="center">ViewComponent</td><td align="center">View</td></tr><tr><td align="center">ViewWithFragmentComponent</td><td align="center">View annotated with @WithFragmentBindings</td></tr><tr><td align="center">ServiceComponent</td><td align="center">Service</td></tr></tbody></table><blockquote><p><strong>æ³¨æ„</strong></p><p>Hilt æ²¡æœ‰ä¸º broadcast receivers æä¾›ç»„ä»¶ï¼Œå› ä¸ºHiltç›´æ¥ä»ApplicationComponentæ³¨å…¥broadcast receiversã€‚</p></blockquote><p>Hilt ä¼šæ ¹æ®ç›¸åº”çš„ Android ç±»ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åˆ›å»ºå’Œé”€æ¯ç”Ÿæˆçš„ç»„ä»¶ç±»çš„å®ä¾‹ã€‚å¦‚ä¸‹ã€‚</p><table><thead><tr><th align="center">Hilt æä¾›çš„ç»„ä»¶</th><th align="center">åˆ›å»ºå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸ</th><th>é”€æ¯å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸ</th></tr></thead><tbody><tr><td align="center">ApplicationComponent</td><td align="center">Application#onCreate()</td><td>Application#onDestory()</td></tr><tr><td align="center">ActivityRetainedComponent</td><td align="center">Activity#onCreate()</td><td>Activity#onDestroy()</td></tr><tr><td align="center">ActivityComponent</td><td align="center">Activity#onCreate()</td><td>Activity#OnDestroy()</td></tr><tr><td align="center">FragmentComponent</td><td align="center">Fragment#OnAttach()</td><td>Fragment#onDestroy()</td></tr><tr><td align="center">ViewComponent</td><td align="center">View#super()</td><td>View destroyed</td></tr><tr><td align="center">ViewWithFragmentComponent</td><td align="center">View#super()</td><td>View destroyed</td></tr><tr><td align="center">ServiceComponent</td><td align="center">Service#onCreate()</td><td>Service#onDestroy()</td></tr></tbody></table><h4 id="Provides"><a href="#Provides" class="headerlink" title="@Provides"></a>@Provides</h4><p>å¸¸ç”¨äºè¢« @Module æ³¨è§£æ ‡è®°ç±»çš„å†…éƒ¨æ–¹æ³•ï¼Œå¹¶æä¾›ä¾èµ–é¡¹å¯¹è±¡ã€‚</p><pre><code class="kotlin">@Module@InstallIn(ApplicationComponent::class)// è¿™é‡Œä½¿ç”¨äº† ApplicationComponentï¼Œå› æ­¤ NetworkModule ç»‘å®šåˆ° Application çš„ç”Ÿå‘½å‘¨æœŸã€‚object NetworkModule {    /**     * @Provides å¸¸ç”¨äºè¢« @Module æ³¨è§£æ ‡è®°ç±»çš„å†…éƒ¨çš„æ–¹æ³•ï¼Œå¹¶æä¾›ä¾èµ–é¡¹å¯¹è±¡ã€‚     * @Singleton æä¾›å•ä¾‹     */    @Provides    @Singleton    fun provideOkHttpClient(): OkHttpClient {        return OkHttpClient.Builder()            .build()    }}</code></pre><h1 id="Hilt-åŒ-ç¬¬ä¸‰æ–¹ç»„ä»¶ä¸€èµ·ä½¿ç”¨"><a href="#Hilt-åŒ-ç¬¬ä¸‰æ–¹ç»„ä»¶ä¸€èµ·ä½¿ç”¨" class="headerlink" title="Hilt åŒ ç¬¬ä¸‰æ–¹ç»„ä»¶ä¸€èµ·ä½¿ç”¨"></a>Hilt åŒ ç¬¬ä¸‰æ–¹ç»„ä»¶ä¸€èµ·ä½¿ç”¨</h1><p>å¦‚æœä½ è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œéœ€è¦ä½¿ç”¨@Moduleæ³¨è§£ï¼Œä½¿ç”¨@Moduleæ³¨è§£çš„æ™®é€šç±»ï¼Œåœ¨å…¶ä¸­åˆ›å»ºç¬¬ä¸‰æ–¹ä¾èµ–çš„å¯¹è±¡ã€‚</p><pre><code class="kotlin">@Module@InstallIn(ApplicationComponent::class)// è¿™é‡Œä½¿ç”¨äº† ApplicationComponentï¼Œå› æ­¤ NetworkModule ç»‘å®šåˆ° Application çš„ç”Ÿå‘½å‘¨æœŸã€‚object NetworkModule {    /**     * @Provides å¸¸ç”¨äºè¢« @Module æ³¨è§£æ ‡è®°ç±»çš„å†…éƒ¨çš„æ–¹æ³•ï¼Œå¹¶æä¾›ä¾èµ–é¡¹å¯¹è±¡ã€‚     * @Singleton æä¾›å•ä¾‹     */    @Provides    @Singleton    fun provideOkHttpClient(): OkHttpClient {        return OkHttpClient.Builder()            .build()    }    @Provides    @Singleton    fun provideRetrofit(okHttpClient: OkHttpClient): Retrofit {        return Retrofit.Builder()            .client(okHttpClient)            .baseUrl(&quot;https://api.github.com/&quot;)            .addConverterFactory(GsonConverterFactory.create())            .build()    }    @Provides    @Singleton    fun provideGitHubService(retrofit: Retrofit): GitHubService {        return retrofit.create(GitHubService::class.java)    }}</code></pre><ul><li>@Module å¸¸ç”¨äºåˆ›å»ºä¾èµ–ç±»å¯¹è±¡ï¼ˆå¦‚OkHttpã€Retrofitç­‰ç­‰ï¼‰ã€‚</li><li>ä½¿ç”¨ @Moduleæ³¨å…¥çš„ç±»ï¼Œéœ€è¦ä½¿ç”¨@InstallInæ³¨è§£æŒ‡å®šmoduleçš„èŒƒå›´ï¼Œä¼šç»‘å®šåˆ°Androidç±»å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸä¸Šã€‚</li><li>@Provides å¸¸ç”¨äºæ ‡è®°ç±»çš„å†…éƒ¨æ–¹æ³•ï¼Œå¹¶æä¾›ä¾èµ–é¡¹å¯¹è±¡ã€‚</li></ul><h1 id="å½“éœ€è¦ä¸Šä¸‹æ–‡æ˜¯ä½¿ç”¨çš„æ³¨è§£ï¼ˆé¢„å®šä¹‰é™å®šç¬¦ï¼‰"><a href="#å½“éœ€è¦ä¸Šä¸‹æ–‡æ˜¯ä½¿ç”¨çš„æ³¨è§£ï¼ˆé¢„å®šä¹‰é™å®šç¬¦ï¼‰" class="headerlink" title="å½“éœ€è¦ä¸Šä¸‹æ–‡æ˜¯ä½¿ç”¨çš„æ³¨è§£ï¼ˆé¢„å®šä¹‰é™å®šç¬¦ï¼‰"></a>å½“éœ€è¦ä¸Šä¸‹æ–‡æ˜¯ä½¿ç”¨çš„æ³¨è§£ï¼ˆé¢„å®šä¹‰é™å®šç¬¦ï¼‰</h1><p>â€‹    HIltæä¾›äº†é¢„å®šä¹‰é™å®šç¬¦ã€‚ä¾‹å¦‚ï¼Œå½“ä½ éœ€è¦ä½¿ç”¨åº”ç”¨æˆ–è€…Activityçš„Contextç±»æ—¶ï¼ŒHiltæä¾›äº†<strong>@ApplicationContext</strong>å’Œ<strong>@ActivityContext</strong>é™å®šç¬¦ã€‚</p><p>å‡å¦‚,å½“å‰è¿™ä¸ªç±»éœ€è¦Activityçš„ä¸Šä¸‹æ–‡ã€‚</p><pre><code class="kotlin">class Test @Inject constructor(    @ActivityContext private val context: Context,    private val service: AnalyticsService) { ... }</code></pre><h5 id="å¼•ç”¨ï¼š"><a href="#å¼•ç”¨ï¼š" class="headerlink" title="å¼•ç”¨ï¼š"></a><strong>å¼•ç”¨</strong>ï¼š</h5><p><a href="https://juejin.im/post/6844904198803292173?utm_source=gold_browser_extension#heading-13" target="_blank" rel="noopener">Jetpack æ–°æˆå‘˜ Hilt å®è·µï¼ˆä¸€ï¼‰å¯ç¨‹è¿‡å‘è®°</a></p><p><a href="https://juejin.im/post/6845166890562617352" target="_blank" rel="noopener">Jetpack æ–°æˆå‘˜ Hilt ä¸ Dagger å¤§ä¸åŒï¼ˆä¸‰ï¼‰è½åœ°ç¯‡</a></p><p><a href="https://developer.android.com/training/dependency-injection/hilt-android?hl=zh-cn" target="_blank" rel="noopener">Hilt ä¸­çš„é¢„å®šä¹‰é™å®šç¬¦</a></p><p><a href="https://muyangmin.github.io/glide-docs-cn/javadocs/400/index-all.html" target="_blank" rel="noopener">JavaDoc-Glide</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Dagger </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è®©Firebaseä½¿ç”¨Kotlinåç¨‹</title>
      <link href="/2020/11/08/%E5%A6%82%E4%BD%95%E8%AE%A9Firebase%E4%BD%BF%E7%94%A8Kotlin%E5%8D%8F%E7%A8%8B/"/>
      <url>/2020/11/08/%E5%A6%82%E4%BD%95%E8%AE%A9Firebase%E4%BD%BF%E7%94%A8Kotlin%E5%8D%8F%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p><strong>å¼•ç”¨ï¼š</strong></p><p>â€‹    <a href="https://medium.com/better-programming/how-to-use-kotlin-coroutines-with-firebase-6f8577a3e00f" target="_blank" rel="noopener">How to Use Kotlin Coroutines With Firebase</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…‹éš† Spotify æ’­æ”¾å™¨</title>
      <link href="/2020/11/02/SpotifyClone/"/>
      <url>/2020/11/02/SpotifyClone/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ›å»ºé¡¹ç›®-SpotigyClone"><a href="#åˆ›å»ºé¡¹ç›®-SpotigyClone" class="headerlink" title="åˆ›å»ºé¡¹ç›® SpotigyClone"></a>åˆ›å»ºé¡¹ç›® SpotigyClone</h1><h5 id="åˆ›å»º-Song-ç±»"><a href="#åˆ›å»º-Song-ç±»" class="headerlink" title="åˆ›å»º Song ç±»"></a><strong>åˆ›å»º Song ç±»</strong></h5><pre><code class="kotlin">/** *   by:Thecara home *   date:2020/11/3 *   å­˜æ”¾ æ­Œæ›² *   è¿™é‡Œçš„å˜é‡åå­—è¦ä¸æ¥å£ä¸­çš„ç›¸åŒ */data class Song(    val mediaId: String = &quot;&quot;,    val title: String = &quot;&quot;,    val subtitle: String = &quot;&quot;,    val songUrl: String = &quot;&quot;,    val imageUrl: String = &quot;&quot;)</code></pre><blockquote><p>ç±»ä½ç½® â€œdata.entitiesâ€</p></blockquote><h5 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a><strong>æ·»åŠ ä¾èµ–</strong></h5><pre><code class="groovy">// Firebase Firestoreimplementation &#39;com.google.firebase:firebase-firestore:21.6.0&#39;implementation &#39;com.google.firebase:firebase-core:17.0.0&#39;// Firebase Storage KTX æ‚¨å¯ä»¥ä¸Šä¼ å’Œå…±äº«ç”¨æˆ·ç”Ÿæˆçš„å†…å®¹ï¼ˆå¦‚å›¾ç‰‡å’Œè§†é¢‘ï¼‰ç”¨äºä½¿ç”¨ firebase ä¸­çš„storageimplementation &#39;com.google.firebase:firebase-storage-ktx:19.2.0&#39;// Firebase Coroutines é€šè¿‡ Firebase Coroutines ä½¿Firebase å¯¹åç¨‹æ”¯æŒimplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.1.1&#39;</code></pre><h5 id="æ·»åŠ ä¾èµ–-1"><a href="#æ·»åŠ ä¾èµ–-1" class="headerlink" title="æ·»åŠ ä¾èµ–"></a><strong>æ·»åŠ ä¾èµ–</strong></h5><blockquote><p>æ ¹ç›®å½•ä¸‹çš„ build.gradle</p></blockquote><pre><code class="groovy">classpath &#39;com.google.gms:google-services:4.3.4&#39;</code></pre><h5 id="åˆ›å»º-MusicDatabse-ç±»"><a href="#åˆ›å»º-MusicDatabse-ç±»" class="headerlink" title="åˆ›å»º MusicDatabse ç±»"></a>åˆ›å»º MusicDatabse ç±»</h5><blockquote><p>â€œdata.remoteâ€ ä¸‹åˆ›å»º</p></blockquote><pre><code class="kotlin">/** *   by:Thecara home *   date:2020/11/3 *   è·å¾—firestore storage ä¸­çš„æ•°æ® */class MusicDatabase {    // è·å¾—firestoreçš„æ§åˆ¶    private val firestore = FirebaseFirestore.getInstance()    // è·å¾—å…ƒæ•°æ®    private val songCollection = firestore.collection(SONG_COLLECTION)    // ä¸ºå¼‚æ­¥æ“ä½œ åˆ›å»ºæŒ‚èµ·æ–¹æ³•    suspend fun getALLSongs(): List&lt;Song&gt; {        // ä» FireStore ä¸­è·å¾—æ­Œæ›²        return try {            // è·å¾—æ‰€æœ‰æ–‡æ¡£æ•°æ®ï¼ˆsong1ï¼Œsong2ç­‰ï¼‰            songCollection.get().await().toObjects(Song::class.java)        } catch (e: Exception) {            emptyList()        }    }}</code></pre><h5 id="åˆ›å»º-Constants-å­˜æ”¾å¸¸é‡"><a href="#åˆ›å»º-Constants-å­˜æ”¾å¸¸é‡" class="headerlink" title="åˆ›å»º Constants å­˜æ”¾å¸¸é‡"></a>åˆ›å»º Constants å­˜æ”¾å¸¸é‡</h5><pre><code class="kotlin">/** *   by:Thecara home *   date:2020/11/3 */object Constants {    const val SONG_COLLECTION = &quot;songs&quot;}</code></pre>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Firebase è®²è§£</title>
      <link href="/2020/10/29/Firebase-%E8%AE%B2%E8%A7%A3/"/>
      <url>/2020/10/29/Firebase-%E8%AE%B2%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="AndroidStudio-æ·»åŠ -Firebase-é€‰é¡¹"><a href="#AndroidStudio-æ·»åŠ -Firebase-é€‰é¡¹" class="headerlink" title="AndroidStudio æ·»åŠ  Firebase é€‰é¡¹"></a>AndroidStudio æ·»åŠ  Firebase é€‰é¡¹</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201029230255.png" alt="ä½¿ç”¨æ—¶å¯èƒ½ä¼šæ²¡æœ‰ firebase é€‰é¡¹"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201029230927.png" alt="settings æ·»åŠ  plug-in"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201029231529.png" alt="é€‰æ‹©æ·»åŠ  Firebase Services"></p><h1 id="åˆ›å»º-Firebase-é¡¹ç›®"><a href="#åˆ›å»º-Firebase-é¡¹ç›®" class="headerlink" title="åˆ›å»º Firebase é¡¹ç›®"></a>åˆ›å»º Firebase é¡¹ç›®</h1><blockquote><p>å‡†å¤‡å¥½ google è´¦å·</p></blockquote><p><strong>æ‰“å¼€ Firebase</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-11-2-0.gif" alt=""></p><p><strong>è¿›å…¥æ§åˆ¶å°</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004348.png" alt=""></p><p><strong>é€‰æ‹©é¡¹ç›®åç§°</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004431.png" alt="create a firebase"></p><p><strong>ç»§ç»­</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004513.png" alt=""></p><p><strong>é€‰æ‹©é»˜è®¤è´¦æˆ·æˆ–è€…åˆ›å»º</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004549.png" alt=""></p><p><strong>ç¨ç­‰ç‰‡åˆ»</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004649.png" alt=""></p><p><strong>å®Œæˆ</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004812.png" alt=""></p><h1 id="åˆ é™¤-Firebase-é¡¹ç›®"><a href="#åˆ é™¤-Firebase-é¡¹ç›®" class="headerlink" title="åˆ é™¤ Firebase é¡¹ç›®"></a>åˆ é™¤ Firebase é¡¹ç›®</h1><p><strong>ç‚¹å‡»è®¾ç½®</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102004958.png" alt=""></p><p><strong>é€‰æ‹©é¡¹ç›®è®¾ç½®</strong></p><p><strong>ç¿»åˆ°æœ€åº•éƒ¨</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102005205.png" alt=""></p><p><strong>åˆ é™¤é¡¹ç›®ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201102005613.png" alt=""></p><h1 id="åœ¨-CloudFireStoreä¸­æ·»åŠ -å…ƒæ•°æ®"><a href="#åœ¨-CloudFireStoreä¸­æ·»åŠ -å…ƒæ•°æ®" class="headerlink" title="åœ¨ CloudFireStoreä¸­æ·»åŠ  å…ƒæ•°æ®"></a>åœ¨ CloudFireStoreä¸­æ·»åŠ  å…ƒæ•°æ®</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131055.png" alt="é€‰æ‹©Cloud Firestore"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131130.png" alt="ç‚¹å‡» â€œå¼€å§‹æ”¶é›†â€"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131210.png" alt="æ·»åŠ  é›†åˆåå­—"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131719.png" alt="æ·»åŠ  æ–‡æ¡£ç§°å‘¼"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131546.png" alt="ç‚¹å‡»æ·»åŠ å­—æ®µ ç›´æ¥æ·»åŠ å­—æ®µå³å¯"></p><h1 id="å°†-Storageä¸­çš„æ•°æ®é“¾æ¥æ·»åŠ åˆ°å…ƒæ•°æ®ä¸­"><a href="#å°†-Storageä¸­çš„æ•°æ®é“¾æ¥æ·»åŠ åˆ°å…ƒæ•°æ®ä¸­" class="headerlink" title="å°† Storageä¸­çš„æ•°æ®é“¾æ¥æ·»åŠ åˆ°å…ƒæ•°æ®ä¸­"></a>å°† Storageä¸­çš„æ•°æ®é“¾æ¥æ·»åŠ åˆ°å…ƒæ•°æ®ä¸­</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104131958.png" alt="ç‚¹å‡»ä¸Šä¼ æ–‡ä»¶"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-11-4-2.gif" alt="é€‰æ‹©è¦æ·»åŠ çš„å…ƒæ•°æ®è¿æ¥"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201104152013.png" alt="ç²˜è´´å³å¯"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EC</title>
      <link href="/2020/10/29/EC/"/>
      <url>/2020/10/29/EC/</url>
      
        <content type="html"><![CDATA[<h3 id="åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šè¯æ€§-ï¼Œä¸€ä¸ªå•æ¬¡çš„åˆ†ç±»"><a href="#åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šè¯æ€§-ï¼Œä¸€ä¸ªå•æ¬¡çš„åˆ†ç±»" class="headerlink" title="åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šè¯æ€§ ï¼Œä¸€ä¸ªå•æ¬¡çš„åˆ†ç±»"></a>åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šè¯æ€§ ï¼Œä¸€ä¸ªå•æ¬¡çš„åˆ†ç±»</h3><p><strong>è‹±è¯­å•è¯å…±åˆ†ä¸¤ç±»:</strong>è™šè¯å’Œå®è¯</p><p>è™šè¯ï¼šæ²¡æœ‰å…·ä½“å«ä¹‰ã€‚</p><p>å®è¯ï¼šæœ‰å®é™…çš„æ„ä¹‰ã€‚</p><h4 id="è™šè¯"><a href="#è™šè¯" class="headerlink" title="è™šè¯"></a>è™šè¯</h4><p>è™šè¯å…±åˆ†ä¸¤ç±»ï¼š</p><blockquote><p>ä»‹è¯ï¼š in at on ï¼ˆå¯ç¿»è¯‘ä¸º åœ¨ï¼‰</p><p>è¿è¯ï¼šend but or ï¼ˆå’Œã€ä½†æ˜¯ã€æˆ–è€…ï¼‰</p></blockquote><h4 id="å®è¯"><a href="#å®è¯" class="headerlink" title="å®è¯"></a>å®è¯</h4><p>å®è¯å…±åˆ†å››å¤§ç±»ï¼š</p><blockquote><p>åè¯ï¼šç”¨æ¥è¡¨è¾¾ä¸€ä»¶ä¸œè¥¿çš„åç§°çš„è¯ã€‚ï¼ˆèŠ±ã€è‰ã€æ ‘æœ¨ç­‰éƒ½è¡¨ç¤ºåè¯ï¼‰</p><p>åŠ¨è¯ï¼šè¡¨ç¤ºè¿åŠ¨çš„è¯ã€‚ï¼ˆè·‘ã€è¹²ä¸‹ï¼‰</p><p>å½¢å®¹è¯ï¼šç”¨æ¥ä¿®é¥°åè¯çš„è¯ã€‚ï¼ˆç¾ä¸½çš„å¥³å­©ã€‚ç¾ä¸½å½¢å®¹è¯ï¼‰</p><p>å‰¯è¯ï¼šè¾…åŠ©ä½œç”¨çš„è¯ã€‚è¡¨è¡Œä¸ºæˆ–è€…çŠ¶æ€ã€‚ï¼ˆä¿®é¥°åè¯ä»¥å¤–æ‰€æœ‰çš„è¯ã€‚<strong>å¤§å£°</strong>çš„å”±æ­Œï¼‰</p></blockquote><h4 id="ä¸å®šæ—¶"><a href="#ä¸å®šæ—¶" class="headerlink" title="ä¸å®šæ—¶"></a>ä¸å®šæ—¶</h4><blockquote><p>to do</p></blockquote><h3 id="åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šå¥å­æˆåˆ†"><a href="#åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šå¥å­æˆåˆ†" class="headerlink" title="åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šå¥å­æˆåˆ†"></a>åŸºæœ¬çš„è¯­æ³•æ¦‚å¿µï¼šå¥å­æˆåˆ†</h3><p><strong>æ³¨æ„ï¼š</strong>å¥å­æˆåˆ†å’Œè¯æ€§æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><h1 id="è‹±è¯­çš„äº”å¤§å¥å‹"><a href="#è‹±è¯­çš„äº”å¤§å¥å‹" class="headerlink" title="è‹±è¯­çš„äº”å¤§å¥å‹"></a>è‹±è¯­çš„äº”å¤§å¥å‹</h1><h2 id="ç³»åŠ¨è¯-ä¸»è¯­-ç³»åŠ¨è¯-è¡¨è¯­"><a href="#ç³»åŠ¨è¯-ä¸»è¯­-ç³»åŠ¨è¯-è¡¨è¯­" class="headerlink" title="ç³»åŠ¨è¯ ä¸»è¯­+ç³»åŠ¨è¯+è¡¨è¯­"></a>ç³»åŠ¨è¯ ä¸»è¯­+ç³»åŠ¨è¯+è¡¨è¯­</h2><h3 id="ä»€ä¹ˆæ˜¯ä¸»ç³»è¡¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸»ç³»è¡¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸»ç³»è¡¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯<strong>ä¸»ç³»è¡¨</strong>ï¼Ÿ</h3><ul><li>ä¸»ï¼šå¥å­çš„ä¸»ä½“ã€‚</li><li>ç³»ï¼šç³»åŠ¨è¯ï¼Œç‰¹æ®Šçš„åŠ¨è¯ï¼ˆç‰¹æ®Šçš„è°“è¯­å±äºåŠ¨è¯çš„ä¸€ç§ï¼‰ï¼Œ<strong>åœ¨å¥å­ä¸­åšè°“è¯­çš„åŠ¨è¯æ²¡æœ‰å®é™…æ„ä¹‰å°±å±äºç³»åŠ¨è¯ã€‚</strong></li></ul><blockquote><p>æ±‰è¯­ä¸­è¡¨ç¤º â€œæ˜¯â€ â€œä¸ºâ€ï¼Œè‹±è¯­ä¸­è¡¨ç¤º amï¼Œis ï¼Œareã€‚</p><p>åœ¨å¥å­ä¸­èµ·è”ç³»çš„ä½œç”¨å°±å«åšç³»åŠ¨è¯ã€‚</p><p>linking verb è”ç³»åŠ¨è¯</p></blockquote><ul><li>è¡¨ï¼š</li></ul><blockquote><p>è¡¨è¯­ã€‚<strong>è¡¥å……è¯´æ˜ä¸»è¯­çš„æ€§è´¨å«åšè¡¨è¯­</strong>ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201030150702.png" alt=""></p><p><strong>å¦‚ä½•åˆ¤æ–­å¥å­æ˜¯å¦æ˜¯ä¸»ç³»è¡¨ç»“æ„</strong></p><blockquote><p>ç”¨ä¸­æ–‡çš„æ–¹å¼åˆ¤æ–­å¥å­é‡Œçš„è°“è¯­ï¼Œå¯å¦ä½¿ç”¨â€œæ˜¯â€ï¼Œæˆ–è€…â€œä¸ºâ€æ¥ç¿»è¯‘ã€‚</p></blockquote><p>åˆ—å¦‚ï¼š</p><blockquote><p>I am a good persion</p><p>am å¯ä»¥ç†è§£ä¸º â€œæ˜¯â€ã€‚è¿™æ˜¯ä¸»ç³»è¡¨</p><p>I become a good persion</p><p>become ç†è§£ä¸º â€œæˆä¸ºâ€  â€œä¸ºâ€ã€‚ä¹Ÿæ˜¯ä¸»ç³»è¡¨ç»“æ„</p></blockquote><h3 id="ç³»åŠ¨è¯å…±åˆ†ç±»å››ç±»"><a href="#ç³»åŠ¨è¯å…±åˆ†ç±»å››ç±»" class="headerlink" title="ç³»åŠ¨è¯å…±åˆ†ç±»å››ç±»"></a>ç³»åŠ¨è¯å…±åˆ†ç±»å››ç±»</h3><h4 id="1-be-åŠ¨è¯-ï¼ˆamã€-isã€-areã€è¿‡å»-wasã€were-ã€å°†æ¥-willã€beï¼‰"><a href="#1-be-åŠ¨è¯-ï¼ˆamã€-isã€-areã€è¿‡å»-wasã€were-ã€å°†æ¥-willã€beï¼‰" class="headerlink" title="1.be åŠ¨è¯ ï¼ˆamã€ isã€ areã€è¿‡å» wasã€were ã€å°†æ¥ willã€beï¼‰"></a>1.be åŠ¨è¯ ï¼ˆamã€ isã€ areã€è¿‡å» wasã€were ã€å°†æ¥ willã€beï¼‰</h4><p>amã€ isã€ are</p><p>è¿‡å» wasã€were </p><p>å°†æ¥ willã€be</p><h5 id="BeåŠ¨è¯åè·Ÿä¸‰å¤§ç±»-è¡¨è¯­"><a href="#BeåŠ¨è¯åè·Ÿä¸‰å¤§ç±»-è¡¨è¯­" class="headerlink" title="BeåŠ¨è¯åè·Ÿä¸‰å¤§ç±» è¡¨è¯­"></a>BeåŠ¨è¯åè·Ÿä¸‰å¤§ç±» è¡¨è¯­</h5><ul><li><strong>åè¯</strong></li></ul><blockquote><p><strong>åè¯åšè¡¨è¯­</strong>ï¼Œå¯ä»¥åŒæ±‰è¯­å®Œå…¨å¯¹åº”ï¼Œ<strong>be åŠ¨è¯ç¿»è¯‘æˆæ±‰è¯­çš„æ˜¯</strong>ã€‚</p></blockquote><p>Tim is an engineer</p><p>è’‚å§†æ˜¯ä¸ªå·¥ç¨‹å¸ˆ</p><p>The price is a Â£ 2000</p><p>ä»·æ ¼æ˜¯ 2000 è‹±é•‘</p><ul><li><strong>å½¢å®¹è¯</strong></li></ul><blockquote><p>å’Œæ±‰è¯­ä¸åŒï¼Œ<strong>be åŠ¨è¯ä¸ä¼šè¢«ç¿»è¯‘å‡ºæ¥</strong>ï¼Œ<strong>ç›´æ¥è¢«çœç•¥ä»‹è¯çŸ­è¯­ä¹Ÿç›¸å½“äºå½¢å®¹è¯ã€‚</strong></p></blockquote><p>The play was very interesting.</p><p>æˆå¾ˆæœ‰æ„æ€</p><blockquote><p>The playï¼šæˆå‰§ã€æˆ</p><p>was very interestingï¼šå¾ˆæœ‰æ„æ€</p></blockquote><p>The milk is in the refrigerator.</p><p>ç‰›å¥¶åœ¨å†°ç®±é‡Œ</p><blockquote><p>in the refrigeratorï¼šåœ¨å†°ç®±é‡Œï¼Œç”¨æ¥å½¢å®¹ The milk ï¼ˆç‰›å¥¶ï¼‰ã€‚ä»‹è¯çŸ­è¯­å¯ä»¥ç”¨æ¥åšå½¢å®¹è¯</p><p>è¿™æ˜¯<strong>ä¸»ç³»è¡¨</strong>ç»“æ„</p></blockquote><ul><li><strong>åœ°ç‚¹å‰¯è¯</strong>    </li></ul><blockquote><p>åªèƒ½æ¥<strong>åœ°ç‚¹åŠ¨è¯</strong>ã€‚</p></blockquote><p>Your sister is here there daysã€‚</p><p>ä½ å§å§è¿™æ®µåœ¨è¿™å„¿ã€‚</p><h4 id="2-çŠ¶æ€ä¿æŒåŠ¨è¯-ï¼ˆkeepã€remainã€stayï¼‰"><a href="#2-çŠ¶æ€ä¿æŒåŠ¨è¯-ï¼ˆkeepã€remainã€stayï¼‰" class="headerlink" title="2.çŠ¶æ€ä¿æŒåŠ¨è¯ ï¼ˆkeepã€remainã€stayï¼‰"></a>2.çŠ¶æ€ä¿æŒåŠ¨è¯ ï¼ˆkeepã€remainã€stayï¼‰</h4><blockquote><p>è¿™ä¸‰ä¸ªè¯ååªèƒ½åŠ <strong>å½¢å®¹è¯ä½œè¡¨è¯­</strong>ï¼Œå¯ä»¥å’Œ be æ— é™åˆ‡æ¢ã€‚</p></blockquote><p>you should <strong>keep</strong> quietï¼ï¼ˆyou should <strong>be</strong> quietï¼ï¼‰</p><p>ä½ åº”è¯¥ä¿æŒå®‰é™ï¼</p><p>No one can <strong>remain</strong> youthful forever ï¼ˆNo one can <strong>be</strong> youthful foreverï¼‰</p><p>æ²¡æœ‰äººèƒ½æ°¸è‘†é’æ˜¥</p><p>The weather <strong>stayed</strong> fine for a week ï¼ˆThe weather <strong>was</strong> fine for a week ã€‚wasï¼šè¿‡å»å¼ï¼‰</p><p>è¿™ä¸ªæ˜ŸæœŸå¤©æ°”ä¸€ç›´å¾ˆå¥½ã€‚</p><h4 id="3-çŠ¶æ€è½¬å˜ç±»åŠ¨è¯ï¼ˆbecomeã€getã€goã€comeã€growã€turnï¼‰"><a href="#3-çŠ¶æ€è½¬å˜ç±»åŠ¨è¯ï¼ˆbecomeã€getã€goã€comeã€growã€turnï¼‰" class="headerlink" title="3.çŠ¶æ€è½¬å˜ç±»åŠ¨è¯ï¼ˆbecomeã€getã€goã€comeã€growã€turnï¼‰"></a>3.çŠ¶æ€è½¬å˜ç±»åŠ¨è¯ï¼ˆbecomeã€getã€goã€comeã€growã€turnï¼‰</h4><ul><li><strong>become</strong>æ˜¯ä¸€ä¸ªä¸‡èƒ½è¯ï¼Œæ—¢å¯ä»¥è¡¨ç¤ºâ€œå˜æˆâ€ï¼Œè¿™æ—¶å€™åé¢åªèƒ½æ¥åè¯ã€‚åŒæ—¶ä¹Ÿå¯ä»¥è¡¨ç¤ºâ€œ<strong>å˜å¾—</strong>â€ï¼Œåé¢æ¥å½¢å®¹è¯ã€‚</li></ul><p>He <strong>become</strong> a weather.</p><p>ä»–æˆä¸ºäº†ä¸€åæ•™å¸ˆã€‚</p><p>He <strong>become</strong> very nervous.</p><p>ä»–å˜å¾—å¾ˆç´§å¼ ã€‚</p><ul><li><strong>get</strong>è¡¨ç¤ºâ€œå˜å¾—æ€æ ·â€,åè¾¹è¿™èƒ½æ¥å½¢å®¹è¯ã€‚</li></ul><p>He got very angry.</p><p>ä»–å˜å¾—éå¸¸ç”Ÿæ°”</p><ul><li>come è¿™ä¸ªè¯çš„æœ¬æ„æ˜¯æ¥ï¼Œä»€ä¹ˆä¸œè¥¿ä¼šæ¥ï¼Œå½“ç„¶æ˜¯å¥½çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¸€èˆ¬comeå«æœ‰â€œå˜å¥½â€çš„æ„æ€ã€‚</li></ul><p>Thing will <strong>come</strong> right.</p><p>äº‹æƒ…ä¼šå˜å¥½ã€‚</p><ul><li><strong>go</strong> è¡¨ç¤ºèµ°ï¼Œä½ å¸Œæœ›çš„ä¸œè¥¿ä½ ç¦»è€Œå»ï¼Ÿå½“ç„¶æ˜¯åçš„ä¸œè¥¿ç¦»ä½ è€Œå»ï¼Œæ‰€ä»¥è¡¨è¾¾â€œå˜åâ€ï¼Œå¯ä»¥ç”¨go</li></ul><p>The meat always <strong>goes</strong> bad in summer.</p><p>è‚‰åœ¨å¤å¤©å¸¸å¸¸ä¼šå˜å</p><ul><li>å¦‚æœä½ è¦è¡¨ç¤ºâ€œæ…¢æ…¢å˜â€ï¼Œä½¿ç”¨ <strong>grow</strong>ï¼Œæœ¬æ„è¡¨ç¤º grow æ˜¯ç”Ÿé•¿çš„æ„æ€ï¼Œæ…¢æ…¢é•¿å¤§ã€‚</li></ul><p>The weather <strong>grew</strong> cold in the night.</p><p>æ™šä¸Šå¤©æ°”æ…¢æ…¢å˜å†·ã€‚</p><ul><li>è¦è¡¨è¾¾<strong>â€œå¿«é€Ÿå˜â€</strong>ï¼Œåº”è¯¥ç”¨turnã€‚å› ä¸ºturnæœ¬æ„ä¸ºè½¬èº«ï¼Œä¸€ä¸‹å­è½¬è¿‡å»</li></ul><p>His face <strong>turned</strong> pale.</p><p>ä»–è„¸è‰²å˜å¾—è‹ç™½</p><h4 id="4-æ„Ÿå®˜åŠ¨è¯ï¼ˆlookã€soundã€smellã€tasteã€feelï¼‰"><a href="#4-æ„Ÿå®˜åŠ¨è¯ï¼ˆlookã€soundã€smellã€tasteã€feelï¼‰" class="headerlink" title="4.æ„Ÿå®˜åŠ¨è¯ï¼ˆlookã€soundã€smellã€tasteã€feelï¼‰"></a>4.æ„Ÿå®˜åŠ¨è¯ï¼ˆlookã€soundã€smellã€tasteã€feelï¼‰</h4><blockquote><p>äº”ä¸ªåŠ¨è¯ï¼Œä¸€å¾‹ç¿»è¯‘ä¸º â€œâ€¦èµ·æ¥â€ï¼Œâ€œçœ‹èµ·æ¥ï¼Œå¬èµ·æ¥ï¼Œé—»èµ·æ¥ï¼Œå°èµ·æ¥ï¼Œæ„Ÿè§‰èµ·æ¥ï¼ˆæ„Ÿåˆ°ï¼‰â€ï¼Œåé¢åªèƒ½æ¥å½¢å®¹è¯ï¼ˆç›¸å½“äºå½¢å®¹è¯çš„åˆ†è¯ï¼‰ä½œè¡¨è¯­ã€‚</p></blockquote><p>I <strong>felt</strong> very nervous when I went into this office.</p><p>æˆ‘èµ°åˆ°ä»–çš„åŠå…¬å®¤ï¼Œæ„Ÿåˆ°éå¸¸ç´§å¼ ã€‚</p><p>He <strong>looked</strong> very angry.</p><p>ä»–çœ‹ä¸Šå»éå¸¸æ°”æ„¤ã€‚</p><p>They were all hungry and the food <strong>smelled</strong> good.ï¼ˆwereï¼šbeåŠ¨è¯è¿‡å»å¼ï¼Œå¯ä»¥ä¸åšç¿»è¯‘ï¼‰</p><p>ä»–ä»¬å…¨éƒ½é¥¿äº†ï¼Œé¥­èœæ•£å‘å‡ºé˜µé˜µé¦™æ°”ã€‚</p><p>The sun <strong>looks like</strong> an orange globe.</p><p>å¤ªé˜³çœ‹ä¸Šå»åƒæ©™è‰²çš„çƒä½“ã€‚</p><blockquote><p>ğŸ‘† æ„Ÿå®˜åŠ¨è¯åï¼Œç»ä¸èƒ½ç›´æ¥åŠ åè¯åšè¡¨è¯­ï¼Œå¦‚æœè¦åŠ åè¯ï¼Œå¿…é¡»ç”¨ï¼š<strong>æ„Ÿå®˜åŠ¨è¯+ä»‹è¯like+åè¯</strong>ï¼Œæ­¤æ—¶ç¿»è¯‘ä¸ºâ€œåƒâ€¦â€ã€‚</p></blockquote><h3 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201030230419.png" alt="å¥å­"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201030230512.png" alt="ç­”æ¡ˆ"></p><h2 id="ä¸åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­"><a href="#ä¸åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­" class="headerlink" title="ä¸åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­"></a>ä¸åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­</h2><h3 id="ä»€ä¹ˆæ˜¯ä¸»-è°“ç»“æ„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸»-è°“ç»“æ„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸»+è°“ç»“æ„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¸»+è°“ç»“æ„ï¼Ÿ</h3><blockquote><p>é€šå¸¸ä¸»è°“ååº”è¯¥åŠ å®¾è¯­ã€‚å½“ä¸»è°“åŠ åœ¨ä¸€èµ·ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå¥å­ã€‚</p><p>ä¾‹å¦‚ï¼šæˆ‘ç¬‘äº† </p><p>â€œæˆ‘â€å’ŒåŠ¨è¯â€œç¬‘äº†â€ç»„æˆäº†å¥å­ï¼Œâ€œæˆ‘â€æ˜¯ä¸»è¯­ï¼Œâ€œç¬‘äº†â€æ˜¯è°“è¯­ï¼Œâ€œç¬‘äº†â€æ˜¯ä¸åŠç‰©åŠ¨è¯æ‰€ä»¥å°±ç»„æˆäº†å¥å­ã€‚</p><p>æ±‰è¯­ï¼šæˆ‘è·³èˆå¥¹ã€‚</p><p>è‹±è¯­ï¼šI dance her.</p><p>ä¸»è°“ç»“æ„åŒæ±‰è¯­ç›¸åŒã€‚åœ¨æ±‰è¯­ä¸­ æˆ‘è·³èˆå¥¹ æ˜¯ä¸åˆç†çš„åŒæ ·è‹±è¯­è¿™æ ·è¡¨è¾¾ä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚</p><p>I dance.</p></blockquote><h3 id="è°“è¯­"><a href="#è°“è¯­" class="headerlink" title="è°“è¯­"></a>è°“è¯­</h3><p><em>åè¯</em></p><ol><li>è¯­æ³•å­¦ä¸­æŒ‡å¯¹ä¸»è¯­åŠ ä»¥é™ˆè¿°çš„æˆåˆ†ï¼Œè¡¨ç¤ºä¸»è¯­ã€Œæ€ä¹ˆæ ·ã€æˆ–ã€Œæ˜¯ä»€ä¹ˆã€ã€‚ä¸€èˆ¬çš„å¥å­éƒ½åŒ…æ‹¬ä¸»è¯­ã€è°“è¯­ï¼Œæ±‰è¯­ä¸­è°“è¯­ä¸€èˆ¬åœ¨ä¸»è¯­åé¢ã€‚å¦‚ã€Œæˆ‘æ˜¯å­¦ç”Ÿã€ä¸­ã€Œæ˜¯å­¦ç”Ÿã€æ˜¯è°“è¯­ã€‚</li></ol><h3 id="å‡ºç°ä¸»è°“ç»“æ„çš„åŸå› ï¼"><a href="#å‡ºç°ä¸»è°“ç»“æ„çš„åŸå› ï¼" class="headerlink" title="å‡ºç°ä¸»è°“ç»“æ„çš„åŸå› ï¼"></a>å‡ºç°ä¸»è°“ç»“æ„çš„åŸå› ï¼</h3><blockquote><p>å› ä¸ºæœ‰ä¸åŠç‰©åŠ¨è¯ã€‚</p><p>å…¶ä¸­<strong>ä¸åŠç‰©åŠ¨è¯ç»„æˆä¸»è°“ç»“æ„</strong>ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯ä¸åŠç‰©åŠ¨è¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸åŠç‰©åŠ¨è¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸åŠç‰©åŠ¨è¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¸åŠç‰©åŠ¨è¯ï¼Ÿ</h3><blockquote><p>intransitive verbï¼Œç®€ç§°ï¼švi.</p><p>å®ƒæœ¬èº«æ„ä¹‰å°±æ˜¯å®Œå…¨çš„ï¼Œæ²¡æœ‰ä½œç”¨å¯¹è±¡ï¼Œ<strong>ä¸éœ€è¦åŠ å®¾è¯­å°±èƒ½æ„æˆå®Œæ•´å¥å­</strong>ï¼Œä¾‹å¦‚ï¼šæ¸¸æ³³ã€å‡ºç”Ÿã€ç¬‘ã€åšæ¢¦ã€‚</p></blockquote><h3 id="å¦‚ä½•åˆ¤æ–­ä¸åŠç‰©åŠ¨è¯ï¼Ÿ"><a href="#å¦‚ä½•åˆ¤æ–­ä¸åŠç‰©åŠ¨è¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸åŠç‰©åŠ¨è¯ï¼Ÿ"></a>å¦‚ä½•åˆ¤æ–­ä¸åŠç‰©åŠ¨è¯ï¼Ÿ</h3><blockquote><p>å¦‚ä½•åˆ¤æ–­ï¼Œ<strong>æŠŠè¿™ä¸ªåŠ¨è¯å‰åŠ ä¸Šâ€œè¢«â€</strong>ï¼Œçœ‹å®ƒçš„å¯“æ„æ˜¯å¦åˆç†ã€‚</p><p>æ­£å¸¸åˆ™ä¸ºåŠç‰©åŠ¨è¯ï¼Œä¸æ­£å¸¸åˆ™ä¸ºä¸åŠç‰©åŠ¨è¯ã€‚</p><p>ä¾‹å¦‚ï¼šè¢«æ‰“ã€è¢«å–œæ¬¢ã€è¢«å¤„ç½šã€‚å¦‚æœè¯´ï¼šè¢«è·³èˆã€è¢«åšæ¢¦ã€è¢«ç¬‘ï¼Œåˆ™ä¸ºä¸åŠç‰©åŠ¨è¯ã€‚</p></blockquote><h4 id="çŠ¶è¯­"><a href="#çŠ¶è¯­" class="headerlink" title="çŠ¶è¯­"></a>çŠ¶è¯­</h4><blockquote><p>è¯´æ˜è¿™ä¸ªåŠ¨ä½œå‘ç”Ÿçš„æ—¶é—´ã€åœ°ç‚¹ã€ç›®çš„ã€ä»¥åŠçŠ¶æ€ç­‰ã€‚</p><p>è¡¨ç¤º æ—¶é—´ã€åœ°ç‚¹å’Œæ–¹å¼çš„å¥å­æˆåˆ†å°±å«åšçŠ¶è¯­ã€‚</p></blockquote><h3 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h3><ul><li><strong>è¿™ä¸ªå¥å¼å¤šå¸¦æœ‰çŠ¶è¯­ï¼Œæ¥è¿›ä¸€æ­¥è¯´æ˜è¿™ä¸ªåŠ¨ä½œå‘ç”Ÿçš„æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œç›®çš„ã€‚</strong></li></ul><p>Detectives were waiting at the airport all morning .</p><p>They were talking loudly.</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031170041.png" alt=""></p><ul><li><strong>å¾ˆå¤šåŠ¨è¯ï¼Œæœ¬èº«æ—¢å¯ä»¥ä½œä¸åŠç‰©åŠ¨è¯ï¼Œä¹Ÿå¯ä»¥åšåŠç‰©åŠ¨è¯ï¼Œé™¤å•¦ä¸Šè¿°æ–¹æ³•å¤–ï¼Œè¿˜è¦åœ¨è¯­å¢ƒä¸­åˆ¤æ–­</strong></li></ul><h3 id="ç»ƒä¹ é¢˜-1"><a href="#ç»ƒä¹ é¢˜-1" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031110943.png" alt="é¢˜ç›®"></p><p>The birds         sing         happily.</p><p>The rain     will stop     in the afternoon.</p><p>The children     are playing         in the park</p><p>My teacher         passed away     in the hospital         yesterday.</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031162342.png" alt=""></p><h2 id="åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­-å®¾è¯­"><a href="#åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­-å®¾è¯­" class="headerlink" title="åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­+å®¾è¯­"></a>åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­+å®¾è¯­</h2><h3 id="ä»€ä¹ˆæ˜¯åŠç‰©åŠ¨è¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åŠç‰©åŠ¨è¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åŠç‰©åŠ¨è¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åŠç‰©åŠ¨è¯ï¼Ÿ</h3><blockquote><p><strong>åŠç‰©åŠ¨è¯</strong>ï¼ˆtransitive verb ç®€ç§°ï¼švtï¼‰</p><p>æ„æ€ä¸ºï¼šåŠ å…¥å®¾è¯­ä¹‹åçš„å®Œæ•´åŠ¨è¯ï¼Œåˆ†ä¸ºä¸»åŠ¨å’Œè¢«åŠ¨è¯­æ€ã€‚</p><p>çŸ­è¯­ç›¸å½“äºåŠç‰©åŠ¨è¯æ—¶ä¸ºï¼š<strong>åŠç‰©åŠ¨è¯çŸ­è¯­</strong>ã€‚</p></blockquote><p>Yesterday ï¼Œ    a pigeon         carried     the first     message     from Pinhurst to Slibury.</p><p>æ˜¨å¤©ï¼Œä¸€åªé¸½å­æŠŠç¬¬ä¸€å°ä¿¡ä»å¹³èµ«ç‰¹å¸¦åˆ°é”¡å°”ä¼¯é‡Œ.</p><p>The bird     covered     the distance     in three minutes.</p><p>è¿™åªé¸Ÿåªç”¨äº†ä¸‰åˆ†é’Ÿå°±é£å®Œäº†å…¨ç¨‹ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031163058.png" alt=""></p><p>The bride and the groom cur the wedding cake together.</p><p>æ–°éƒå’Œæ–°å¨˜ä¸€èµ·åˆ‡ä¸‹ç»“å©šè›‹ç³•</p><p>I <strong>had</strong> an amusing experience last year.</p><p>å»å¹´æˆ‘æœ‰ä¸€æ¬¡æœ‰è¶£çš„ç»å†ã€‚</p><p>This wonderful plane can <strong>carry</strong> seven passengers.</p><p>è¿™æ¶å¥‡å¦™çš„é£æœºå¯ä»¥è½½ä¸ƒåä¹˜å®¢</p><h3 id="ç»ƒä¹ é¢˜-2"><a href="#ç»ƒä¹ é¢˜-2" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031171234.png" alt=""></p><p>The teacher put up some pictures on the wall in the classroom.</p><p>You should respect the old in public places.</p><p>He began his diet a week ago.</p><p>He set up a new world record in September 1935</p><p>Only very few people can realize their dreams.</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031173411.png" alt=""></p><h2 id="ä¸å®Œå…¨åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­-å®¾è¯­-å®¾è¯­è¡¥è¯­"><a href="#ä¸å®Œå…¨åŠç‰©åŠ¨è¯-ä¸»è¯­-è°“è¯­-å®¾è¯­-å®¾è¯­è¡¥è¯­" class="headerlink" title="ä¸å®Œå…¨åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­+å®¾è¯­+å®¾è¯­è¡¥è¯­"></a>ä¸å®Œå…¨åŠç‰©åŠ¨è¯ ä¸»è¯­+è°“è¯­+å®¾è¯­+å®¾è¯­è¡¥è¯­</h2><h3 id="ä»€ä¹ˆæ˜¯ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ</h3><blockquote><p>ä¸å®Œå…¨åŠç‰©åŠ¨è¯ incomplete transitive verbï¼Œç®€ç§°i.vt</p><p>è¿™ä¸ªåŠ¨è¯åŠ äº†å®¾è¯­ä¹‹åï¼Œ<strong>æ„æ€ä»ç„¶ä¸å®Œæ•´ï¼Œéœ€è¦åŠ ä¸Šè¡¥è¯­ï¼ˆcomplementï¼‰æ‰èƒ½ä½¿å¥å­å®Œæ•´ã€‚</strong></p><p>è¡¥è¯­æ˜¯ <strong>è¡¥å……è¯´æ˜å®¾è¯­çš„ç‰¹å¾ï¼Œæˆ–è€…è¡¥è¯­çš„åŠ¨ä½œ</strong></p></blockquote><ul><li><p>â€œå¥¹ ä½¿ æˆ‘ çˆ±ä¸Šç”Ÿæ´»ã€‚â€ è¿™ä¸ª â€œä½¿â€ å°±æ˜¯ä¸å®Œå…¨åŠç‰©åŠ¨è¯ å¦‚æœåªè¯´ â€œå¥¹ä½¿æˆ‘â€ æ„æ€æ˜¯ä¸å®Œæ•´çš„ï¼Œè¦åŠ ä¸Šè¡¥è¯­ â€œçˆ±ä¸Šç”Ÿæ´»â€ï¼Œæ‰æ˜¯å®Œæ•´çš„å¥å­ã€‚</p></li><li><p>â€œä»–çš„è¡¨æ¼”è®©æˆ‘ å¤±æœ›ã€‚â€è¿™ä¸ªâ€œè®©â€ï¼Œå¦‚æœè¯´â€œä»–çš„è¡¨æ¼”è®©æˆ‘â€ï¼Œå½“ç„¶ä¹Ÿä¸å®Œå…¨è¦åŠ ä¸Šè¡¥è¯­â€œå¤±æœ›â€</p></li></ul><h3 id="å¦‚ä½•åˆ†åˆ«å®Œå…¨åŠç‰©åŠ¨è¯å’Œä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ"><a href="#å¦‚ä½•åˆ†åˆ«å®Œå…¨åŠç‰©åŠ¨è¯å’Œä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ†åˆ«å®Œå…¨åŠç‰©åŠ¨è¯å’Œä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ"></a>å¦‚ä½•åˆ†åˆ«å®Œå…¨åŠç‰©åŠ¨è¯å’Œä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼Ÿ</h3><p>æœ€å¸¸ç”¨çš„ä¸å®Œå…¨åŠç‰©åŠ¨è¯ï¼š <strong>ä½¿å½¹åŠ¨è¯</strong></p><blockquote><p>åœ¨è¦ä½¿ä»€ä¹ˆï¼Œåšä»€ä¹ˆæ—¶ä½¿ç”¨ä½¿å½¹åŠ¨è¯</p></blockquote><ul><li>ä½¿â€¦åšâ€¦ï¼ˆmakeï¼Œhaveï¼Œletï¼Œgetï¼‰</li></ul><p>make/have/let+å®¾è¯­+åŠ¨è¯åŸå½¢ï¼ˆè¡¥è¯­ï¼‰</p><p>get+å®¾è¯­+åŠ¨è¯ä¸å®šå¼ï¼ˆè¡¥è¯­ï¼‰</p><blockquote><p>hasï¼šhave çš„ç¬¬ä¸‰äººç§°æ—¶æ€</p></blockquote><ul><li>I made him wash the car.</li></ul><p>æˆ‘å«ä»–æ´—è½¦ã€‚</p><ul><li>I got him to wash the car.</li></ul><p>æˆ‘å«ä»–æ´—è½¦ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œåªè¦å®¾è¯­å‘å‡ºåŠ¨ä½œï¼Œæˆ–å®¾è¯­çš„çŠ¶æ€ï¼Œå‡å¯æ„æˆæ­¤ç±»å¥å‹ã€‚</p><h3 id="ç»ƒä¹ é¢˜-3"><a href="#ç»ƒä¹ é¢˜-3" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031194550.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031194437.png" alt=""></p><h2 id="æˆäºˆåŠ¨è¯-ä¸»è¯­-è°“è¯­-é—´æ¥å®¾è¯­-ç›´æ¥å®¾è¯­"><a href="#æˆäºˆåŠ¨è¯-ä¸»è¯­-è°“è¯­-é—´æ¥å®¾è¯­-ç›´æ¥å®¾è¯­" class="headerlink" title="æˆäºˆåŠ¨è¯ ä¸»è¯­+è°“è¯­+é—´æ¥å®¾è¯­+ç›´æ¥å®¾è¯­"></a>æˆäºˆåŠ¨è¯ ä¸»è¯­+è°“è¯­+é—´æ¥å®¾è¯­+ç›´æ¥å®¾è¯­</h2><h3 id="ä»€ä¹ˆæ˜¯æˆäºˆåŠ¨è¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æˆäºˆåŠ¨è¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æˆäºˆåŠ¨è¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æˆäºˆåŠ¨è¯ï¼Ÿ</h3><p>dative verbï¼Œç®€ç§°d.v</p><ul><li><strong>æ˜¯åŠç‰©åŠ¨è¯çš„ä¸€ç§</strong>ï¼Œå½“éœ€è¦æ¥ä¸¤ä¸ªå®¾è¯­ï¼Œ<strong>ç¬¬ä¸€ä¸ªé—´æ¥å®¾è¯­è¡¨ç¤ºæˆäºˆå¯¹è±¡</strong>ï¼Œ<strong>ç¬¬äºŒä¸ªå®¾è¯­ä¸ºç›´æ¥å®¾è¯­</strong>ï¼Œ<strong>è¡¨ç¤ºæˆäºˆçš„ä¸œè¥¿</strong></li><li>è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>ç›´æ¥å®¾è¯­å’Œé—´æ¥å®¾è¯­ï¼Œéƒ½æ˜¯è°“è¯­åŠ¨ä½œçš„ä½œç”¨å¯¹è±¡</strong>ï¼Œè¿™æ˜¯ä¸ç¬¬å››å¤§å¥å‹çš„åŒºåˆ«ã€‚åœ¨ç¬¬å››å¤§å¥å‹ä¸­ï¼Œè¡¥è¯­è¯´æ˜å®¾è¯­çš„æ€§è´¨ï¼Œæˆ–è€…æ˜¯å®¾è¯­å‘å‡ºçš„åŠ¨ä½œã€‚</li><li>é‚£ä¹ˆåœ¨æ‰¾é—´å®¾å’Œç›´å®¾ä½¿ç›´æ¥æ‰¾<strong>æˆäºˆå¯¹è±¡</strong>å†æ‰¾<strong>æˆäºˆçš„ä¸œè¥¿</strong>ã€‚</li></ul><h3 id="å¸¸è§çš„æˆäºˆåŠ¨è¯"><a href="#å¸¸è§çš„æˆäºˆåŠ¨è¯" class="headerlink" title="å¸¸è§çš„æˆäºˆåŠ¨è¯"></a>å¸¸è§çš„æˆäºˆåŠ¨è¯</h3><blockquote><p><strong>give (æˆäºˆåŠ¨è¯)ã€sendã€tallã€teachã€payã€showã€offer</strong></p></blockquote><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031215252.png" alt=""></p><ul><li>Richard Mattes <strong>gave</strong> the testers six different kinds of things.</li></ul><p>Richard Matter ç»™ä½ è¿™äº›æµ‹è¯•è€…å…­ç§ä¸åŒç±»å‹çš„ä¸œè¥¿ã€‚</p><blockquote><p>ç›´æ¥å®¾è¯­ <strong>æˆäºˆçš„ä¸œè¥¿</strong></p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031220027.png" alt=""></p><ul><li>I <strong>send</strong>     <u>him</u> a     <u>book</u> in reward for his help.</li></ul><p>æˆ‘é€ç»™ä»–ä¸€æœ¬ä¹¦ç­”è°¢ä»–çš„å¸®åŠ©ã€‚</p><blockquote><p>é—´æ¥å®¾è¯­<strong>æˆäºˆçš„å¯¹è±¡</strong></p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031221559.png" alt=""></p><ul><li>The scientist <strong>told</strong> <u>us</u> many <u>stories</u> about birds.</li></ul><p>åšç‰©å­¦å®¶ç»™æˆ‘ä»¬è®²è¿°äº†è®¸å¤šæœ‰å…³é¸Ÿå„¿çš„æ•…äº‹ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031221956.png" alt=""></p><ul><li>A friendly waiter <strong>taught</strong> <u>me</u> a few <u>words</u> of Italian.Then he <strong>lent</strong> <u>me</u> a <u>book</u></li></ul><p>ä¸€ä¸ªå¥½å®¢çš„æœåŠ¡å‘˜æ•™æˆ‘å‡ å¥æ„å¤§åˆ©è¯­ï¼Œä¹‹åè¿˜å€Ÿç»™æˆ‘ä¸€æœ¬ä¹¦ã€‚</p><ul><li>Yesterday I <strong>paid</strong> <u>him</u> a <u>visit</u>.</li></ul><p>æ˜¨å¤©æˆ‘å»çœ‹æœ›äº†ä»–ã€‚</p><ul><li>Then he <strong>showed</strong> <u>me</u> the <u>contents</u> of the parcel .</li></ul><p>æ¥ç€ä»–ç»™æˆ‘çœ‹äº†åŒ…é‡Œçš„ä¸œè¥¿ã€‚</p><ul><li>He <strong>offered</strong> <u>me</u> a lot of <u>money</u>.</li></ul><p>ä»–ç»™äº†æˆ‘å¾ˆå¤šé’±ã€‚</p><h2 id="ä¸»è°“å®¾è¡¥ä¸ä¸»è°“é—´å®¾ç›´å®¾åŒºåˆ†ï¼ˆä¸å®Œå…¨åŠç‰©åŠ¨è¯å’ŒæˆäºˆåŠ¨è¯åŒºåˆ†ï¼‰"><a href="#ä¸»è°“å®¾è¡¥ä¸ä¸»è°“é—´å®¾ç›´å®¾åŒºåˆ†ï¼ˆä¸å®Œå…¨åŠç‰©åŠ¨è¯å’ŒæˆäºˆåŠ¨è¯åŒºåˆ†ï¼‰" class="headerlink" title="ä¸»è°“å®¾è¡¥ä¸ä¸»è°“é—´å®¾ç›´å®¾åŒºåˆ†ï¼ˆä¸å®Œå…¨åŠç‰©åŠ¨è¯å’ŒæˆäºˆåŠ¨è¯åŒºåˆ†ï¼‰"></a>ä¸»è°“å®¾è¡¥ä¸ä¸»è°“é—´å®¾ç›´å®¾åŒºåˆ†ï¼ˆä¸å®Œå…¨åŠç‰©åŠ¨è¯å’ŒæˆäºˆåŠ¨è¯åŒºåˆ†ï¼‰</h2><blockquote><p>åªè¦æ˜¯ <strong>è°“è¯­çš„åŠ¨ä½œ</strong>ï¼Œ<strong>ä½œç”¨äºä¸¤ä¸ªä¸åŒçš„åè¯ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå®¾è¯­</strong>ï¼Œå°±æ˜¯ç¬¬äº”å¤§å¥å‹</p><p>è€Œåœ¨ç¬¬å››å¤§ç±»å¥å‹ä¸­ï¼Œè¡¥è¯­æ˜¯å®¾è¯­çš„åŠ¨ä½œæˆ–çŠ¶æ€ã€‚</p></blockquote><p>ä¾‹å­ï¼š</p><ol><li><p>ä»– è®© <strong>æˆ‘ å­¦ä¹ </strong>ã€‚â€˜â€œå­¦ä¹ â€ æ˜¯ â€œæˆ‘â€ å‘å‡ºçš„åŠ¨ä½œ ï¼ˆå­¦ä¹ æ˜¯åœ¨â€œæˆ‘â€è¿™ä¸ªå®¾è¯­ååšè¡¥å……çš„ï¼‰</p></li><li><p>ä»– ç»™äº† <strong>æˆ‘ä¸€æœ¬ä¹¦</strong>ã€‚ â€œä¹¦â€ å’Œ â€œæˆ‘â€ éƒ½æ˜¯è°“è¯­â€œç»™â€çš„ä½œç”¨å¯¹è±¡æ‰€ä»¥ï¼Œ</p><p>ç¬¬1å¥æ˜¯ç¬¬å››å¤§å¥å¼ï¼ˆä¸»è°“å®¾è¡¥ï¼‰ï¼Œç¬¬2å¥å¼ç¬¬äº”å¤§å¥å‹ï¼ˆä¸»è°“é—´å®¾ç›´å®¾ï¼‰</p></li></ol><h3 id="ç»ƒä¹ é¢˜-4"><a href="#ç»ƒä¹ é¢˜-4" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031223426.png" alt=""></p><ol><li>é¢˜çš„ä¸»è°“åŒå®¾ç»“æ„</li></ol><p>He gave his girlfriend a bunch of flowers on Valentineâ€™s Day.</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031225959.png" alt=""></p><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><h2 id="è°“è¯­-1"><a href="#è°“è¯­-1" class="headerlink" title="è°“è¯­"></a>è°“è¯­</h2><p>åè¯</p><ol><li>è¯­æ³•å­¦ä¸­æŒ‡å¯¹ä¸»è¯­åŠ ä»¥é™ˆè¿°çš„æˆåˆ†ï¼Œè¡¨ç¤ºä¸»è¯­ã€Œæ€ä¹ˆæ ·ã€æˆ–ã€Œæ˜¯ä»€ä¹ˆã€ã€‚ä¸€èˆ¬çš„å¥å­éƒ½åŒ…æ‹¬ä¸»è¯­ã€è°“è¯­ï¼Œæ±‰è¯­ä¸­è°“è¯­ä¸€èˆ¬åœ¨ä¸»è¯­åé¢ã€‚å¦‚ã€Œæˆ‘æ˜¯å­¦ç”Ÿã€ä¸­ã€Œæ˜¯å­¦ç”Ÿã€æ˜¯è°“è¯­ã€‚</li></ol><h2 id="å®¾è¯­"><a href="#å®¾è¯­" class="headerlink" title="å®¾è¯­"></a>å®¾è¯­</h2><p>åè¯</p><ol><li>è¯­æ³•ä¸ŠæŒ‡å—åŠ¨è¯æ”¯é…ã€å…³æ¶‰æˆ–å—ä»‹è¯å¼•å¯¼çš„æˆåˆ†ã€‚åœ¨ç°ä»£æ±‰è¯­ä¸­ï¼Œå®¾è¯­ä¸€èˆ¬åœ¨åŠ¨è¯æˆ–ä»‹è¯åé¢ã€‚å¦‚ã€Œå°Šæ•¬å¸ˆé•¿ã€ä¸­çš„ã€Œå¸ˆé•¿ã€ï¼Œã€Œä»–å†™ä¿¡ã€ä¸­çš„ã€Œä¿¡ã€ï¼Œã€Œå¯¹ä»–å¾ˆå¥½ã€ä¸­çš„ã€Œä»–ã€ã€‚</li></ol><h2 id="è¡¨è¯­"><a href="#è¡¨è¯­" class="headerlink" title="è¡¨è¯­"></a>è¡¨è¯­</h2><p>â€‹        å±äºä¸»è¯­è¡¥è¶³è¯­ï¼Œè¯­æ³•åè¯ï¼Œæ˜¯æŒ‡è¯´æ˜ä¸»è¯­çš„èº«ä»½ã€æ€§è´¨ã€å“æ€§ã€ç‰¹å¾å’ŒçŠ¶æ€çš„è¯æˆ–ä»å¥ï¼Œè¡¨è¯­å¸¸ç”±åè¯ã€å½¢å®¹è¯ã€ä»‹è¯çŸ­è¯­ã€åŠ¨åè¯ã€ä¸å®šå¼ã€å‰¯è¯æ¥å……å½“ï¼Œ<strong>å®ƒå¸¸ä½äºç³»åŠ¨è¯ï¼ˆbeï¼‰ä¹‹åã€‚</strong></p><p><a href="https://www.bilibili.com/video/BV1sJ411M7Gb?p=3" target="_blank" rel="noopener">è‹±è¯­ç®€å•å¥çš„é€ è¯æ³•åˆ™å’ŒåŸºæœ¬è¯­æ³•æ¦‚å¿µ</a></p><h2 id="ä»‹è¯"><a href="#ä»‹è¯" class="headerlink" title="ä»‹è¯"></a>ä»‹è¯</h2><p><em>åè¯</em></p><ol><li>è™šè¯çš„ä¸€ç±»ã€‚ç”¨åœ¨åè¯ã€ä»£è¯æˆ–åè¯æ€§çŸ­è¯­å‰è¾¹ï¼Œå¼•è¿›åŠ¨ä½œè¡Œä¸ºçš„æ—¶é—´ã€å¤„æ‰€ã€æ–¹å¼ã€ç›®çš„ã€æ¶‰åŠæˆ–æ¯”è¾ƒçš„å¯¹è±¡ä»¥åŠåŠ¨ä½œçš„æ–½äº‹è€…ç­‰ã€‚å¦‚ã€Œåœ¨ã€ã€Œä»ã€ã€Œä»¥ã€ã€Œä¸ºäº†ã€ã€ŒæŠŠã€ã€Œæ¯”ã€ã€Œè¢«ã€ç­‰ã€‚</li></ol><h2 id="å‰¯è¯"><a href="#å‰¯è¯" class="headerlink" title="å‰¯è¯"></a>å‰¯è¯</h2><p><em>åè¯</em></p><ol><li>ä¿®é¥°æˆ–é™åˆ¶åŠ¨è¯ã€å½¢å®¹è¯ï¼Œè¡¨ç¤ºèŒƒå›´ã€ç¨‹åº¦ã€æƒ…æ€ã€è¯­æ°”ç­‰çš„è¯ï¼Œä¸€èˆ¬ä¸èƒ½ä¿®é¥°æˆ–é™åˆ¶åè¯ã€‚å¦‚ã€Œéƒ½ã€ã€Œå¾ˆã€ã€Œç«Ÿç„¶ã€ã€Œå†ä¸‰ã€ç­‰ã€‚</li></ol><h1 id="ä¸ƒå¤§è‹±è¯­å¥å­æˆåˆ†çš„æ¦‚è¿°"><a href="#ä¸ƒå¤§è‹±è¯­å¥å­æˆåˆ†çš„æ¦‚è¿°" class="headerlink" title="ä¸ƒå¤§è‹±è¯­å¥å­æˆåˆ†çš„æ¦‚è¿°"></a>ä¸ƒå¤§è‹±è¯­å¥å­æˆåˆ†çš„æ¦‚è¿°</h1><h2 id="å®šè¯­"><a href="#å®šè¯­" class="headerlink" title="å®šè¯­"></a>å®šè¯­</h2><p>ä¸€ä¸ªå¥å­ç”¨æ¥ç•Œå®šï¼Œé™å®šåè¯çš„éƒ¨åˆ†ã€‚</p><blockquote><p>ä¸€ä¸ª <strong>é«˜ä¸ªå­çš„</strong>ï¼Œ<strong>ç•™ç€é•¿å¤´å‘çš„</strong>ï¼Œ<strong>ç©¿ç€çº¢è‰²è¡£æœçš„ï¼Œå–œæ¬¢å­¦ä¹ è‹±è¯­çš„</strong>å­¦ç”Ÿã€‚</p><p>åŠ é»‘éƒ¨åˆ†ä¸º å®šè¯­ã€‚</p></blockquote><h4 id="ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½å¤Ÿä½œä¸ºå®šè¯­å‘¢ï¼Ÿ"><a href="#ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½å¤Ÿä½œä¸ºå®šè¯­å‘¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½å¤Ÿä½œä¸ºå®šè¯­å‘¢ï¼Ÿ"></a>ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½å¤Ÿä½œä¸ºå®šè¯­å‘¢ï¼Ÿ</h4><p><strong>å½¢å®¹è¯ä»¥åŠç›¸å½“äºå½¢å®¹è¯æ€§è´¨çš„è¯­æ³•æˆåˆ†ã€‚</strong></p><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªå¥å­ï¼Œå¦‚æœæ˜¯â€œâ€¦çš„â€ï¼Œå®ƒå°±æ˜¯å½¢å®¹è¯æ€§è´¨çš„ï¼Œæ¯”å¦‚è¯´ç©¿ç€çº¢è‰²è¡£æœçš„ï¼Œå–œæ¬¢å­¦ä¹ è‹±è¯­çš„ï¼Œéƒ½å±äºå½¢å®¹è¯çŸ­è¯­æˆ–è€…å½¢å®¹è¯ä»å¥ã€‚</p></blockquote><p><strong>è‹±è¯­ç™¾åˆ†ä¹‹ä¹åäº”çš„å®šè¯­éµå¾ªâ€œå‰å°åå¤§â€çš„è§„åˆ™</strong></p><blockquote><p>ä¸€ä¸ªå•è¯ç»„æˆçš„å®šè¯­ï¼ˆé™å®šè¯ï¼Œå½¢å®¹è¯ï¼Œåè¯ä»¥åŠåè¯æ‰€æœ‰æ ¼ï¼‰ï¼Œæ”¾åœ¨æ‰€ä¿®é¥°åè¯çš„å‰é¢ã€‚</p></blockquote><blockquote><p>ä¸¤ä¸ªä»¥ä¸Šå•è¯ç»„æˆçš„å®šè¯­ï¼ˆofå±æ ¼ï¼Œå½¢å®¹è¯çŸ­è¯­ï¼Œä»‹è¯çŸ­è¯­ï¼Œåˆ†è¯çŸ­è¯­ï¼Œä¸å®šæ—¶çŸ­è¯­ç­‰ï¼‰ï¼Œæ”¾åœ¨æ‰€ä¿®é¥°è¯åé¢ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201105155015.png" alt="å„ç§è¯­æ³•æˆåˆ†ä½œå®šè¯­çš„ä¾‹å­ã€‚é»‘ä½“éƒ¨åˆ†ä¸ºå®šè¯­ä¿®é¥°çš„åè¯"></p><blockquote><p>They were expecting a valuable parcel of diamonds from South Africa</p><p>ä»–ä»¬æ­£æœŸå¾…ä»å—éæ¥çš„ä¸€ä¸ªè£…æœ‰é’»çŸ³çš„è´µé‡åŒ…è£¹ã€‚</p><p>å®šè¯­å…±æ˜¯ä¸ªåˆ†åˆ«ä¸ºï¼š</p><p>é™å®šè¯ aï¼Œä½œé¡¶è¯ä¿®é¥° parcel ï¼Œa parcel çš„åŒ…è£¹ã€‚</p><p>å½¢å®¹è¯ valuableï¼Œä½œå®šè¯­ï¼Œè´µé‡ã€‚of diamonds ä½œå®šè¯­é™å®šä¸ºé’»çŸ³ã€‚from South Africa ä½œå®šè¯­é™åˆ¶ä¸ºæ¥è‡ªå—éã€‚</p></blockquote><blockquote><p>Mrs.Rumbold was a large,unsmiling lady in a tight black dress.</p><p>å…°åšå°”å¾·å¤«äººæ˜¯ä¸€ä½èº«æé«˜å¤§ã€è¡¨æƒ…ä¸¥è‚ƒçš„å¥³äººï¼Œç©¿ä¸€ä»¶ç´§èº«çš„é»‘è¡£æœã€‚</p><p>a largeï¼Œå®šè¯­ä½œå½¢å®¹è¯ï¼Œå½¢å®¹é«˜å¤§çš„ã€‚unsmilingï¼Œå®šè¯­ä½œå½¢å®¹è¯ä¸¥è‚ƒçš„ã€‚in a tight black dressï¼Œå®šè¯­ä½œä»‹è¯çŸ­è¯­ï¼ˆå½¢å®¹è¯æ€§è´¨ï¼‰ï¼Œå½¢å®¹ç©¿ç´§èº«é»‘è¡£æœã€‚</p></blockquote><blockquote><p>First of all ,he wrote out a long list of all the foods.</p><p>é¦–å…ˆï¼Œä»–å¼€åˆ—äº†ä¸€å¼ é•¿é•¿åˆ—äº†æ‰€æœ‰çš„é£Ÿç‰©çš„ç›®å½•ã€‚</p><p>aï¼Œé™å®šè¯å®šè¯­ï¼Œé™å®š list ä¸ºä¸€ä¸ªã€‚</p><p>longï¼Œå½¢å®¹è¯å®šè¯­ï¼Œé™å®šä¸ºé•¿çš„listã€‚</p><p>of all the foods ï¼Œofå±æ ¼ï¼Œé™å®šä¸ºé£Ÿç‰©</p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201105170800.png" alt="ç»ƒä¹ é¢˜"></p><blockquote><p>æˆ‘å–œæ¬¢è¯¾æ¡Œä¸Šé‚£æœ¬è‹±è¯­ä¹¦</p><p>ä¸»è¯­ï¼šæˆ‘ã€‚è°“è¯­ï¼šå–œæ¬¢ã€‚å®¾è¯­ï¼šè‹±è¯­ä¹¦</p><p>theï¼šå®šè¯­å½¢å®¹é‚£æœ¬ä¹¦ã€‚Englishï¼šå®šè¯­å½¢å®¹è¯ï¼Œå½¢å®¹bookä¸ºè‹±è¯­ä¹¦ã€‚on the table:å®šè¯­ä»‹è¯çŸ­è¯­ï¼ŒæŒ‡æ¡Œå­ä¸Šçš„ä¹¦ã€‚</p></blockquote><blockquote><p>ä»–ä»¬æ­£åœ¨ç ”ç©¶ä¸€ä¸ªå…³äºè´¸æ˜“æ ‡å‡†çš„å¤æ‚é—®é¢˜ã€‚</p><p>ä¸»è¯­ï¼šä»–ä»¬ã€‚è°“è¯­ï¼šç ”ç©¶ã€‚å®¾è¯­ï¼šé—®é¢˜ã€</p><p>aï¼šå®šè¯­é™å®šä¸ºä¸€ä¸ªã€‚complicatedï¼šå®šè¯­å½¢å®¹è¯ï¼Œå¤æ‚çš„ã€‚about trading standardï¼šä½œå®šè¯­ ä»‹è¯çŸ­è¯­ å…³äºè´¸æ˜“æ ‡å‡†çš„ã€‚</p></blockquote><blockquote><p>æˆ‘å°†å‘Šè¯‰ä½ ä»¬æ˜¨å¤©è€å¸ˆç»™æˆ‘è®²çš„é‚£ä¸ªéå¸¸æœ‰è¶£çš„å…³äºæœˆäº®çš„ä¸­å›½å¤ä»£æ•…äº‹ã€‚</p><p>ä¸»è°“å®¾è¡¥ å¥å¼</p><p>ä¸»è¯­ï¼šæˆ‘ã€‚è°“è¯­ï¼šå°†å‘Šè¯‰ã€‚å®¾è¯­ï¼šä½ ä»¬ã€‚è¡¥è¯­ï¼šæ•…äº‹ã€‚</p><p>ä¸åŠ å®šè¯­ï¼šI will tall you story.</p><p>aï¼šå®šè¯­é™å®šä¸ºä¸€ä¸ªã€‚very :å®šè¯­ éå¸¸ã€‚interestingï¼šå®šè¯­æœ‰è¶£ã€‚old Chineseï¼šå®šè¯­ä½œå½¢å®¹è¯ï¼Œä¸­å›½å¤è€ã€‚</p><p>about the moonï¼šä»‹è¯çŸ­è¯­ä½œå®šè¯­ï¼Œå…³äºæœˆäº®ã€‚my teacher told me yesterdayï¼šä»‹è¯çŸ­è¯­ä½œå®šè¯­ï¼Œè€å¸ˆæ˜¨å¤©å‘Šè¯‰æˆ‘ã€‚</p><p>thatï¼šå®šè¯­ä»å¥ã€‚</p></blockquote><h2 id="çŠ¶è¯­-1"><a href="#çŠ¶è¯­-1" class="headerlink" title="çŠ¶è¯­"></a>çŠ¶è¯­</h2><h4 id="ä»€ä¹ˆæ˜¯çŠ¶è¯­ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯çŠ¶è¯­ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯çŠ¶è¯­ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯çŠ¶è¯­ï¼Ÿ</h4><blockquote><p>çŠ¶è¯­ï¼šç”¨æ¥æè¿°å®šåˆ¶çš„ç»†èŠ‚ç‰¹å¾çš„æˆåˆ†ï¼Œæ±‰è¯­é‡Œå¸¸è§çš„å¯¹åº”æˆï¼Œå°±æ˜¯â€œâ€¦åœ°â€ã€‚</p><p>å”±æ­Œï¼š</p><p>å¯ä»¥è¯´ï¼šå¤§å£°åœ°å”±æ­Œï¼Œæ¬¢ä¹åœ°å”±æ­Œï¼ŒæŠ•å…¥åœ°å”±æ­Œï¼Œç­‰ç­‰ã€‚è¡¨è¾¾æ—¶é—´ã€åœ°ç‚¹ã€æ–¹å¼çš„çŠ¶è¯­ï¼Œä¹Ÿå¯ä»¥ä¸å¸¦â€œåœ°â€å­—ã€‚</p><p>æ¯”å¦‚ï¼šåœ¨æ•™å®¤é‡Œå”±æ­Œï¼Œåœ¨ä¸‰ä¸ªæ˜ŸæœŸçš„æ™šä¼šä¸Šå”±æ­Œï¼Œç”¨å¤å…¸çš„æ–¹å¼å”±æ­Œã€‚</p></blockquote><p>çŠ¶è¯­å¯ä»¥ä¿®é¥°é™¤å•¦åè¯ä»¥å¤–çš„ä»»ä½•è¯ã€‚</p><h4 id="ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½åšçŠ¶è¯­ï¼Ÿ"><a href="#ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½åšçŠ¶è¯­ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½åšçŠ¶è¯­ï¼Ÿ"></a>ä»€ä¹ˆè¯­æ³•æˆåˆ†èƒ½åšçŠ¶è¯­ï¼Ÿ</h4><p><strong>å‰¯è¯ä»¥åŠç›¸å½“äºå‰¯è¯çš„è¯­æ³•æˆåˆ†</strong></p><p>å‰¯è¯åœ¨å¥å­ä¸­å¤„äºå‰¯æ‰‹çš„ä½ç½®ï¼Œå°±æ˜¯è¾…åŠ©åœ°ä½</p><blockquote><p>where,when,howâ€“æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œæ–¹å¼ï¼Œæˆéƒ½</p><p>è¡¨ç¤ºæ—¶é—´çš„ï¼Œnow ï¼Œjust nowï¼Œ</p><p>è¡¨ç¤ºåœ°ç‚¹çš„ä»‹è¯çŸ­è¯­ï¼Œæ¯”å¦‚ in the house</p></blockquote><h5 id="å°çŠ¶è¯­ï¼ˆå•ç‹¬çš„å‰¯è¯ï¼‰"><a href="#å°çŠ¶è¯­ï¼ˆå•ç‹¬çš„å‰¯è¯ï¼‰" class="headerlink" title="å°çŠ¶è¯­ï¼ˆå•ç‹¬çš„å‰¯è¯ï¼‰"></a>å°çŠ¶è¯­ï¼ˆå•ç‹¬çš„å‰¯è¯ï¼‰</h5><blockquote><p>â€‹    æ”¾åœ¨å…¶æ‰€ä¿®é¥°çš„è¯è¯­ä¹‹å‰ï¼šä¿®é¥°åŠ¨è¯æ—¶ï¼Œæ”¾åœ¨åŠ¨è¯ä¹‹å‰ã€‚ä¿®é¥°å…¶ä»–æˆåˆ†æ—¶ï¼Œæ”¾åœ¨å…¶ä»–æˆåˆ†ä¹‹æ°”é‚£ã€‚</p><p>å¦‚æœéœ€è¦å°çŠ¶è¯­å¯ä»¥æ”¾åœ¨å¥å­ä¸­çš„ä»»ä½•ä½ç½®ã€‚</p></blockquote><p>we are <strong>now</strong> living in a beautiful new house in the country.</p><blockquote><p>nowï¼šå‰¯è¯ï¼ˆå°çŠ¶è¯­ï¼‰ ä¿®é¥°living è¡¨ç¤ºç°åœ¨ç”Ÿæ´»åœ¨ã€‚</p><p>æˆ‘ä»¬<strong>ç°åœ¨</strong>ä½åœ¨å…ˆå°†çš„ä¸€æ ‹æ¼‚äº®çš„æ–°ä½å®…é‡Œã€‚</p></blockquote><p>Letters will cost a little more, but they will <strong>certainly</strong> travel faster.</p><blockquote><p>certainlyï¼šå°çŠ¶è¯­ ï¼Œè¡¨ç¤ºå½“ç„¶ã€‚</p><p>è¿™æ ·ä¼šç¨å¾®èŠ±ç‚¹é’±ï¼Œä½†æ˜¯è‚¯å®šæ˜¯å¿«å¾—å¤šäº†ã€‚</p></blockquote><h5 id="å¤§çŠ¶è¯­"><a href="#å¤§çŠ¶è¯­" class="headerlink" title="å¤§çŠ¶è¯­"></a>å¤§çŠ¶è¯­</h5><blockquote><p>æŒ‡ ï¼ˆä¸¤ä¸ªåŠä»¥ä¸Šå•è¯æ„æˆçš„çŠ¶è¯­ï¼Œå¦‚ä»‹è¯çŸ­è¯­ï¼Œä¸å®šå¼çŸ­è¯­ï¼ŒçŠ¶è¯­ä»å¥ï¼‰ï¼Œæ”¾åœ¨æ•´ä¸ªå¥å­çš„ä¸¤å¤´ã€‚æ”¾åœ¨å¼€å¤´æ—¶ï¼Œä¸€åŠè¦åŠ ä¸Šé€—å·ã€‚</p></blockquote><p>On Wednesday evening, We went to the Town Hall.</p><blockquote><p>æ˜ŸæœŸä¸‰çš„æ™šä¸Šï¼Œæˆ‘ä»¬å»äº†å¸‚æ”¿å…ã€‚</p><p>å…¶ä¸­ On Wednesday evening, å¯ä»¥æ”¾åœ¨å¼€å¤´å’Œç»“å°¾ã€‚</p><p>to the Town Hallï¼šä¸å®šå¼çŸ­è¯­</p></blockquote><p>I was having dinner at a restaurant when Tony Steele came in.</p><blockquote><p>æˆ‘æ­£åœ¨ä¸€å®¶é¤é¦†åƒé¥­ï¼Œæ‰˜å°¼.æ–¯è’‚å°”èµ°äº†è¿›æ¥ã€‚</p><p>at a restaurant ï¼šçŠ¶è¯­</p></blockquote><h3 id="è¡¥å……-1"><a href="#è¡¥å……-1" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>â‘ å¥ä¸­åŒæ—¶å‡ºç°å‡ ä¸ªæ—¶é—´æˆ–è€…åœ°ç‚¹çŠ¶è¯­æ—¶ï¼Œä»å°æ‰“åˆ°ã€‚</p><blockquote><p>We landed in American at 8 oâ€™ clock on June 15thï¼Œ2012.</p><p>æˆ‘ä»¬2012å¹´6æœˆ15æ—¥å…«ç‚¹åœ¨ç¾å›½ç€é™†ã€‚</p><p>We live at number 35.South Renmin Roadï¼ŒChengdu.</p><p>æˆ‘ä»¬ä½åœ¨æˆéƒ½å¸‚äººæ°‘å—è·¯35å·ã€‚</p></blockquote><p>â‘¡å¥å­åé¢å‡ºç°å¤šç§çŠ¶è¯­æ—¶ï¼Œé¡ºåºæ˜¯æ–¹å¼â€“åœ°ç‚¹â€“æ—¶é—´ã€‚</p><blockquote><p>He put his milk bottles carefully on the doorstep every morning.</p><p>ä»–æ¯å¤©æ—©ä¸Šå°å¿ƒåœ°æŠŠç‰›å¥¶æ‹¼æ”¾åœ¨é—¨å£çš„å°é˜¶ä¸Šã€‚</p></blockquote><h2 id="åŒä½è¯­"><a href="#åŒä½è¯­" class="headerlink" title="åŒä½è¯­"></a>åŒä½è¯­</h2><blockquote><p>åŒä½è¯­ï¼šå¥å­ä¸­æŒ‡ä»£åŒä¸€äº‹åŠ¡çš„ä¸¤ä¸ªè¯ã€çŸ­è¯­æˆ–ä»å¥ï¼Œç§°åŒä¸ºå…³ç³»ã€‚</p></blockquote><p>My sisterï¼ŒHelen Wilsonï¼Œwill travel with me.</p><blockquote><p>å¥ä¸­ My sister å’Œ Helen WilsonæŒ‡çš„æ˜¯åŒä¸€ä¸ªäººï¼Œå®ƒä»¬æ˜¯åŒä¸ºæˆåˆ†ï¼Œåä¸€æˆåˆ†é€šå¸¸å«å‰ä¸€æˆåˆ†çš„åŒä¸ºè¯­ã€‚</p></blockquote><p>è‹±è¯­é‡Œçš„åŒä½è¯­ï¼Œä¸å±äºå•ç‹¬çš„ä¸ƒå¤§å¥å­æˆåˆ†ï¼Œè€Œæ˜¯å’Œè‹±è¯­é‡Œè¾¹çš„åè¯æˆåˆ†ï¼ˆä¸»è¯­ï¼Œå®¾è¯­ï¼Œè¡¨è¯­ï¼‰æˆå†°å¹¶åˆ—å…³ç³»ï¼Œç›¸å½“äºå¯¹è¯¥åè¯è¿›ä¸€æ­¥çš„è§£é‡Šè¯´æ˜ã€‚åè¯æˆ–ä»»ä½•ç›¸å½“åè¯çš„æˆåˆ†ï¼Œå‡å¯ä½œåŒä½è¯­ã€‚</p><h5 id="ç»ƒä¹ é¢˜-5"><a href="#ç»ƒä¹ é¢˜-5" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h5><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201105220614.png" alt=""></p><p>My English teacher ï¼ŒMr. Brent Peter, is a Canadian.</p><blockquote><p>My English teacher åŒ Mr.Brent Peter ä¸ºåŒä½è¯­çŠ¶æ€</p></blockquote><p>Yesterday I met Tom,a friend of my brotherâ€™s</p><blockquote><p>Tom ä¸ friend of my brotherâ€™s åŒä½è¯­çŠ¶æ€</p></blockquote><p>We Chinese people are brave and hardworking.</p><blockquote><p>We åŒ Chinese people æ˜¯åŒä½è¯­çŠ¶æ€ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> EC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MVCã€MVPã€MVVM</title>
      <link href="/2020/10/28/MVC%E3%80%81MVP%E3%80%81MVVM/"/>
      <url>/2020/10/28/MVC%E3%80%81MVP%E3%80%81MVVM/</url>
      
        <content type="html"><![CDATA[<h1 id="MVC-MVP-MVVM-å›¾ç¤º"><a href="#MVC-MVP-MVVM-å›¾ç¤º" class="headerlink" title="MVC MVP MVVM å›¾ç¤º"></a>MVC MVP MVVM å›¾ç¤º</h1><h2 id="MVCï¼ˆModelã€Viewã€Controllerï¼‰"><a href="#MVCï¼ˆModelã€Viewã€Controllerï¼‰" class="headerlink" title="MVCï¼ˆModelã€Viewã€Controllerï¼‰"></a>MVCï¼ˆModelã€Viewã€Controllerï¼‰</h2><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201028113524.png" alt=""></p><blockquote><ul><li>è§†å›¾ï¼ˆViewï¼‰ï¼šç”¨æˆ·ç•Œé¢</li><li>æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šä¸šåŠ¡é€»è¾‘</li><li>æ¨¡å‹ï¼ˆModelï¼‰ï¼šæ•°æ®ä¿å­˜</li></ul></blockquote><h5 id="é€šä¿¡æ–¹å¼"><a href="#é€šä¿¡æ–¹å¼" class="headerlink" title="é€šä¿¡æ–¹å¼"></a>é€šä¿¡æ–¹å¼</h5><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201028113611.png" alt=""></p><blockquote><ol><li>View ä¼ é€æŒ‡ä»¤åˆ° Controller</li><li>Controller å®Œæˆä¸šåŠ¡é€»è¾‘åï¼Œè¦æ±‚ Model æ”¹å˜çŠ¶æ€</li><li>Model å°†æ–°çš„æ•°æ®å‘é€åˆ° Viewï¼Œç”¨æˆ·å¾—åˆ°åé¦ˆ</li></ol></blockquote><p><strong>é€šä¿¡éƒ½æ˜¯å•å‘çš„</strong></p><h2 id="äº’åŠ¨æ¨¡å¼"><a href="#äº’åŠ¨æ¨¡å¼" class="headerlink" title="äº’åŠ¨æ¨¡å¼"></a>äº’åŠ¨æ¨¡å¼</h2><blockquote><p><strong>äº’åŠ¨æ¨¡å¼</strong>ï¼ˆmodels of interactionï¼‰ï¼ŒæŒ‡ä½¿ç”¨<a href="https://zh.wikipedia.org/wiki/é›»è…¦" target="_blank" rel="noopener">ç”µè„‘</a>æ—¶<a href="https://zh.wikipedia.org/wiki/äººæ©Ÿäº’å‹•" target="_blank" rel="noopener">äººæœºäº’åŠ¨</a>çš„ç•Œé¢ã€‚å¥½çš„ç•Œé¢åº”è¯¥æ˜¯èƒ½å¤Ÿæœ‰æ•ˆåœ°è®©äº’åŠ¨é¡ºåˆ©è¿›è¡Œã€‚äº’åŠ¨ç³»ç»Ÿæ˜¯è¦è®©ä½¿ç”¨è€…å¯ä»¥åœ¨å·²å­˜åœ¨çš„åº”ç”¨èŒƒå›´ä¸­å®Œæˆä»–ä»¬çš„ç›®çš„ã€‚ç³»ç»Ÿä½¿ç”¨çš„è¯­è¨€æ˜¯æ ¸è¯­è¨€ï¼ˆcore languageï¼‰ï¼Œä½¿ç”¨è€…ä½¿ç”¨çš„è¯­è¨€æ˜¯ä»»åŠ¡è¯­è¨€ï¼ˆtask languageï¼‰ã€‚</p><p>æ‘˜è‡ª<a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E5%8B%95%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p></blockquote><p>æ¥å—ç”¨æˆ·æŒ‡ä»¤æ—¶ï¼ŒMVCå¯åˆ†ä¸ºä¸¤ç§æ¨¡å¼ã€‚<strong>ä¸€ç§æ˜¯é€šè¿‡Viewæ¥å—æŒ‡ä»¤</strong>ï¼Œ<strong>ä¼ é€’ç»™Controllerã€‚</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201028114024.png" alt=""></p><p><strong>å¦ä¸€ç§æ˜¯ç›´æ¥é€šè¿‡controlleræ¥å—æŒ‡ä»¤ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201028114109.png" alt=""></p><h2 id="MVPï¼ˆModelã€Viewã€Presenterï¼‰"><a href="#MVPï¼ˆModelã€Viewã€Presenterï¼‰" class="headerlink" title="MVPï¼ˆModelã€Viewã€Presenterï¼‰"></a>MVPï¼ˆModelã€Viewã€Presenterï¼‰</h2><p>MVP æ¨¡å¼å°† Controller æ”¹åä¸º <strong>Presenter</strong>ï¼Œ<strong>åŒæ—¶æ”¹å˜äº†é€šä¿¡æ–¹å‘</strong>ã€‚</p><p><img src="https://www.ruanyifeng.com/blogimg/asset/2015/bg2015020109.png" alt=""></p><blockquote><ol><li><p>å„éƒ¨åˆ†ä¹‹é—´çš„é€šä¿¡ï¼Œæ˜¯åŒå‘çš„ã€‚</p></li><li><p>View ä¸ Model ä¸å‘ç”Ÿè”ç³»ï¼Œéƒ½é€šè¿‡ Presenter ä¼ é€’ã€‚</p></li><li><p>View éå¸¸è–„ï¼Œä¸éƒ¨ç½²ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œç§°ä¸ºâ€è¢«åŠ¨è§†å›¾â€ï¼ˆPassive Viewï¼‰ï¼Œå³æ²¡æœ‰ä»»ä½•ä¸»åŠ¨æ€§ï¼Œè€Œ Presenteréå¸¸åšï¼Œæ‰€æœ‰é€»è¾‘éƒ½éƒ¨ç½²åœ¨é‚£é‡Œã€‚</p></li></ol></blockquote><h2 id="MVVMï¼ˆModelã€Viewã€ViewModelï¼‰"><a href="#MVVMï¼ˆModelã€Viewã€ViewModelï¼‰" class="headerlink" title="MVVMï¼ˆModelã€Viewã€ViewModelï¼‰"></a>MVVMï¼ˆModelã€Viewã€ViewModelï¼‰</h2><p>MVVM æ¨¡å¼å°† <strong>Presenter</strong> æ”¹åä¸º <strong>ViewModel</strong>ã€‚</p><p>å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå®ƒé‡‡ç”¨åŒå‘ç»‘å®šï¼ˆdata-bindingï¼‰ï¼šViewçš„å˜åŠ¨ï¼Œè‡ªåŠ¨åæ˜ åœ¨ ViewModelï¼Œåä¹‹äº¦ç„¶ã€‚</p><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="https://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html" target="_blank" rel="noopener">MVCï¼ŒMVP å’Œ MVVM çš„å›¾ç¤º</a></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> è½¯ä»¶å·¥ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kotlin åç¨‹</title>
      <link href="/2020/10/14/Kotlin-%E5%8D%8F%E7%A8%8B/"/>
      <url>/2020/10/14/Kotlin-%E5%8D%8F%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯åç¨‹"><a href="#ä»€ä¹ˆæ˜¯åç¨‹" class="headerlink" title="ä»€ä¹ˆæ˜¯åç¨‹"></a>ä»€ä¹ˆæ˜¯åç¨‹</h1><blockquote><p><strong>ç”¨åŒæ­¥çš„æ–¹å¼å†™å¼‚æ­¥çš„ä»£ç </strong></p></blockquote><p>ã€åç¨‹ Coroutinesã€‘ æºäºSimula å’Œ Modula-2è¯­è¨€ï¼Œæœ¯è¯­æ¥è‡ªäº 1958 å¹´çš„ <strong>Melvin Edward Conway</strong> å‘æ˜å¹¶ä¸”æ‹¥æœ‰æ„å»ºæ±‡ç¼–ç¨‹åºï¼Œè¯´æ˜ <strong>åç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³</strong>ï¼Œ å¹¶ä¸å±€é™äºç‰¹å®šçš„è¯­è¨€ã€‚</p><h5 id="çº¿ç¨‹å’Œåç¨‹çš„å…³ç³»"><a href="#çº¿ç¨‹å’Œåç¨‹çš„å…³ç³»" class="headerlink" title="çº¿ç¨‹å’Œåç¨‹çš„å…³ç³»"></a>çº¿ç¨‹å’Œåç¨‹çš„å…³ç³»</h5><p>ä» Android å¼€å‘è€…çš„è§’åº¦å»ç†è§£å®ƒä»¬çš„å…³ç³»ï¼š</p><ul><li>Androidä¸­æˆ‘ä»¬æ‰€æœ‰çš„ä»£ç éƒ½è·‘åœ¨çº¿ç¨‹ä¸­çš„ï¼Œ<strong>è€Œçº¿ç¨‹æ˜¯è·‘åœ¨è¿›ç¨‹ä¸­çš„</strong>ã€‚</li><li><strong>åç¨‹æ²¡æœ‰ç›´æ¥å’Œæ“ä½œç³»ç»Ÿå…³è”</strong>ï¼Œå®ƒä¹Ÿæ˜¯<strong>è·‘åœ¨çº¿ç¨‹ä¸­çš„</strong>ï¼Œå¯ä»¥æ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šçº¿ç¨‹ã€‚</li><li>å•çº¿ç¨‹ä¸­çš„åç¨‹æ€»çš„<strong>æ‰§è¡Œæ—¶é—´</strong>å¹¶ä¸ä¼šæ¯”ä¸ç”¨åç¨‹å°‘ã€‚</li><li>Androidæ€»ï¼Œå¦‚æœåœ¨ä¸»çº¿ç¨‹ä¸­è¿›è¡Œç½‘ç»œè®¿é—®ï¼Œä¼šæŠ›å‡º <strong>NetworkOnMainThreadException</strong>ï¼Œå¯¹äºåœ¨ä¸»çº¿ç¨‹ä¸Šçš„åç¨‹ä¹Ÿä¸ä¾‹å¤–ï¼Œæ‰€ä»¥åœ¨è¿™ç§ä½¿ç”¨åœºæ™¯ä¸­ä¹Ÿæ˜¯è¦åˆ‡æ¢çº¿ç¨‹çš„ã€‚</li></ul><h4 id="åç¨‹çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€-çº¿ç¨‹æ§åˆ¶"><a href="#åç¨‹çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€-çº¿ç¨‹æ§åˆ¶" class="headerlink" title="åç¨‹çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ çº¿ç¨‹æ§åˆ¶"></a>åç¨‹çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ çº¿ç¨‹æ§åˆ¶</h4><blockquote><p>åç¨‹å¯ä»¥è®©æˆ‘ä»¬åœ¨å†™<strong>ä»£ç æ—¶ä¸ç”¨æ›´å¤šçš„å…³æ³¨å¤šçº¿ç¨‹åŒæ—¶æ›´æ–¹ä¾¿çš„å†™å‡ºå¹¶å‘æ“ä½œ</strong>ã€‚</p></blockquote><p><strong>åœºæ™¯</strong></p><p>åœ¨Javaä¸­å®ç°å¹¶å‘æ“ä½œé€šå¸¸éœ€è¦å¼€å¯ Threadï¼š</p><pre><code class="java">new Thread(new Runnable() {    @Override    public void run() {        ...    }}).start();</code></pre><p>Kotlinä¸­</p><pre><code class="kotlin">Thread({    ...}).start()</code></pre><p><strong>Kotlinå’ŒJavaä½¿ç”¨çº¿ç¨‹åŒæ ·å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p><ul><li>çº¿ç¨‹ä»€ä¹ˆæ—¶å€™æ‰§è¡Œç»“æŸ</li><li>çº¿ç¨‹é—´å¦‚ä½•ç›¸äº’é€šä¿¡</li><li>å¤šçº¿ç¨‹çš„ç®¡ç†</li></ul><p>å¯ä»¥ç”¨Javaæ§åˆ¶çº¿ç¨‹ Executorçº¿ç¨‹æ± æ¥è¿›è¡Œ<strong>çº¿ç¨‹ç®¡ç†</strong>ï¼š</p><pre><code class="kotlin">val executor = Executors.newCachedThreadPool()executor.execute({    ...})</code></pre><p>ç”¨Androidçš„<strong>AsyncTask</strong>æ¥<strong>è§£å†³çº¿ç¨‹ä¹‹é—´çš„é€šè®¯</strong></p><pre><code class="kotlin">object : AsyncTask&lt;T0, T1, T2&gt; {     override fun doInBackground(vararg args: T0): String { ... }    override fun onProgressUpdate(vararg args: T1) { ... }    override fun onPostExecute(t3: T3) { ... }}</code></pre><p>ä½¿ç”¨<strong>AsyncTask</strong>è¿›è¡Œ<strong>çº¿ç¨‹ä¹‹é—´</strong>çš„<strong>é€šè®¯</strong>å¸¦æ¥çš„<strong>ç¼ºç‚¹</strong>ï¼ˆ<strong>AsyncTask</strong>æ˜¯<strong>Android</strong>å¯¹<strong>çº¿ç¨‹æ± </strong>Executorçš„<strong>å°è£…</strong>ï¼‰ï¼š</p><ul><li>éœ€è¦å¤„ç†å¤šä¸ªå›è°ƒï¼Œå®¹æ˜“é™·å…¥ã€å›è°ƒåœ°ç‹±ã€‘ã€‚</li><li>å°†ä¸šåŠ¡å¼ºè¡Œæ‹†åˆ†åˆ°å‰å°ã€ä¸­é—´æ›´æ–°ã€åå°ä¸‰ä¸ªå‡½æ•°ã€‚</li></ul><p>ä½¿ç”¨ RxJavaå’Œåç¨‹éƒ½å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šè¿°çš„é—®é¢˜ã€‚</p><h5 id="ä¾‹å­-ä½¿ç”¨åç¨‹è¿›è¡Œç½‘ç»œè®¿é—®å°†è¯·æ±‚åˆ°çš„æ•°æ®æ˜¾ç¤ºåˆ°å¯¹åº”çš„æ§ä»¶ä¸Šï¼š"><a href="#ä¾‹å­-ä½¿ç”¨åç¨‹è¿›è¡Œç½‘ç»œè®¿é—®å°†è¯·æ±‚åˆ°çš„æ•°æ®æ˜¾ç¤ºåˆ°å¯¹åº”çš„æ§ä»¶ä¸Šï¼š" class="headerlink" title="ä¾‹å­ ä½¿ç”¨åç¨‹è¿›è¡Œç½‘ç»œè®¿é—®å°†è¯·æ±‚åˆ°çš„æ•°æ®æ˜¾ç¤ºåˆ°å¯¹åº”çš„æ§ä»¶ä¸Šï¼š"></a>ä¾‹å­ ä½¿ç”¨åç¨‹è¿›è¡Œç½‘ç»œè®¿é—®å°†è¯·æ±‚åˆ°çš„æ•°æ®æ˜¾ç¤ºåˆ°å¯¹åº”çš„æ§ä»¶ä¸Šï¼š</h5><pre><code class="kotlin">launch({    val user = api.getUser() // ğŸ‘ˆ ç½‘ç»œè¯·æ±‚ï¼ˆIO çº¿ç¨‹ï¼‰    nameTv.text = user.name  // ğŸ‘ˆ æ›´æ–° UIï¼ˆä¸»çº¿ç¨‹ï¼‰})</code></pre><p>æ— éœ€å…³å¿ƒ <strong>launch</strong> å®ƒ<strong>ä¸æ˜¯</strong>ä¸€ä¸ª<strong>é¡¶å±‚å‡½æ•°</strong>ï¼Œåªéœ€è¦å…³ç³»å®ƒçš„ä¸šåŠ¡é€»è¾‘ï¼š</p><p>launch <strong>å‡½æ•°</strong>åŠ ä¸Šå®ç°åœ¨ {} ä¸­çš„<strong>å…·ä½“é€»è¾‘æ„æˆ</strong>äº†<strong>åç¨‹</strong>ã€‚</p><p>é€šå¸¸æˆ‘ä»¬è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œä¼šä¼ ä¸€ä¸ªcallbackï¼Œæˆ–è€…åœ¨IOçº¿ç¨‹é‡Œè¿›è¡Œé˜»å¡å¼çš„åŒæ­¥è°ƒç”¨ï¼Œè€Œåœ¨è¿™æ®µä»£ç ä¸­ï¼Œä¸Šä¸‹ä¸¤ä¸ªè¯­å¥åˆ†åˆ«å·¥ä½œåœ¨ä¸¤ä¸ªçº¿ç¨‹é‡Œï¼Œå¹¶ä¸”å†™æ³•ä¸Šå’Œæ™®é€šå•çº¿ç¨‹ä»£ç æ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™é‡Œçš„ api.getUseræ˜¯ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ï¼Œæ‰€ä»¥èƒ½å¤Ÿä¿è¯nameTv.textçš„æ­£ç¡®èµ‹å€¼ï¼Œè¿™å°±æ¶‰åŠåˆ°äº†åç¨‹ä¸­æœ€è‘—åçš„ã€éé˜»å¡å¼æŒ‚èµ·ã€‘äº†ã€‚</p><h1 id="åç¨‹å¥½åœ¨å“ªé‡Œ"><a href="#åç¨‹å¥½åœ¨å“ªé‡Œ" class="headerlink" title="åç¨‹å¥½åœ¨å“ªé‡Œ"></a>åç¨‹å¥½åœ¨å“ªé‡Œ</h1><h2 id="ä»€ä¹ˆæ˜¯é—­åŒ…"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…"></a>ä»€ä¹ˆæ˜¯é—­åŒ…</h2><h4 id="èµ·æº"><a href="#èµ·æº" class="headerlink" title="èµ·æº"></a>èµ·æº</h4><p><strong>é—­åŒ…</strong>å¹¶<strong>ä¸</strong>æ˜¯<strong>kotlin</strong>ä¸­æå‡ºçš„æ–°æ¦‚å¿µï¼Œåœ¨Java8ä¸­å°±å·²ç»æ”¯æŒã€‚</p><p>ä»¥Threadä¸ºä¾‹ï¼Œçœ‹çœ‹ä»€ä¹ˆæ˜¯é—­åŒ…ï¼š</p><pre><code class="kotlin">// åˆ›å»ºä¸€ä¸ª Thread çš„å®Œæ•´å†™æ³•Thread(object : Runnable {    override fun run() {        ...    }})// æ»¡è¶³ SAMï¼Œå…ˆç®€åŒ–ä¸ºThread({    ...})// ä½¿ç”¨é—­åŒ…ï¼Œå†ç®€åŒ–ä¸ºThread {    ...}</code></pre><p>è¯­æ³•ç³–ï¼šå½“å‡½æ•°çš„æœ€åä¸€ä¸ªå‚æ•°æ˜¯lambdaè¡¨è¾¾å¼æ—¶ï¼Œå¯ä»¥å°†<strong>lambda</strong>å†™åœ¨<strong>æ‹¬å·å¤–</strong>ã€‚è¿™å°±æ˜¯å®ƒçš„<strong>é—­åŒ…åŸåˆ™</strong>ã€‚</p><h5 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h5><p>éœ€è¦ä¸€ä¸ªç±»å‹ä¸º Runnable çš„å‚æ•°ï¼Œè€Œ Runnable æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸”åªå®šä¹‰äº†ä¸€ä¸ªå‡½æ•° runï¼Œè¿™ç§æƒ…å†µæ»¡è¶³äº† Kotlin çš„SAMï¼Œå¯ä»¥è½¬æ¢æˆä¸€ä¸ªä¼ é€’çš„ lambdaè¡¨è¾¾å¼ï¼ˆç¬¬äºŒæ®µï¼‰ï¼Œä»¥ä¸ºé—­åŒ…åŸåˆ™ç›´æ¥å†™æˆ Thread{â€¦}ï¼ˆç¬¬ä¸‰æ®µï¼‰ã€‚</p><p>é€šè¿‡<strong>é—­åŒ…ç®€åŒ– launch å‡½æ•°</strong></p><pre><code class="kotlin">launch {    ...}</code></pre><h2 id="åŸºæœ¬ä½¿ç”¨åç¨‹"><a href="#åŸºæœ¬ä½¿ç”¨åç¨‹" class="headerlink" title="åŸºæœ¬ä½¿ç”¨åç¨‹"></a>åŸºæœ¬ä½¿ç”¨åç¨‹</h2><p>è¯´è¿‡<strong>launchå‡½æ•°ä¸æ˜¯é¡¶å±‚å‡½æ•°</strong> å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹åˆ—æ–¹æ³•æ¥åˆ›å»ºåç¨‹ï¼š</p><pre><code class="kotlin">// æ–¹æ³•ä¸€ï¼Œä½¿ç”¨ runBlocking é¡¶å±‚å‡½æ•°runBlocking {    getImage(imageId)}// æ–¹æ³•äºŒï¼Œä½¿ç”¨ GlobalScope å•ä¾‹å¯¹è±¡//            ğŸ‘‡ å¯ä»¥ç›´æ¥è°ƒç”¨ launch å¼€å¯åç¨‹GlobalScope.launch {    getImage(imageId)}// æ–¹æ³•ä¸‰ï¼Œè‡ªè¡Œé€šè¿‡ CoroutineContext åˆ›å»ºä¸€ä¸ª CoroutineScope å¯¹è±¡//                                    ğŸ‘‡ éœ€è¦ä¸€ä¸ªç±»å‹ä¸º CoroutineContext çš„å‚æ•°val coroutineScope = CoroutineScope(context)coroutineScope.launch {    getImage(imageId)}</code></pre><p>æ–¹æ³•â‘ ï¼Œå¤šç”¨äºå•å…ƒæµ‹è¯•ï¼Œä¸šåŠ¡å¼€å‘ä¸ä¼šç”¨åˆ°å®ƒï¼Œå› ä¸ºå®ƒæ˜¯çº¿ç¨‹é˜»å¡çš„ã€‚</p><p>æ–¹æ³•â‘¡ï¼Œåœ¨Androidä¸­ä¸æ¨èè¿™ç§ç”¨æ³•ï¼Œå› ä¸ºå®ƒçš„ç”Ÿå‘½å‘¨æœŸä¼šå’Œappä¸€ç›´ï¼Œä¸”ä¸èƒ½å¤Ÿå–æ¶ˆã€‚å’Œä½¿ç”¨runBlockingä¸åŒå®ƒä¸ä¼šé˜»å¡çº¿ç¨‹ã€‚</p><p>æ–¹æ³•ä¸‰ï¼Œ<strong>æ¨èç”¨æ³•</strong>ï¼Œé€šè¿‡contextå‚æ•°å»ç®¡ç†å’Œæ§åˆ¶åç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼ˆè¿™é‡Œçš„contextå’ŒAndroidé‡Œçš„ä¸æ˜¯åŒä¸€ç§ä¸œè¥¿ï¼Œæ›´åƒæ˜¯ä¸€ç§æ¦‚å¿µï¼Œä¼šæœ‰Androidå¹³å°çš„å°è£…é…åˆä½¿ç”¨ï¼‰</p><p>å…¶ä¸­ <strong>GlobaScope</strong>ä¸<strong>CoroutineScope</strong> çš„æ›´å¤šå†…å®¹åé¢çš„æ–‡ç« å†è¯´ã€‚</p><p>åç¨‹<strong>æœ€å¸¸ç”¨</strong>çš„<strong>åŠŸèƒ½</strong>æ˜¯<strong>å¹¶å‘</strong>ï¼Œè€Œå¹¶å‘æœ€å¸¸ç”¨çš„åœºæ™¯æ˜¯å¤šçº¿ç¨‹ã€‚å¯ä»¥ä½¿ç”¨<strong>Dispatchers</strong>.<strong>IO</strong>å‚æ•°æŠŠ<strong>ä»»åŠ¡åˆ‡æ¢åˆ°IOçº¿ç¨‹æ‰§è¡Œ</strong>ï¼š</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.IO) {    ...}</code></pre><p>ä½¿ç”¨ <strong>DIspatchers.Main</strong> å‚æ•°åˆ‡æ¢åˆ°ä¸»çº¿ç¨‹ï¼š</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.Main) {    ...}</code></pre><p>æ‰€ä»¥ã€ä»€ä¹ˆæ˜¯åç¨‹ã€‘ä¸­è¯´åˆ°çš„å¼‚æ­¥è¯·æ±‚çš„å®Œæ•´ä¾‹å­æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.Main) {   // åœ¨ä¸»çº¿ç¨‹å¼€å¯åç¨‹    val user = api.getUser() // IO çº¿ç¨‹æ‰§è¡Œç½‘ç»œè¯·æ±‚    nameTv.text = user.name  // ä¸»çº¿ç¨‹æ›´æ–° UI}</code></pre><p>åœ¨Javaä¸­å›è°ƒå¼çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class="kotlin">api.getUser(new Callback&lt;User&gt;() {    @Override    public void success(User user) {        runOnUiThread(new Runnable() {            @Override            public void run() {                nameTv.setText(user.name);            }        })    }    @Override    public void failure(Exception e) {        ...    }});</code></pre><h2 id="æ›´ä¸ºéº»çƒ¦çš„å¹¶å‘åœºæ™¯"><a href="#æ›´ä¸ºéº»çƒ¦çš„å¹¶å‘åœºæ™¯" class="headerlink" title="æ›´ä¸ºéº»çƒ¦çš„å¹¶å‘åœºæ™¯"></a>æ›´ä¸ºéº»çƒ¦çš„å¹¶å‘åœºæ™¯</h2><p>å¯¹äºå›è°ƒå¼çš„å†™æ³•ï¼Œå¦‚æœå¹¶å‘åœºæ™¯å†å¤æ‚ä¸€ç‚¹ï¼ŒåµŒå¥—çš„å¯èƒ½å¤Ÿå¤šã€‚å¦‚æœä½¿ç”¨åç¨‹ï¼Œå¤šå±‚ç½‘ç»œè¯·æ±‚ã€‚</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.Main) {       // å¼€å§‹åç¨‹ï¼šä¸»çº¿ç¨‹    val token = api.getToken()                  // ç½‘ç»œè¯·æ±‚ï¼šIO çº¿ç¨‹    val user = api.getUser(token)               // ç½‘ç»œè¯·æ±‚ï¼šIO çº¿ç¨‹    nameTv.text = user.name                     // æ›´æ–° UIï¼šä¸»çº¿ç¨‹}</code></pre><p>å¦‚æœè¿›è¡Œå¤šä¸ª<strong>ç½‘ç»œè¯·æ±‚</strong>ç­‰å¾…å®Œæˆå<strong>å†åˆ·æ–°UI</strong>ã€‚</p><pre><code class="kotlin">api.getAvatar(user, callback)api.getCompanyLogo(user, callback)</code></pre><p>å¦‚æœä½¿ç”¨å›è°ƒå¼å†™æ³•ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé€‰æ‹©å¦¥åï¼Œåˆ™ä½¿ç”¨å…ˆåè¯·æ±‚ä»£æ›¿åŒæ—¶è¯·æ±‚ã€‚</p><pre><code class="kotlin">api.getAvatar(user) { avatar -&gt;    api.getCompanyLogo(user) { logo -&gt;        show(merge(avatar, logo))    }}</code></pre><p>ä½¿ç”¨çª—å¸˜æ–¹å¼å»å®ç°å¯èƒ½ä¼šå¯¼è‡´ç­‰å¾…æ—¶é•¿äº†ä¸€å€ï¼Œä¹Ÿç›¸å·®äº†ä¸€å€çš„æ€§èƒ½ã€‚</p><h5 id="åç¨‹å¹¶è¡Œè¯·æ±‚ç½‘ç»œ"><a href="#åç¨‹å¹¶è¡Œè¯·æ±‚ç½‘ç»œ" class="headerlink" title="åç¨‹å¹¶è¡Œè¯·æ±‚ç½‘ç»œ"></a>åç¨‹å¹¶è¡Œè¯·æ±‚ç½‘ç»œ</h5><p>ä½¿ç”¨åç¨‹å¯ä»¥ç›´æ¥å¹¶è¡Œè¯·æ±‚ä¸Šä¸‹ä¸¤è¡Œï¼Œæœ€åæŠŠç»“æœåˆå¹¶å³å¯ï¼š</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.Main) {    //            ğŸ‘‡  async å‡½æ•°ä¹‹åå†è®²    val avatar = async { api.getAvatar(user) }    // è·å–ç”¨æˆ·å¤´åƒ    val logo = async { api.getCompanyLogo(user) } // è·å–ç”¨æˆ·æ‰€åœ¨å…¬å¸çš„ logo    val merged = suspendingMerge(avatar, logo)    // åˆå¹¶ç»“æœ    //                  ğŸ‘†    show(merged) // æ›´æ–° UI}</code></pre><p>å³ä¾¿æ˜¯æ¯”è¾ƒå¤æ‚çš„å¹¶è¡Œç½‘ç»œè¯·æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶è¡Œå†™å‡ºç»“æ„æ¸…æ™°çš„ä»£ç ã€‚<strong>suspendingMerge</strong> å¹¶ä¸æ˜¯åç¨‹APIæä¾›çš„æ–¹æ³•ï¼Œè€Œæ˜¯è‡ªå®šä¹‰æŒ‚èµ·çš„ç»“æœåˆå¹¶æ–¹æ³•ã€‚</p><h5 id="åç¨‹çš„ä¼˜åŠ¿"><a href="#åç¨‹çš„ä¼˜åŠ¿" class="headerlink" title="åç¨‹çš„ä¼˜åŠ¿"></a>åç¨‹çš„ä¼˜åŠ¿</h5><p>è®©å¤æ‚çš„å¹¶å‘ä»£ç ï¼Œå˜å¾—ç®€å•ä¸”æ¸…æ™°æ˜¯åç¨‹çš„ä¼˜åŠ¿ã€‚</p><h1 id="åç¨‹å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"><a href="#åç¨‹å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨" class="headerlink" title="åç¨‹å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨"></a>åç¨‹å¦‚ä½•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h1><h2 id="åœ¨é¡¹ç›®ä¸­é…ç½®å¯¹Kotlinåç¨‹çš„æ”¯æŒ"><a href="#åœ¨é¡¹ç›®ä¸­é…ç½®å¯¹Kotlinåç¨‹çš„æ”¯æŒ" class="headerlink" title="åœ¨é¡¹ç›®ä¸­é…ç½®å¯¹Kotlinåç¨‹çš„æ”¯æŒ"></a>åœ¨é¡¹ç›®ä¸­é…ç½®å¯¹Kotlinåç¨‹çš„æ”¯æŒ</h2><p>ä½¿ç”¨åç¨‹å‰ï¼Œéœ€è¦åœ¨ build.gradle æ–‡ä»¶ä¸­å¢åŠ  Kotlin åç¨‹çš„ä¾èµ–ï¼š</p><ul><li>é¡¹ç›®ç›®å½•ä¸‹</li></ul><pre><code class="kotlin">buildscript {    ...    // ğŸ‘‡    ext.kotlin_coroutines = &#39;1.3.1&#39;    ...}</code></pre><ul><li>Module ç›®å½•ä¸‹ï¼š</li></ul><pre><code class="kotlin">dependencies {    ...    //                                       ğŸ‘‡ ä¾èµ–åç¨‹æ ¸å¿ƒåº“    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines&quot;    //                                       ğŸ‘‡ ä¾èµ–å½“å‰å¹³å°æ‰€å¯¹åº”çš„å¹³å°åº“    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines&quot;    ...}</code></pre><p>Kotlin åç¨‹ä»¥å®˜æ–¹æ‰©å±•åº“çš„å½¢å¼è¿›è¡Œæ”¯æŒã€‚å…¶ä¸­ã€æ ¸å¿ƒåº“ã€‘å’Œã€å¹³å°åº“ã€‘çš„ç‰ˆæœ¬åº”è¯¥ä¿æŒä¸€è‡´ã€‚</p><ul><li><strong>æ ¸å¿ƒåº“</strong>ä¸ºåç¨‹çš„å…¬å…±APIéƒ¨åˆ†ã€‚ä¸ºæ‹‰åœ¨å„ä¸ªå¹³å°ç»Ÿä¸€æ¥å£ã€‚</li><li><strong>å¹³å°åº“</strong>ä¸»è¦ä¸ºåç¨‹åœ¨å…·ä½“å¹³å°çš„å…·ä½“å®ç°æ–¹å¼ã€‚åŸå› ï¼šå¤šçº¿ç¨‹åœ¨å„ä¸ªå¹³å°çš„å®ç°æ–¹å¼ä¸åŒã€‚</li></ul><h2 id="å¼€å§‹ä½¿ç”¨åç¨‹"><a href="#å¼€å§‹ä½¿ç”¨åç¨‹" class="headerlink" title="å¼€å§‹ä½¿ç”¨åç¨‹"></a>å¼€å§‹ä½¿ç”¨åç¨‹</h2><p><strong>åç¨‹æœ€ç®€å•çš„ä½¿ç”¨</strong>ã€‚é€šè¿‡<strong>launch</strong>å‡½æ•°å®ç°çº¿ç¨‹åˆ‡æ¢çš„åŠŸèƒ½ï¼š</p><pre><code class="kotlin">//               ğŸ‘‡coroutineScope.launch(Dispatchers.IO) {    ...}</code></pre><h5 id="ä»£ç ä¸­åç¨‹çš„è¡¨ç°ã€‚"><a href="#ä»£ç ä¸­åç¨‹çš„è¡¨ç°ã€‚" class="headerlink" title="ä»£ç ä¸­åç¨‹çš„è¡¨ç°ã€‚"></a><strong>ä»£ç ä¸­åç¨‹çš„è¡¨ç°ã€‚</strong></h5><p><strong>launch</strong> å‡½æ•°ï¼šæˆ‘è¦åˆ›å»ºåç¨‹ï¼Œå¹¶åœ¨æŒ‡å®šçš„çº¿ç¨‹ä¸­è¿è¡Œå®ƒã€‚è¢«åˆ›å»ºçš„ã€åç¨‹ã€‘æ˜¯è°ï¼Ÿ å°±æ˜¯ä½ ä¼ ç»™ launchçš„ä»£ç ï¼Œè¿™æ®µä»£ç å«ã€åç¨‹ã€‘ã€‚</p><p>å½“ä½ è¦åˆ‡æ¢çº¿ç¨‹æˆ–æŒ‡å®šçº¿ç¨‹æ—¶ã€‚<strong>è¦åœ¨åå°æ‰§è¡Œä»»åŠ¡ï¼Ÿ</strong></p><pre><code class="kotlin">launch(Dispatchers.IO) {    val image = getImage(imageId)}</code></pre><p><strong>åˆ‡æ¢åˆ°å‰å°åˆ·æ–°ç•Œé¢ï¼Ÿ</strong></p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.IO) {    val image = getImage(imageId)    launch(Dispatchers.Main) {        avatarIv.setImageBitmap(image)    }}</code></pre><p>å‘ç”Ÿäº†åµŒå¥—çš„ä»£ç ã€‚</p><h5 id="é¿å…åµŒå¥—çš„æ ·å­ä½¿ç”¨åç¨‹"><a href="#é¿å…åµŒå¥—çš„æ ·å­ä½¿ç”¨åç¨‹" class="headerlink" title="é¿å…åµŒå¥—çš„æ ·å­ä½¿ç”¨åç¨‹"></a>é¿å…åµŒå¥—çš„æ ·å­ä½¿ç”¨åç¨‹</h5><p>å•å•ä½¿ç”¨åç¨‹å¹¶ä¸ä¼šæ¯”çº¿ç¨‹åšæ›´å¤šçš„äº‹æƒ…ã€‚ä½¿ç”¨æ›´å®ç”¨çš„å‡½æ•°ï¼š<strong>withContext</strong>ã€‚æŒ‡å®šåˆ‡æ¢çº¿ç¨‹ï¼Œå¹¶ä¸”åœ¨æ‰§è¡Œå®Œå†…éƒ¨é€»è¾‘åï¼Œè‡ªåŠ¨çº¿ç¨‹åˆ‡å›æ‰§è¡Œã€‚ä¸Šè¿°ä»£ç ä½¿ç”¨ withContextï¼š</p><pre><code class="kotlin">coroutineScope.launch(Dispatchers.Main) {      // ğŸ‘ˆ åœ¨ UI çº¿ç¨‹å¼€å§‹    val image = withContext(Dispatchers.IO) {  // ğŸ‘ˆ åˆ‡æ¢åˆ° IO çº¿ç¨‹ï¼Œå¹¶åœ¨æ‰§è¡Œå®Œæˆååˆ‡å› UI çº¿ç¨‹        getImage(imageId)                      // ğŸ‘ˆ å°†ä¼šè¿è¡Œåœ¨ IO çº¿ç¨‹    }    avatarIv.setImageBitmap(image)             // ğŸ‘ˆ å›åˆ° UI çº¿ç¨‹æ›´æ–° UI} </code></pre><h5 id="æ¯”è¾ƒä¸¤ç§å†™æ³•æ¥ä½“ç°-withContextçš„ä¼˜åŠ¿"><a href="#æ¯”è¾ƒä¸¤ç§å†™æ³•æ¥ä½“ç°-withContextçš„ä¼˜åŠ¿" class="headerlink" title="æ¯”è¾ƒä¸¤ç§å†™æ³•æ¥ä½“ç° withContextçš„ä¼˜åŠ¿"></a>æ¯”è¾ƒä¸¤ç§å†™æ³•æ¥ä½“ç° withContextçš„ä¼˜åŠ¿</h5><p>å½“è¦é¢‘ç¹åˆ‡æ¢çº¿ç¨‹æ—¶ã€‚é€šè¿‡ä¸‹å±ä»£ç å¯¹æ¯”ï¼š</p><pre><code class="kotlin">// ç¬¬ä¸€ç§å†™æ³•coroutineScope.launch(Dispatchers.IO) {    ...    launch(Dispatchers.Main){        ...        launch(Dispatchers.IO) {            ...            launch(Dispatchers.Main) {                ...            }        }    }}// é€šè¿‡ç¬¬äºŒç§å†™æ³•æ¥å®ç°ç›¸åŒçš„é€»è¾‘coroutineScope.launch(Dispatchers.Main) {    ...    withContext(Dispatchers.IO) {        ...    }    ...    withContext(Dispatchers.IO) {        ...    }    ...}</code></pre><p><strong>ä¼˜åŠ¿ï¼š</strong></p><p>ç”±äºå®ƒå¯ä»¥â€œæ¥å›åˆ‡å›æ¥â€æ¶ˆé™¤äº†å¹¶å‘ä»£ç åœ¨åä½œæ—¶çš„åµŒå¥—ã€‚æ¶ˆé™¤äº†åµŒå¥—å…³ç³»ï¼Œè¿˜å¯ä»¥å°† <strong>withContext</strong> æ”¾åœ¨å•ç‹¬çš„å‡½æ•°é‡Œï¼š</p><pre><code class="kotlin">launch(Dispatchers.Main) {              // ğŸ‘ˆ åœ¨ UI çº¿ç¨‹å¼€å§‹    val image = getImage(imageId)    avatarIv.setImageBitmap(image)     // ğŸ‘ˆ æ‰§è¡Œç»“æŸåï¼Œè‡ªåŠ¨åˆ‡æ¢å› UI çº¿ç¨‹}//                               ğŸ‘‡fun getImage(imageId: Int) = withContext(Dispatchers.IO) {    ...}</code></pre><p>å®ç°äº†ã€åŒæ­¥çš„æ–¹å¼å†™å¼‚æ­¥çš„ä»£ç ã€‘ã€‚</p><pre><code class="kotlin">launch(Dispatchers.Main) {              // ğŸ‘ˆ åœ¨ UI çº¿ç¨‹å¼€å§‹    val image = getImage(imageId)    avatarIv.setImageBitmap(image)     // ğŸ‘ˆ æ‰§è¡Œç»“æŸåï¼Œè‡ªåŠ¨åˆ‡æ¢å› UI çº¿ç¨‹}//                               ğŸ‘‡fun getImage(imageId: Int) = withContext(Dispatchers.IO) {    ...}</code></pre><p><strong>withContext å•ç‹¬æ”¾åœ¨å‡½æ•°ä¸­è¦æ³¨æ„é‚£äº›</strong></p><pre><code class="kotlin">fun getImage(imageId: Int) = withContext(Dispatchers.IO) {    // IDE æŠ¥é”™ Suspend function&#39;withContext&#39; should be called only from a coroutine or another suspend funcion}</code></pre><p><strong>éœ€è¦åœ¨ suspendå‡½æ•°ä¸­è°ƒç”¨</strong>ã€‚ï¼ˆ<strong>withContext</strong> æ˜¯<strong>ä¸€ä¸ª suspend</strong> å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦åœ¨<strong>åç¨‹</strong>æˆ–è€…<strong>suspendå‡½æ•°</strong>ä¸­è°ƒç”¨ã€‚ï¼‰</p><h2 id="ä»€ä¹ˆæ˜¯-suspend-å‡½æ•°"><a href="#ä»€ä¹ˆæ˜¯-suspend-å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯ suspend å‡½æ•°"></a>ä»€ä¹ˆæ˜¯ suspend å‡½æ•°</h2><p><strong>suspend</strong> å‡½æ•°æ˜¯<strong>kotlinåç¨‹</strong>æœ€æ ¸å¿ƒçš„å…³é”®å­—ã€‚ä¸­æ–‡æ„æ€ä¸ºã€æš‚åœã€‘ã€ã€å¯æŒ‚èµ·ã€‘ã€‚</p><p>è§£é‡Šï¼š</p><blockquote><p>ä»£ç æ‰§è¡Œåˆ° <strong>suspend å‡½æ•°</strong>çš„æ—¶å€™ä¼šã€<strong>æŒ‚èµ·</strong>ã€‘ï¼Œå¹¶ä¸”è¿™ä¸ª<strong>ã€æŒ‚èµ·ã€‘</strong>æ˜¯<strong>éé˜»å¡å¼</strong>çš„ï¼Œä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚</p></blockquote><p>ä¿®æ”¹ä¸Šè¿°ä»£ç è®©å®ƒå¯ä»¥æ‰§è¡Œï¼š</p><pre><code class="kotlin">//ğŸ‘‡suspend fun getImage(imageId: Int) = withContext(Dispatchers.IO) {    ...}</code></pre><p>åˆ°åº•ä»€ä¹ˆæ˜¯ suspend ï¼Œä»€ä¹ˆæ˜¯ ã€éé˜»å¡ã€‘ï¼Œå¦‚ä½•ã€æŒ‚èµ·ã€‘ã€‚ä¸‹ç¯‡ã€‚</p><h1 id="ã€æŒ‚èµ·çš„æœ¬è´¨ã€‘"><a href="#ã€æŒ‚èµ·çš„æœ¬è´¨ã€‘" class="headerlink" title="ã€æŒ‚èµ·çš„æœ¬è´¨ã€‘"></a>ã€æŒ‚èµ·çš„æœ¬è´¨ã€‘</h1><p>åç¨‹ä¸­æŒ‚èµ·çš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ     <strong>æŒ‚èµ·çš„å¯¹è±¡æ˜¯åç¨‹ã€‚</strong></p><p>åç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>å¯åŠ¨ä¸€ä¸ªåç¨‹å¯ä»¥ä½¿ç”¨ <strong>launch æˆ–è€… async å‡½æ•°</strong>ï¼Œåç¨‹å°±æ˜¯<strong>è¿™ä¸¤ä¸ªå‡½æ•°ä¸­é—­åŒ…çš„ä»£ç å—</strong>ã€‚<strong>launchï¼Œasync æˆ–è€…å…¶ä»–å‡½æ•°åˆ›å»ºçš„åç¨‹ï¼Œ</strong>åœ¨æ‰§è¡Œåˆ°æŸä¸ª suspendå‡½æ•°æ—¶ï¼Œè¿™ä¸ªåç¨‹ä¼šè¢« ã€<strong>suspend</strong>ã€‘æŒ‚èµ·ã€‚</p></blockquote><p>ä»å“ªé‡ŒæŒ‚èµ·ï¼Ÿ</p><blockquote><p>åœ¨å½“å‰çº¿ç¨‹æŒ‚èµ·ã€‚å°±æ˜¯è¯´<strong>å½“å‰åç¨‹</strong>åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¸­è„±ç¦»ã€‚æ³¨æ„ å®ƒåªæ˜¯è„±ç¦»äº†ï¼Œå½“å‰çº¿ç¨‹ä¸å†å»ç®¡ç†è¿™ä¸ªåç¨‹è¦æ±‚åšä»€ä¹ˆã€‚</p></blockquote><p><strong>å½“çº¿ç¨‹æ‰§è¡Œåˆ°åç¨‹çš„suspendå‡½æ•°çš„æ—¶å€™ï¼Œæš‚æ—¶ä¸å†æ‰§è¡Œåç¨‹ä¸­çš„ä»£ç äº†ã€‚</strong></p><p>åˆ†å¼€æ¥çœ‹ï¼Œäº’ç›¸è„±ç¦»çš„çº¿ç¨‹å’Œåç¨‹æ¥ä¸‹æ¥å°†å‘ç”Ÿä»€ä¹ˆäº‹æƒ…ã€‚</p><h4 id="çº¿ç¨‹ï¼š"><a href="#çº¿ç¨‹ï¼š" class="headerlink" title="çº¿ç¨‹ï¼š"></a>çº¿ç¨‹ï¼š</h4><p>åç¨‹çš„ä»£ç å—ä¸­ï¼Œ<strong>çº¿ç¨‹æ‰§è¡Œåˆ°äº†suspendå‡½æ•°è¿™é‡Œçš„æ—¶å€™ï¼Œå°±æš‚æ—¶ä¸å†æ‰§è¡Œå‰©ä½™çš„åç¨‹ä»£ç ï¼Œè·³å‡ºåç¨‹çš„ä»£ç å—ã€‚</strong></p><p>é‚£çº¿ç¨‹æ¥ä¸‹æ¥ä¼šåšä»€ä¹ˆï¼Ÿ</p><p>ä¾‹å¦‚å®ƒæ˜¯åå°çº¿ç¨‹ï¼š</p><ul><li>æ— äº‹å¯åšï¼Œè¢«ç³»ç»Ÿå›æ”¶</li><li>ç»§ç»­æ‰§è¡Œåˆ«çš„åå°ä»»åŠ¡</li></ul><p>åŒJavaçº¿ç¨‹æ± ç”¨åˆ°çº¿ç¨‹åœ¨å·¥ä½œç»“æŸåçš„å®Œå…¨ä¸€æ ·ï¼šå›æ”¶æˆ–è€…å†åˆ©ç”¨ã€‚</p><p>å¦‚æœæ˜¯ä¸ªAndroidçš„ä¸»çº¿ç¨‹ï¼Œé‚£ä¹ˆå®ƒä¼šä»¥ä¸€ç§’å…­åæ¬¡çš„ç•Œé¢åˆ·æ–°ä»»åŠ¡ã€‚</p><p>å¸¸è§çš„åœºæ™¯æ˜¯ï¼Œè·å–å›¾ç‰‡ï¼Œæ˜¾ç¤ºå‡ºæ¥ï¼š</p><pre><code class="kotlin">// ä¸»çº¿ç¨‹ä¸­GlobalScope.launch(Dispatchers.Main) {  val image = suspendingGetImage(imageId)  // è·å–å›¾ç‰‡  avatarIv.setImageBitmap(image)           // æ˜¾ç¤ºå‡ºæ¥}suspend fun suspendingGetImage(id: String) = withContext(Dispatchers.IO) {  ...}</code></pre><p>åœ¨ä¸»çº¿ç¨‹çš„åç¨‹ï¼Œ<strong>å®ƒå®è´¨ä¸Šä¼šå¾€ä½ çš„ä¸»çº¿ç¨‹ post ä¸€ä¸ª Runnableï¼Œè¿™ä¸ª Runnable å°±æ˜¯ä½ çš„åç¨‹ä»£ç ï¼š</strong></p><pre><code class="kotlin">handler.post {  val image = suspendingGetImage(imageId)  avatarIv.setImageBitmap(image)}</code></pre><p>åç¨‹è¢«æŒ‚èµ·æ—¶ï¼Œ<strong>ä¸»çº¿ç¨‹çš„ post çš„Runnable æå‰ç»“æŸï¼Œç„¶åç»§ç»­æ‰§è¡Œå®ƒç•Œé¢çš„åˆ·æ–°ä»»åŠ¡ã€‚</strong></p><h4 id="åç¨‹ï¼š"><a href="#åç¨‹ï¼š" class="headerlink" title="åç¨‹ï¼š"></a>åç¨‹ï¼š</h4><p>çº¿ç¨‹çš„ä»£ç åœ¨åˆ°è¾¾ <strong>suspend</strong>å‡½æ•°æ—¶ä¼šè¢«ææ–­ï¼Œ<strong>åç¨‹ä¼šä»è¿™ä¸ª suspend å‡½æ•°å¼€å§‹ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œä¸è¿‡æ˜¯åœ¨æŒ‡å®šçš„çº¿ç¨‹</strong>ã€‚</p><p>è°æŒ‡å®šçš„ï¼Ÿ</p><blockquote><p>suspend å‡½æ•°æŒ‡å®šçš„ï¼Œ æ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­ï¼Œ å‡½æ•°å†…éƒ¨çš„withContextä¼ å…¥çš„Dispatchers.IOæ‰€æŒ‡å®šçš„IOçº¿ç¨‹ã€‚</p></blockquote><p><strong>Dispatchers è°ƒåº¦å™¨ï¼Œé™åˆ¶åç¨‹åœ¨ç‰¹å®šçš„çº¿ç¨‹æ‰§è¡Œï¼Œæˆ–è€…åˆ†æ´¾çš„ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæˆ–è€…è®©å®ƒä¸å—é™åˆ¶çš„è¿è¡Œã€‚</strong></p><p>å¸¸ç”¨çš„ Dispatchersï¼Œå…±æœ‰é‚£äº›ï¼š</p><ul><li><strong>Dispatchers.Main</strong>:Androidçš„ä¸»çº¿ç¨‹</li><li><strong>DIspatchers.IO</strong>:é’ˆå¯¹ç£ç›˜å’Œç½‘ç»œIOè¿›è¡Œäº†ä¼˜åŒ–ï¼Œé€‚åˆIOå¯†é›†å‹çš„ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šè¯»å†™æ–‡ä»¶ï¼Œæ“ä½œæ•°æ®åº“ä»¥åŠç½‘ç»œè¯·æ±‚</li><li><strong>Dispatchers.Detault</strong>:é€‚åˆGPUå¯†é›†å‹ä»»åŠ¡ï¼Œä¾‹å¦‚è®¡ç®—ã€‚</li></ul><p>åç¨‹ä» <strong>suspend</strong> å‡½æ•°å¼€å§‹è„±ç¦»å¯åŠ¨å®ƒçš„çº¿ç¨‹ï¼Œç»§ç»­æ‰§è¡Œåœ¨ <strong>Dispatchers</strong> æ‰€æŒ‡å®šçš„IOçº¿ç¨‹ã€‚</p><p>åœ¨ suspend å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œåç¨‹ä¸ºæˆ‘ä»¬ï¼š<strong>è‡ªåŠ¨å°†çº¿ç¨‹åˆ‡å›æ¥</strong></p><p><strong>åˆ‡å›ï¼Ÿä»€ä¹ˆæ„æ€ï¼Ÿ</strong></p><p>åç¨‹åŸæœ¬æ˜¯åœ¨ <strong>ä¸»çº¿ç¨‹ä¸­è¿åŠ¨çš„</strong>ï¼Œåœ¨ä»£ç æ‰§åˆ° <strong>suspend</strong> å‡½æ•°çš„æ—¶å€™ï¼Œå‘ç”Ÿçº¿ç¨‹åˆ‡æ¢ï¼Œæ ¹æ® <strong>Dispatchers</strong> åˆ‡æ¢åˆ°äº†IOçº¿ç¨‹ï¼›</p><p>ã€<strong>åˆ‡å›</strong>ã€‘æ˜¯åç¨‹ä¼šæ£’æˆ‘å† post ä¸€ä¸ª Runnableï¼Œè®©å‰©ä¸‹çš„ä»£ç ç»§ç»­å›åˆ°ä¸»çº¿ç¨‹å»æ‰§è¡Œã€‚</p><h4 id="æœ¬è´¨ï¼š"><a href="#æœ¬è´¨ï¼š" class="headerlink" title="æœ¬è´¨ï¼š"></a>æœ¬è´¨ï¼š</h4><p>åç¨‹å†æ‰§è¡Œåˆ°æ ‡è®°æœ‰suspendæ ‡è®°çš„å‡½æ•°æ—¶ï¼Œä¼šè¢«suspendä¹Ÿå°±æ˜¯æŒ‚èµ·ï¼Œè€Œæ‰€è°“çš„æŒ‚èµ·ï¼Œå°±æ˜¯åˆ‡çº¿ç¨‹ï¼›ä¸åŒåœ¨äºï¼Œ<strong>æŒ‚èµ·å‡½æ•°åœ¨æ‰§è¡Œå®Œæˆä¹‹åï¼Œåç¨‹ä¼šé‡æ–°åˆ‡å›å®ƒçš„çº¿ç¨‹ã€‚</strong> å†ç®€å•æ¥è¯´ï¼š<strong>kotlin ä¸­æŒ‚èµ·ï¼Œå°±æ˜¯ä¸€ä¸ªç¨åä¼šè¢«è‡ªåŠ¨åˆ‡å›çš„çº¿ç¨‹è°ƒåº¦æ“ä½œã€‚</strong></p><blockquote><p>ã€åˆ‡å›ã€‘åŠ¨ä½œï¼Œåœ¨kotliné‡Œå«åš resumeï¼Œ</p></blockquote><p>å‡½æ•°æŒ‚èµ·åæ˜¯éœ€è¦æ¢å¤çš„ã€‚</p><p>è€Œæ¢å¤è¿™ä¸ªåŠŸèƒ½æ˜¯åç¨‹çš„ï¼Œå¦‚æœä¸åœ¨åç¨‹é‡Œè°ƒç”¨ï¼Œæ¢å¤è¿™ä¸ªåŠŸèƒ½æ˜¯æ²¡æ³•å®ç°çš„ï¼Œæ‰€ä»¥ä¹Ÿå°±å›ç­”äº†è¿™ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆæŒ‚èµ·å‡½æ•°å¿…é¡»åœ¨åç¨‹æˆ–è€…å¦ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ä¸­è°ƒç”¨ã€‚</p><h1 id="å¦‚ä½•æŒ‚èµ·çš„ï¼Ÿ"><a href="#å¦‚ä½•æŒ‚èµ·çš„ï¼Ÿ" class="headerlink" title="å¦‚ä½•æŒ‚èµ·çš„ï¼Ÿ"></a>å¦‚ä½•æŒ‚èµ·çš„ï¼Ÿ</h1><p>ã€<strong>æŒ‚èµ·</strong>ã€‘æ˜¯å¦‚ä½•åšåˆ°çš„ã€‚</p><p>å®šä¹‰çš„ä»»æ„å‡½æ•°ï¼š</p><pre><code class="kotlin">suspend fun suspendingPrint() {  println(&quot;Thread: ${Thread.currentThread().name}&quot;)}I/System.out: Thread: main</code></pre><p>è¾“å‡ºç»“æœè¿˜æ˜¯ä¸ºä¸»çº¿ç¨‹ã€‚</p><p>ä¸ºä½•æ²¡æœ‰åˆ‡æ¢çº¿ç¨‹äº†ï¼Ÿå› ä¸ºå®ƒå¹¶ä¸çŸ¥é“å¾€å“ªé‡Œåˆ‡ï¼Œéœ€è¦æˆ‘ä»¬å‘Šè¯‰å®ƒã€‚</p><p>å¯¹æ¯”ä¹‹å‰ä¾‹å­ä¸­çš„ suspendingGetImageå‡½æ•°ä»£ç ï¼š</p><pre><code class="kotlin">//                                               ğŸ‘‡suspend fun suspendingGetImage(id: String) = withContext(Dispatchers.IO) {  ...}</code></pre><p>ä¸åŒä¹‹å¤„åœ¨äº <strong>withContext</strong> å‡½æ•°</p><p><strong>withContext</strong>æºç å¯çŸ¥ï¼Œ<strong>å®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªDispatcher å‡½æ•°ï¼Œä¾èµ–è¿™ä¸ªDispatcher å‡½æ•°çš„æŒ‡ç¤ºï¼Œä½ çš„åç¨‹è¢«æŒ‚èµ·ï¼Œç„¶ååˆ‡æ¢åˆ°åˆ«çš„çº¿ç¨‹ã€‚</strong></p><p>æ‰€ä»¥suspendï¼Œå¹¶ä¸èƒ½èµ·åˆ°æŒ‚èµ·å‡½æ•°çš„ä½œç”¨ã€‚</p><p>è€ŒçœŸæ­£æŒ‚èµ·åç¨‹çš„ï¼Œkotlinåç¨‹æ¡†æ¶å¸®åŠ©æˆ‘ä»¬åšçš„ã€‚</p><p>åŠ ä¸Š suspend å…³é”®è¯æ˜¯ä¸è¡Œçš„ï¼Œè¿˜éœ€è¦ç›´æ¥æˆ–è€…é—´æ¥çš„è°ƒç”¨åˆ° kotlin åç¨‹æ¡†æ¶è‡ªå¸¦çš„ <strong>suspend</strong> å‡½æ•°æ‰è¡Œã€‚</p><h1 id="suspend-çš„æ„ä¹‰ï¼Ÿ"><a href="#suspend-çš„æ„ä¹‰ï¼Ÿ" class="headerlink" title="suspend çš„æ„ä¹‰ï¼Ÿ"></a>suspend çš„æ„ä¹‰ï¼Ÿ</h1><p>è¿™ä¸ªå…³é”®è¯æœ€é‡è¦çš„ä½œç”¨å°±æ˜¯<strong>æé†’</strong>ã€‚</p><p>æé†’ä½ è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªæŒ‚èµ·æ“ä½œï¼Œ<strong>æé†’å®ƒæ˜¯ä¸ªè€—æ—¶å‡½æ•°ï¼Œè¯·åœ¨åç¨‹ä½ è°ƒç”¨å®ƒã€‚</strong></p><pre><code class="kotlin">// ğŸ‘‡ redundant suspend modifiersuspend fun suspendingPrint() {  println(&quot;Thread: ${Thread.currentThread().name}&quot;)}</code></pre><p>å¦‚æœä½ åˆ›å»ºä½¿ç”¨ <strong>suspend</strong> å‡½æ•°ä½†æ˜¯å®ƒå†…éƒ¨å¹¶æ²¡æœ‰åŒ…å«çœŸæ­£çš„æŒ‚èµ·é€»è¾‘æ—¶ï¼Œ<strong>ç¼–è¯‘å™¨ä¼šç»™ä½ æç¤º</strong>ï¼š<strong>redundant suspend modigier</strong>ï¼Œè¿™ä¸ª <strong>suspend</strong> å…³é”®è¯æ˜¯å¤šä½™çš„ã€‚</p><p>å› ä¸ºè¿™ä¸ªå‡½æ•°å¹¶æ²¡æœ‰å‘ç”ŸçœŸæ­£çš„æŒ‚èµ·ï¼Œæ­¤æ—¶ suspend å…³é”®è¯åªæœ‰ä¸€ä¸ªæ•ˆæœï¼š<strong>é™åˆ¶è¿™ä¸ªå‡½æ•°åªèƒ½åœ¨åç¨‹é‡Œè¢«è°ƒç”¨ï¼Œåœ¨éåç¨‹çš„ä»£ç ä¸­æ˜¯æ— æ³•è°ƒç”¨çš„ã€‚</strong></p><p>åˆ›å»ºsuspendå‡½æ•°ï¼Œè¦åœ¨å®ƒå†…éƒ¨ç›´æ¥æˆ–è€…é—´æ¥çš„è°ƒç”¨ kotlin è‡ªå¸¦çš„suspend å‡½æ•°ï¼Œè¿™æ˜¯ä½ çš„ suspendæ‰æœ‰æ„ä¹‰ã€‚</p><h1 id="å¦‚ä½•è‡ªå®šä¹‰-suspend-å‡½æ•°ï¼Ÿ"><a href="#å¦‚ä½•è‡ªå®šä¹‰-suspend-å‡½æ•°ï¼Ÿ" class="headerlink" title="å¦‚ä½•è‡ªå®šä¹‰ suspend å‡½æ•°ï¼Ÿ"></a>å¦‚ä½•è‡ªå®šä¹‰ suspend å‡½æ•°ï¼Ÿ</h1><p>å…ˆåˆ†ä¸ºä¸¤ä¸ªé—®é¢˜:</p><ul><li>ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ suspend å‡½æ•°ï¼Ÿ</li><li>å…·ä½“åº”è¯¥æ€ä¹ˆå†™?</li></ul><h4 id="ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰-suspend-å‡½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰-suspend-å‡½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ suspend å‡½æ•°ï¼Ÿ"></a><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ suspend å‡½æ•°ï¼Ÿ</strong></h4><p>æŸä¸ªå‡½æ•°éœ€è¦è€—æ—¶æ“ä½œæ—¶ï¼Œé‚£å°±å¯ä»¥æŠŠå®ƒå†™æˆ suspend å‡½æ•°ã€‚è¿™æ˜¯åŸåˆ™ã€‚</p><p>è€—æ—¶æ“ä½œå…±åˆ†ä¸ºä¸¤ç±»ï¼šIOæ“ä½œå’ŒCPUè®¡ç®—å·¥ä½œï¼Œæ¯”å¦‚æ–‡ä»¶çš„è¯»å†™ã€ç½‘ç»œäº¤ä»˜ã€å›¾ç‰‡çš„æ¨¡ç³Šå¤„ç†ï¼Œéƒ½æ˜¯è€—æ—¶çš„ã€‚</p><h4 id="å…·ä½“æ“ä½œï¼š"><a href="#å…·ä½“æ“ä½œï¼š" class="headerlink" title="å…·ä½“æ“ä½œï¼š"></a>å…·ä½“æ“ä½œï¼š</h4><p>ç»™å‡½æ•°åŠ ä¸Š <strong>suspend</strong> å…³é”®å­—ï¼Œç„¶å <strong>withContext</strong> æŠŠå‡½æ•°çš„å†…å®¹åŒ…ä½å°±å¯ä»¥äº†ã€‚</p><p>ä½¿ç”¨ <strong>withContext</strong> æ˜¯å› ä¸ºå®ƒåœ¨æŒ‚èµ·å‡½æ•°ä¸­åŠŸèƒ½æœ€ç®€å•ç›´æ¥ï¼šæŠŠçº¿ç¨‹è‡ªåŠ¨åˆ‡èµ°æˆ–è€…åˆ‡å›ã€‚</p><p>å½“ç„¶å¹¶ä¸æ˜¯åªæœ‰ <strong>withContext</strong> è¿™ä¸ªå‡½æ•°æ¥è¾…åŠ©æˆ‘ä»¬è‡ªå®šä¹‰<strong>suspend</strong> å‡½æ•°ï¼Œæ¯”å¦‚æŒ‚èµ·å‡½æ•° <strong>delay</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯ç­‰å¾…æŒ‡å®šæ—¶é—´å†å¾€ä¸‹æ‰§è¡Œä»£ç ã€‚</p><p><strong>ä½¿ç”¨delayæ‰§è¡Œç­‰å¾…è€—æ—¶æ“ä½œ</strong></p><pre><code class="kotlin">suspend fun suspendUntilDone() {  while (!done) {    delay(5)  }}</code></pre><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä»€ä¹ˆæ˜¯æŒ‚èµ·ï¼Ÿ</p><blockquote><p>æŒ‚èµ·ï¼Œå°±æ˜¯ä¸€ä¸ªç¨åä¼šè¢«æŒ‡å®šåˆ‡å›æ¥çš„çº¿ç¨‹è°ƒåº¦æ“ä½œã€‚</p></blockquote><p>ç–‘æƒ‘ï¼š</p><p>åç¨‹ä¸­çš„éé˜»å¡å¼æ˜¯ä»€ä¹ˆ</p><p>åç¨‹å’ŒRxJavaåœ¨åˆ‡æ¢çº¿ç¨‹æ–¹é¢åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½èƒ½å†™å‡ºé¿å…åµŒå¥—å›è°ƒçš„å¤æ‚å¹¶å‘ä»£ç ï¼Œåç¨‹ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Œæˆ–è€…è®©å¼€å‘è€…ä½¿ç”¨çš„ç†ç”±ï¼Ÿ</p><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="https://kaixue.io/kotlin-coroutines-1/" target="_blank" rel="noopener">Kotlin çš„åç¨‹ç”¨åŠ›ç¥ä¸€çœ¼ - å­¦ä¸ä¼šåç¨‹ï¼Ÿå¾ˆå¯èƒ½å› ä¸ºä½ çœ‹è¿‡çš„æ•™ç¨‹éƒ½æ˜¯é”™çš„</a></p><p><a href="https://kaixue.io/kotlin-coroutines-2/" target="_blank" rel="noopener">Kotlin åç¨‹çš„æŒ‚èµ·å¥½ç¥å¥‡å¥½éš¾æ‡‚ï¼Ÿä»Šå¤©æˆ‘æŠŠå®ƒçš„çš®ç»™æ‰’äº†</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lifecycle è®²è§£</title>
      <link href="/2020/10/11/Lifecycle/"/>
      <url>/2020/10/11/Lifecycle/</url>
      
        <content type="html"><![CDATA[<h1 id="Lifecycleä½¿ç”¨è¯¦è§£"><a href="#Lifecycleä½¿ç”¨è¯¦è§£" class="headerlink" title="Lifecycleä½¿ç”¨è¯¦è§£"></a>Lifecycleä½¿ç”¨è¯¦è§£</h1><h2 id="Lifecycleå¯ä»¥åšä»€ä¹ˆ"><a href="#Lifecycleå¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="Lifecycleå¯ä»¥åšä»€ä¹ˆ"></a>Lifecycleå¯ä»¥åšä»€ä¹ˆ</h2><p><strong>Lifecycle æ˜¯å…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›çš„ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Activityæˆ–è€…Fragmentçš„ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå˜åŠ¨çš„æ˜¯å¦å¾—åˆ°é€šçŸ¥</strong>ã€‚æˆ‘ä»¬å¾€å¾€ä¼šåœ¨Activityçš„å„ç§ç”Ÿå‘½å‘¨æœŸæ–¹æ³•é‡Œæ‰§è¡Œç‰¹å®šçš„æ–¹æ³•ã€‚</p><pre><code class="java">public class TestActivity extends AppCompatActivity {    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_test);    }    @Override    protected void onStart() {        super.onStart();        EventBus.getDefault().register(this);    }    @Override    protected void onDestroy() {        EventBus.getDefault().unregister(this);        super.onDestroy();    }}</code></pre><p>å¦‚æœæˆ‘ä»¬æŠŠå¾ˆå¤šè¿™ç§éœ€è¦è·Ÿç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é€»è¾‘ä»£ç ç›´æ¥æ”¾åœ¨Activityçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ï¼ŒActivityä¼šå˜çš„å¾ˆéš¾ä»¥ç»´æŠ¤çš„ã€‚é€šè¿‡ä½¿ç”¨Lifecycleï¼Œæ¥é¿å…è¿™ç§æƒ…å†µã€‚</p><h2 id="Lifecycleä½¿ç”¨"><a href="#Lifecycleä½¿ç”¨" class="headerlink" title="Lifecycleä½¿ç”¨"></a>Lifecycleä½¿ç”¨</h2><p>å¯¼å…¥Lifecycleä¾èµ–</p><p>AndroidX:</p><pre><code class="groovy">implementation &quot;androidx.lifecycle:lifecycle-runtime:2.0.0&quot;</code></pre><h3 id="Lifecycler-å®ç°æœºåˆ¶"><a href="#Lifecycler-å®ç°æœºåˆ¶" class="headerlink" title="Lifecycler å®ç°æœºåˆ¶"></a>Lifecycler å®ç°æœºåˆ¶</h3><ol><li><strong>éœ€è¦ä¸€ä¸ªæ„å»ºLifecycleå¯¹è±¡</strong>ï¼ˆé€šè¿‡ä¸€ä¸ªå®ç°äº†LifecycleOwneræ¥å£çš„å¯¹è±¡ getLifecycle() æ–¹æ³•è¿”å›ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯ä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼Œå…·æœ‰ç”Ÿå‘½æ„ŸçŸ¥èƒ½åŠ›ã€‚</li><li><strong>æ„å»ºä¸€ä¸ªLifecycleObserverå¯¹è±¡ï¼Œ</strong>å¯¹æŒ‡å®šçš„Lifecycleå¯¹è±¡è¿›è¡Œç›‘å¬ï¼ˆ<strong>è§‚å¯Ÿè€…</strong>ï¼‰</li><li>é€šè¿‡å°†Lifecycå¯¹è±¡çš„addObserver()æ–¹æ³•ï¼Œå°†Lifecycleå¯¹è±¡å’ŒLifecycleObserverå¯¹è±¡è¿›è¡Œç»‘å®šã€‚</li></ol><h3 id="ç»§æ‰¿AppCompatActivity"><a href="#ç»§æ‰¿AppCompatActivity" class="headerlink" title="ç»§æ‰¿AppCompatActivity"></a>ç»§æ‰¿AppCompatActivity</h3><p>åˆ›å»º MyObserver.java è®©å®ƒå®ç°LifeyclerObserver æ¥å£ï¼ˆ<strong>LifecycleObserveræ¥å£æ˜¯ä¸€ä¸ªç©ºæ¥å£ï¼Œä¸»è¦ç»™æ³¨è§£å¤„ç†å™¨ä½¿ç”¨</strong>):</p><pre><code class="kotlin">/** *   by:Thecara home *   date:2020/10/11 */class MyObserver : LifecycleObserver {    // ä½¿ç”¨æ³¨è§£ @OnLifecycleEvent() è¯¥æ–¹æ³•éœ€è¦ç›‘å¬æŒ‡å®šçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)    fun connectListener() {        Log.d(&quot;MyObserver&quot;, &quot;ON_RESUME&quot;)    }    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)    fun disconnectListener() {        Log.d(&quot;MyObserver&quot;, &quot;ON_PAUSE&quot;)    }}</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡åœ¨æ–¹æ³•ä¸Šä½¿ç”¨ <strong>@onLifecycleEvent</strong> æ³¨è§£ä½¿å¾—æ–¹æ³•å…·æœ‰ç”Ÿå‘½æ„ŸçŸ¥èƒ½åŠ›ã€‚<strong>æ‹¬å·é‡Œçš„å‚æ•°ï¼Œè¡¨æ˜éœ€è¦ç›‘å¬çš„æ˜¯ä»€ä¹ˆç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚</strong>Lifecycle ä¸»è¦<strong>é€šè¿‡Eventå’ŒStateè€…ä¸¤ä¸ªæšä¸¾ç±»æ¥è¿½è¸ªå…³è”ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€</strong>ã€‚å…·ä½“çš„Eventå’ŒStateä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1692ebbac5daa896" alt=""></p><p>è®©Activityç»§æ‰¿è‡ªAppCompatActivityï¼Œç„¶åå†OnCreate()æ–¹æ³•ä¸­é€šè¿‡ <strong>getLifecycle().addObserver(new MyObserver())</strong> å®Œæˆ<strong>Lifecycle</strong>å’Œ<strong>LifecycleObser</strong>çš„ç»‘å®š:</p><pre><code class="kotlin">class MainActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        // ç»‘å®š        lifecycle.addObserver(MyObserver())    }}</code></pre><p>é€šè¿‡åˆ‡æ¢åå°è§‚å¯ŸçŠ¶æ€ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-10-11-0.gif" alt="åˆ‡æ¢"></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-10-11-1.gif" alt="Log"></p><p>library 26.1.0 åŠä¹‹åçš„åº“ä¸­ï¼Œ<strong>AppCompatActivityçš„çˆ¶ç±»SupportActivityå·²ç»é»˜è®¤å®ç°äº†LifecycleOwneræ¥å£ï¼Œç›´æ¥é€šè¿‡getLifecycle() æ–¹æ³•è·å¾—Lifecycleå¯¹è±¡ã€‚</strong></p><p>ä¹‹åé€šè¿‡ <strong>addObserver()</strong> æ–¹æ³•å°†Lifecycle è·ŸæŒ‡å®š LifecycleObserver è¿›è¡Œç»‘å®šã€‚</p><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="https://juejin.im/post/6844903784166998023" target="_blank" rel="noopener">Androidç”Ÿå‘½å‘¨æœŸç»„ä»¶Lifecycleä½¿ç”¨è¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
          <category> Lifecycle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯BuildConfig</title>
      <link href="/2020/09/17/BuildConfig/"/>
      <url>/2020/09/17/BuildConfig/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯-BuildConfig"><a href="#ä»€ä¹ˆæ˜¯-BuildConfig" class="headerlink" title="ä»€ä¹ˆæ˜¯ BuildConfig"></a>ä»€ä¹ˆæ˜¯ BuildConfig</h1><p><strong>åœ¨æ‰“åŒ…æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ç±»ã€‚</strong>ç±»ä¼¼äºR.classï¼Œç”Ÿæˆåä¸èƒ½ä¿®æ”¹ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200917233605.png" alt="åœ¨é¡¹ç›®ä¸­çš„ä½ç½®"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Timber</title>
      <link href="/2020/09/17/Timber/"/>
      <url>/2020/09/17/Timber/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-Timber"><a href="#ä½¿ç”¨-Timber" class="headerlink" title="ä½¿ç”¨ Timber"></a>ä½¿ç”¨ Timber</h1><ul><li>é…ç½® timber</li></ul><pre><code class="groovy">implementation &#39;com.jakewharton.timber:timber:4.7.1&#39;</code></pre><ul><li><h5 id="å‡†å¤‡Logè¾“å‡ºçš„è‡ªå®šä¹‰æ ¼å¼"><a href="#å‡†å¤‡Logè¾“å‡ºçš„è‡ªå®šä¹‰æ ¼å¼" class="headerlink" title="å‡†å¤‡Logè¾“å‡ºçš„è‡ªå®šä¹‰æ ¼å¼"></a><strong>å‡†å¤‡Logè¾“å‡ºçš„è‡ªå®šä¹‰æ ¼å¼</strong></h5></li></ul><blockquote><p>å¯ä»¥ç›´æ¥åœ¨Applicationçš„onCreate()ä¸­è°ƒç”¨<code>Timber.plant(new DebugTree())</code>å®ç°DebugåŠŸèƒ½ã€‚ä½†æ˜¯åŠŸèƒ½æœ‰æ‰€æ¬ ç¼ºï¼Œ<strong>å¯ä»¥ç”¨æ¥ä¸Šä¼ crashä¿¡æ¯</strong>ç­‰ã€‚</p><p>psï¼š</p><p>Timberä¸»è¦é€šè¿‡æ·»åŠ Treeå®ä¾‹æ¥å®ç°ï¼Œæ·»åŠ Treeå®ä¾‹å¯ä»¥é€šè¿‡æ–¹æ³•Timber.plantå®Œæˆã€‚</p><p>è€Œä½¿ç”¨DebugTreeå®ç°è‡ªåŠ¨å®ä¾‹åŒ–</p></blockquote><ol><li>ä¸ä¼š<strong>æ‰“å°å½“å‰çº¿ç¨‹</strong></li><li>ä¸ä¼š<strong>æ‰“å°å½“å‰è¡Œå·</strong></li></ol><p>è‡ªå·±åˆ›å»ºä¸€ä¸ªç»§æ‰¿ç±»æ¥å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚</p><pre><code class="kotlin">class ThreadAwareDebugTree : Timber.DebugTree() {    //æ·»åŠ å½“å‰çº¿ç¨‹    override fun log(priority: Int, tag: String?, message: String, t: Throwable?) {        if (tag != null) {            val threadName = Thread.currentThread().name            tag != &quot;&lt;&quot; + threadName + &quot;&gt;&quot;        }        super.log(priority, tag, message, t)    }    // æ·»åŠ è¡Œå·    override fun createStackElementTag(element: StackTraceElement): String? {        return super.createStackElementTag(element) + &quot;Line(&quot; + element.lineNumber + &quot;)&quot;    }}</code></pre><p><strong>è¿˜æœ‰ä¸€ä¸ªç±»åœ¨ release ç‰ˆæœ¬æ—¶è°ƒç”¨æ‰“å°logä¿¡æ¯</strong></p><blockquote><p>release ç‰ˆæœ¬ç”¨æ¥ä»¥ä¸€ç§è·Ÿè¸ªæ—¥å¿—çš„å½¢å¼ä¸ŠæŠ¥ç»™ <strong>Bugly</strong>ï¼Œå®ƒåªä¼šæ˜¾ç¤º wï¼Œeï¼Œwtfã€‚</p></blockquote><pre><code class="kotlin">class ReleaseTree : ThreadAwareDebugTree() {    override fun isLoggable(tag: String?, priority: Int): Boolean {        return if (priority == Log.VERBOSE || priority == Log.DEBUG || priority == Log.INFO) {            false        } else true    }    override fun log(priority: Int, tag: String?, message: String, t: Throwable?) {        if (!isLoggable(tag, priority)) {            return        }        super.log(priority, tag, message, t)    }}</code></pre><ul><li>å‡†å¤‡ Application</li></ul><pre><code class="kotlin">class TimberDemoApplication : Application() {    override fun onCreate() {        super.onCreate()        if (DEBUG)            Timber.plant(ThreadAwareDebugTree())    }}</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200921111610.png" alt="æ·»åŠ Application"></p><ul><li>è°ƒç”¨ä¸€ä¸ªlog</li></ul><pre><code class="kotlin">println(Timber.v(&quot;hello&quot;))</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200921112051.png" alt="é€šè¿‡è‡ªå®šä¹‰çš„ç±»å‹è¾“å‡ºäº†è¡Œå·çš„ä¿¡æ¯"></p><h2 id="é‡å†™-Log-æ–¹æ³•"><a href="#é‡å†™-Log-æ–¹æ³•" class="headerlink" title="é‡å†™ Log æ–¹æ³•"></a>é‡å†™ Log æ–¹æ³•</h2><p><strong>å‚æ•°</strong></p><blockquote><p>priority:Int ä¼˜å…ˆçº§</p><p>tag:String æ‰“å°æ—¶çš„æ ‡ç­¾</p><p>message:String å†…å®¹</p><p>t:Throwable æŠ›å‡ºçš„å¼‚å¸¸</p></blockquote><p>æ­¤æ–¹æ³•å¯ä»¥ç”¨æ¥æ ¹æ®å‘é€æ¥çš„ <strong>å¼‚å¸¸ç­‰ä¿¡æ¯</strong> è‡ªå®šä¹‰æ¥ä¸‹æ¥çš„åŠ¨ä½œã€‚è¿™äº›ä¿¡æ¯å¹¶ä¸ä¼šè¢«ä»logæ—¥å¿—æ‰“å°å‡ºæ¥ã€‚</p><p><strong>è°ƒç”¨</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201009123005.png" alt="è°ƒç”¨logæ–¹æ³•"></p><pre><code class="kotlin"> Timber.log(1, &quot;æµ‹è¯•æ‰“å°&quot;)</code></pre><h4 id="æ‰“å°æˆ‘ä»¬å‘é€æ¥çš„ä¿¡æ¯"><a href="#æ‰“å°æˆ‘ä»¬å‘é€æ¥çš„ä¿¡æ¯" class="headerlink" title="æ‰“å°æˆ‘ä»¬å‘é€æ¥çš„ä¿¡æ¯"></a>æ‰“å°æˆ‘ä»¬å‘é€æ¥çš„ä¿¡æ¯</h4><pre><code class="kotlin">class MyTimberFree : Timber.Tree() {    override fun log(priority: Int, tag: String?, message: String, t: Throwable?) {        super.log(priority, tag, message, t)        Timber.v(message)    }}</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201009123216.png" alt="å‘é€æˆåŠŸï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™äº›ä¿¡æ¯ä¸Šä¼ åˆ°crashä¸­ã€‚"></p><h1 id="ä¸ºä»€ä¹ˆä½¿ç”¨Timber"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨Timber" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨Timber"></a>ä¸ºä»€ä¹ˆä½¿ç”¨Timber</h1><ol><li><p>é¡¹ç›®å¼€å‘æ—¶ï¼Œä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œéœ€è¦è¾“å‡ºlogï¼Œä½†æ˜¯å‘å¸ƒåï¼Œlogä¸­åŒ…å«å¾ˆå¤šé¡¹ç›®ä¿¡æ¯ï¼Œå¦‚æœå…¨éƒ¨æš´éœ²å¯èƒ½ä¼šé€ æˆå®‰å…¨éšæ‚£ï¼Œå½“å®Œå…¨åˆ é™¤ä¹Ÿä¸åˆ©äºåæœŸè°ƒè¯•ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªå¼€å…³ï¼Œå…³é—­å¼€å…³ä¸èƒ½è¾“å‡ºbugï¼Œæ‰“å¼€å¼€å…³åˆ™å¯ä»¥è¾“å‡ºlogã€‚</p></li><li><p>æ¯æ¬¡éœ€è¦æ‰“å° TAG</p></li><li><p>ä¸ä¼šæ‰“å°å½“å‰çº¿ç¨‹</p></li><li><p>ä¸ä¼šæ‰“å°å½“å‰è¡Œå·</p></li></ol><p><a href="https://xiazdong.github.io/2017/05/17/Timber/" target="_blank" rel="noopener">Timberå’ŒBuglyä½¿ç”¨å…¥é—¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Timber </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨gradle</title>
      <link href="/2020/09/09/%E4%BD%BF%E7%94%A8gradle/"/>
      <url>/2020/09/09/%E4%BD%BF%E7%94%A8gradle/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ›å»º-Gradle-é¡¹ç›®"><a href="#åˆ›å»º-Gradle-é¡¹ç›®" class="headerlink" title="åˆ›å»º Gradle é¡¹ç›®"></a>åˆ›å»º Gradle é¡¹ç›®</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-9-9-0.gif" alt=""></p><p>ğŸ‘† è”ç½‘çŠ¶æ€æ‰“å¼€ IDEA</p><h1 id="é¡¹ç›®ç»“æ„ä»‹ç»"><a href="#é¡¹ç›®ç»“æ„ä»‹ç»" class="headerlink" title="é¡¹ç›®ç»“æ„ä»‹ç»"></a>é¡¹ç›®ç»“æ„ä»‹ç»</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910110408.png" alt=""></p><p><strong>src/main/java</strong> æ­£å¼ä»£ç ç›®å½•</p><p><strong>src/main/resources</strong> æ­£å¼é…ç½®æ–‡ä»¶ç›®å½•</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910111041.png" alt=""></p><p><strong>src/test/java</strong> æ”¾ç½®å•å…ƒæµ‹è¯•ä»£ç ç›®å½•</p><p><strong>src/test/resources</strong> æ”¾ç½®å•å…ƒæµ‹è¯•é…ç½®æ–‡ä»¶ç›®å½•</p><p><strong>src/main/webapp</strong> è¿˜æœ‰ä¸€ä¸ªå¯æ”¾ç½®çš„ web ç›®å½•ï¼ˆé¡µé¢ä¿¡æ¯ï¼‰</p><h4 id="src-build-gradle-æ–‡ä»¶"><a href="#src-build-gradle-æ–‡ä»¶" class="headerlink" title="src/build.gradle æ–‡ä»¶"></a>src/build.gradle æ–‡ä»¶</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910162235.png" alt=""></p><p><strong>plugins{}</strong></p><blockquote><p>æŒ‡è¿è¡Œç¯å¢ƒ</p></blockquote><p><strong>repositories{}</strong></p><blockquote><p>mavenContral() ä¸ºä¸­å¤®ä»“åº“ï¼Œåœ¨æ²¡æœ‰æŒ‡å®šæƒ…å†µçš„ä¸‹ä¼šç›´æ¥ä»ä¸­å¤®ä»“åº“ä¸‹è½½ jar åŒ…ã€‚</p></blockquote><p><strong>dependenciese{}</strong></p><blockquote><p>gradleå·¥ç¨‹æ‰€æœ‰çš„jaråŒ…çš„åæ ‡éƒ½åœ¨dependencieså±æ€§å†…æ”¾ç½®ã€‚</p><p>åŒæ—¶æ¯ä¸ªjaråŒ…çš„åæ ‡éƒ½æœ‰ä¸‰ä¸ªåŸºæœ¬å…ƒç´ æ„æˆï¼Œgroupï¼Œnameï¼Œversion ç»„æˆ</p></blockquote><p><strong>group</strong>ï¼šå¤šåˆ†ä¸ºå¤šæ®µï¼Œç¬¬ä¸€æ®µä¸º åŸŸï¼Œç¬¬äºŒæ®µå…¬å¸åç§°ã€‚å…¶ä¸­ org ä¸ºéç›ˆåˆ©ç»„ç»‡ï¼Œcon ä¸ºå•†ä¸šç»„ç»‡ã€‚ä¾‹å¦‚ï¼štomatï¼šä¸º apacheé¡¹ç›® groupidä¸ºorg.apacheã€‚</p><p><strong>name</strong>ï¼šé¡¹ç›®çš„å…¨åç§°ã€‚</p><p><strong>version</strong>ï¼šç‰ˆæœ¬å·ã€‚</p><p><strong>testCompile</strong>ï¼šæµ‹è¯•æ—¶æ‰€ä¾èµ–çš„jaråŒ…ï¼Œåœ¨dradleå¯ç”± implementation ä»£æ›¿ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910165023.png" alt=""></p><p>åˆ›å»ºé¡¹ç›®æœ‰æåˆ° ğŸ‘†</p><h4 id="é¡¹ç›®-build-gradle-æ–‡ä»¶"><a href="#é¡¹ç›®-build-gradle-æ–‡ä»¶" class="headerlink" title="é¡¹ç›®/build.gradle æ–‡ä»¶"></a>é¡¹ç›®/build.gradle æ–‡ä»¶</h4><p><strong>buildscript{} å±æ€§</strong></p><blockquote><p>gradleæ‰§è¡Œæ‰€éœ€è¦çš„ä¾èµ–ï¼Œåˆ†åˆ«å¯¹åº”mavenåº“å’Œæ’ä»¶</p></blockquote><h1 id="é€šè¿‡-mevenCentral-å¼•å…¥-jar-åŒ…"><a href="#é€šè¿‡-mevenCentral-å¼•å…¥-jar-åŒ…" class="headerlink" title="é€šè¿‡ mevenCentral å¼•å…¥ jar åŒ…"></a>é€šè¿‡ <strong>mevenCentral</strong> å¼•å…¥ jar åŒ…</h1><p>ä½¿ç”¨ compile æ·»åŠ  jar åŒ…</p><blockquote><p>ç”¨æ¥è§£ææ‰€éœ€è¦çš„ä¾èµ–åœ¨classpathä¸­å¯ç”¨ï¼Œå¹¶ä¸”å°†å®ƒä»¬æ‰“åŒ…ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-9-10-1.gif" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910180423.png" alt=""></p><p>ä¾èµ–å®Œæˆ</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910182006.png" alt=""></p><p>åœ¨ ç”¨æˆ·çš„ user/ç”¨æˆ·å/.gradle/caches/modules-2/files-2.1 ä¸‹æœ‰æˆ‘ä»¬åŠ è½½çš„ jar åŒ…</p><h1 id="demo-å¼•å…¥ä¸€ä¸ªspringåŒ…-å¹¶æµ‹è¯•ä½¿ç”¨"><a href="#demo-å¼•å…¥ä¸€ä¸ªspringåŒ…-å¹¶æµ‹è¯•ä½¿ç”¨" class="headerlink" title="demo å¼•å…¥ä¸€ä¸ªspringåŒ… å¹¶æµ‹è¯•ä½¿ç”¨"></a>demo å¼•å…¥ä¸€ä¸ªspringåŒ… å¹¶æµ‹è¯•ä½¿ç”¨</h1><h3 id="åœ¨-mavenRepository-ä¸­å¼•å…¥jar-åŒ…"><a href="#åœ¨-mavenRepository-ä¸­å¼•å…¥jar-åŒ…" class="headerlink" title="åœ¨ mavenRepository ä¸­å¼•å…¥jar åŒ…"></a>åœ¨ mavenRepository ä¸­å¼•å…¥jar åŒ…</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200911162643.png" alt=""></p><pre><code class="groovy">// https://mvnrepository.com/artifact/org.springframework/spring-contextcompile group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;, version: &#39;5.2.8.RELEASE&#39;</code></pre><h3 id="å¼•å…¥åçš„ä¾èµ–åŒ…ä½ç½®æŸ¥çœ‹"><a href="#å¼•å…¥åçš„ä¾èµ–åŒ…ä½ç½®æŸ¥çœ‹" class="headerlink" title="å¼•å…¥åçš„ä¾èµ–åŒ…ä½ç½®æŸ¥çœ‹"></a>å¼•å…¥åçš„ä¾èµ–åŒ…ä½ç½®æŸ¥çœ‹</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200911162549.png" alt=""></p><h3 id="å¼€å§‹æµ‹è¯•"><a href="#å¼€å§‹æµ‹è¯•" class="headerlink" title="å¼€å§‹æµ‹è¯•"></a>å¼€å§‹æµ‹è¯•</h3><p><strong>åˆ›å»º æ¥å£ â€AccountDaoâ€œ</strong></p><p>ä½ç½® â€com.gradlelearn.daoâ€œ</p><pre><code class="java">public interface AccountDao {    public List findAll();}</code></pre><p>ä½œä¸ºæ¥å£ï¼ŒæŸ¥è¯¢æ–¹æ³•</p><p><strong>åˆ›å»º â€AccountDaoImplâ€œ</strong></p><p>ä½ç½® â€com.gradlelearn.dao.implâ€œ</p><pre><code class="java">public class AccountDaoImpl implements AccountDao {    @Override    public List findAll() {        System.out.println(&quot;test&quot;);        return null;    }}</code></pre><p>å®ç°æŸ¥è¯¢åŠŸèƒ½</p><h4 id="æµ‹è¯•æ–¹æ³•"><a href="#æµ‹è¯•æ–¹æ³•" class="headerlink" title="æµ‹è¯•æ–¹æ³•"></a>æµ‹è¯•æ–¹æ³•</h4><p><strong>åˆ›å»º â€AccountTestâ€œ</strong></p><p>ä½ç½® test æ–‡ä»¶ä¸‹ â€com.gradle.testâ€œ</p><p><strong>ClassPathXmlApplicationContext</strong> ç±»å‹</p><blockquote><p>è·å¾—å½“å‰ bean å®¹å™¨</p><p>åˆ›å»ºå¯¹è±¡ ApplicationContext ç±»å‹</p></blockquote><p><strong>applicationContext.getBean</strong> æ–¹æ³•</p><blockquote><p>ä»å®¹å™¨ä¸­è·å¾—å½“å‰ Dao</p></blockquote><pre><code class="java">public class AccountTest {    @Test    public void acccountTest() {        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);        AccountDao bean = applicationContext.getBean(AccountDao.class);        bean.findAll();    }}</code></pre><h4 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200911164758.png" alt=""></p><h3 id="æ‰“åŒ…-jar-åŒ…"><a href="#æ‰“åŒ…-jar-åŒ…" class="headerlink" title="æ‰“åŒ… jar åŒ…"></a>æ‰“åŒ… jar åŒ…</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-9-11-0.gif" alt=""></p><p><strong>jar åŒ…çš„ä½ç½®</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200911165345.png" alt=""></p><h1 id="åˆ›å»º-web-å·¥ç¨‹-demo"><a href="#åˆ›å»º-web-å·¥ç¨‹-demo" class="headerlink" title="åˆ›å»º web å·¥ç¨‹ demo"></a>åˆ›å»º web å·¥ç¨‹ demo</h1><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><h5 id="æ‰©å±•å±æ€§"><a href="#æ‰©å±•å±æ€§" class="headerlink" title="æ‰©å±•å±æ€§"></a>æ‰©å±•å±æ€§</h5><p>ä½¿ç”¨ ext æ‰©å±•å—å¯ä»¥ä¸€æ¬¡æ·»åŠ å¤šä¸ªå±æ€§ã€‚</p><p>å£°æ˜å¤šä¸ªå±æ€§ã€‚æ·»åŠ äº†é”®å€¼å¯¹çš„å±æ€§é›†åˆã€‚</p><pre><code class="groovy">ext.versions = [minSdk:21,targetSdk:29]</code></pre><h5 id="apply-plugin"><a href="#apply-plugin" class="headerlink" title="apply plugin"></a>apply plugin</h5><p>æ­¤æ–¹å¼ç”¨æ¥å¼•å…¥ <strong>Gradle å®˜æ–¹æ’ä»¶åº“</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915181918.png" alt=""></p><h5 id="apply-from"><a href="#apply-from" class="headerlink" title="apply from"></a>apply from</h5><p>å¼•ç”¨æœ¬åœ°èµ„æº</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915182720.png" alt=""></p><h2 id="android"><a href="#android" class="headerlink" title="android"></a>android</h2><p>è¿™ä¸ªé—­åŒ…ä¸»è¦ä¸ºäº†é…ç½®é¡¹ç›®ç»“æ„çš„å„ç§å±æ€§ã€‚</p><h5 id="compileSdkVersion"><a href="#compileSdkVersion" class="headerlink" title="compileSdkVersion"></a>compileSdkVersion</h5><p>è®¾ç½®ç¼–è¯‘æ—¶ç”¨çš„Androidç‰ˆæœ¬</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915183321.png" alt=""></p><h2 id="defaultConfig-é—­åŒ…"><a href="#defaultConfig-é—­åŒ…" class="headerlink" title="defaultConfig é—­åŒ…"></a>defaultConfig é—­åŒ…</h2><p>é»˜è®¤é—­åŒ…</p><h5 id="applicationId"><a href="#applicationId" class="headerlink" title="applicationId"></a>applicationId</h5><p>é¡¹ç›®çš„åŒ…å</p><h5 id="minSdkVersion"><a href="#minSdkVersion" class="headerlink" title="minSdkVersion"></a>minSdkVersion</h5><p>æœ€ä½å…¼å®¹ç‰ˆæœ¬</p><h5 id="targetSdkVersion"><a href="#targetSdkVersion" class="headerlink" title="targetSdkVersion"></a>targetSdkVersion</h5><p>ç›®æ ‡å…¼å®¹ç‰ˆæœ¬</p><h5 id="versionCode"><a href="#versionCode" class="headerlink" title="versionCode"></a>versionCode</h5><p>é¡¹ç›®ç‰ˆæœ¬å·</p><h5 id="versionName"><a href="#versionName" class="headerlink" title="versionName"></a>versionName</h5><p>ç‰ˆæœ¬åç§°</p><h5 id="testInstrumentationRunner"><a href="#testInstrumentationRunner" class="headerlink" title="testInstrumentationRunner"></a>testInstrumentationRunner</h5><p>ç”¨æ¥è¿›è¡Œ AndroidJUnitRunner è¿›è¡Œå•å…ƒæµ‹è¯•</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915183913.png" alt="detailtConfigé—­åŒ…"></p><h2 id="buildTypes-é—­åŒ…"><a href="#buildTypes-é—­åŒ…" class="headerlink" title="buildTypes é—­åŒ…"></a>buildTypes é—­åŒ…</h2><p>ç”Ÿæˆå®‰è£…æ–‡ä»¶çš„ä¸»è¦é…ç½®ï¼Œå¤šæ•°ä¸ºä¸¤ä¸ªå­é—­åŒ…ï¼Œ    ä¸€ä¸ªdebugé—­åŒ…ï¼Œ<strong>ç”¨äºæŒ‡å®šç”Ÿæˆæµ‹è¯•ç‰ˆå®‰è£…æ–‡ä»¶çš„é…ç½®</strong>ï¼Œå¯å¿½ç•¥ã€‚ä¸€ä¸ªreleaseé—­åŒ…ï¼Œ<strong>ç”¨äºæŒ‡å®šç”Ÿæˆæ­£å¼ç‰ˆçš„é…ç½®</strong>ã€‚ä¸¤è€…é…ç½®å‚æ•°å¤§å¤šä¸€è‡´ï¼ŒåŒºåˆ«ä¸º<strong>é»˜è®¤å±æ€§é…ç½®ä¸ä¸€æ ·</strong>ã€‚</p><h5 id="minifyEnabled"><a href="#minifyEnabled" class="headerlink" title="minifyEnabled"></a>minifyEnabled</h5><p>æ˜¯å¦å¯¹ä»£ç è¿›è¡Œæ··æ·†</p><h5 id="proguardFiles"><a href="#proguardFiles" class="headerlink" title="proguardFiles"></a>proguardFiles</h5><p>æŒ‡å®šæ··æ·†çš„è§„åˆ™æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915185118.png" alt=""></p><h2 id="dependenciesé—­åŒ…"><a href="#dependenciesé—­åŒ…" class="headerlink" title="dependenciesé—­åŒ…"></a>dependenciesé—­åŒ…</h2><p>å®šä¹‰äº†é¡¹ç›®çš„ä¾èµ–å…³ç³»ï¼Œä¸‰ç§ä¾èµ–æ–¹å¼ï¼š<strong>æœ¬åœ°ä¾èµ–ï¼Œåº“ä¾èµ–ï¼Œå’Œè¿œç¨‹ä¾èµ–</strong>ã€‚</p><blockquote><p>è‡ªAndroidStudio3.0å compile å¼•å…¥åº“ä¸å†ä½¿ç”¨ï¼Œè€Œé€šè¿‡apiå’Œimplementationï¼Œapiå®Œå…¨ç­‰åŒäºå…ˆå‰çš„ compile</p><p>ï¼Œé€šè¿‡ api å¼•å…¥ æ•´ä¸ªé¡¹ç›®æ˜¯å¯ä»¥ä½¿ç”¨å½“å‰çš„ä¾èµ–åº“çš„ã€‚<strong>implementation å¼•å…¥çš„åº“åªæœ‰å¯¹åº”çš„ Module ä½¿ç”¨</strong>ã€‚</p><p>åœ¨ä½¿ç”¨ compileæ—¶å¯¼è‡´æ¨¡å—ä¹‹é—´çš„è€¦åˆè¿‡é«˜ï¼Œä¸åˆ©äºé¡¹ç›®çš„æ‹†è§£ï¼Œ<strong>é€šè¿‡ implementationåšåˆ°é™ä½è€¦åˆæé«˜å®‰å…¨æ€§</strong>ã€‚</p></blockquote><p>Moduleï¼šæŒ‡é¡¹ç›®ä¸­åˆ›å»ºçš„ä¸åŒModuleã€‚</p><h5 id="implementation"><a href="#implementation" class="headerlink" title="implementation"></a>implementation</h5><p>è¿œç¨‹ä¾èµ–</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915190215.png" alt=""></p><h5 id="testImplementation-å’Œ-androidTestImplementation"><a href="#testImplementation-å’Œ-androidTestImplementation" class="headerlink" title="testImplementation å’Œ androidTestImplementation"></a>testImplementation å’Œ androidTestImplementation</h5><p>æµ‹è¯•ç”¨ä¾èµ–åº“</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915190143.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915190127.png" alt=""></p><h1 id="groovy-å¿«é€Ÿä½¿ç”¨"><a href="#groovy-å¿«é€Ÿä½¿ç”¨" class="headerlink" title="groovy å¿«é€Ÿä½¿ç”¨"></a>groovy å¿«é€Ÿä½¿ç”¨</h1><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-9-10-0.gif" alt=""></p><p>æ‰“å¼€ idea çš„ groovy ç¼–è¾‘å™¨</p><h3 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h3><p><strong>groovy hellow wordï¼</strong></p><pre><code class="groovy">println(&quot;hello world!&quot;);</code></pre><p>groovy æ›´ç±»ä¼¼äº java è¯­è¨€ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910113424.png" alt=""></p><p><strong>groovy å¯ä»¥çœç•¥æœ«å°¾ â€œ;â€å·</strong></p><pre><code class="groovy">println(&quot;hello world!&quot;)</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910112155.png" alt=""></p><p><strong>groovy å¯ä»¥ çœç•¥æ‹¬å·</strong></p><pre><code class="groovy">println &quot;hello world!&quot;</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910120309.png" alt=""></p><p><strong>å®šä¹‰å˜é‡</strong></p><pre><code class="groovy">def x = 15println x</code></pre><p>def ä¿®é¥°ç¬¦æ˜¯ <strong>å¼±ç±»å‹</strong> å£°æ˜ï¼Œgroovyä¼šè‡ªåŠ¨æ ¹æ®æƒ…å†µæ¥ç»™å˜é‡èµ‹äºˆå¯¹åº”çš„ç±»å‹ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910150342.png" alt=""></p><p><strong>å®šä¹‰é›†åˆ</strong></p><pre><code class="groovy">def x = [&#39;x&#39;, &#39;f&#39;, &#39;c&#39;]x &lt;&lt; &#39;y&#39;println x</code></pre><p>å®šä¹‰é›†åˆï¼šé€šè¿‡ â€œ[]â€ ä¸­æ‹¬å·å£°æ˜</p><p>é›†åˆæ·»åŠ æ•°æ®ï¼Œâ€&lt;&lt;â€ åŒå°äºå·å³å¯</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910151126.png" alt=""></p><p><strong>æå–å…ƒç´ </strong></p><pre><code class="groovy">x.get(2)</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910151255.png" alt=""></p><p>æå–å…ƒç´ ä¸‹æ ‡ä¸º 2 çš„å…ƒç´ </p><h4 id="å®šä¹‰map"><a href="#å®šä¹‰map" class="headerlink" title="å®šä¹‰map"></a><strong>å®šä¹‰map</strong></h4><p><strong>å£°æ˜map</strong></p><pre><code class="groovy">def m = [&#39;key1&#39;: &#39;value1&#39;]</code></pre><p>åœ¨åˆå§‹åŒ–æ—¶å¿…é¡»è¦æœ‰åˆå§‹åŒ–çš„å€¼ï¼Œç”¨æ¥å¯¹å¼±ç±»å‹è¿›è¡Œä¿®æ”¹ã€‚</p><p><strong>æ·»åŠ é”®å€¼å¯¹</strong></p><pre><code class="groovy">m.key2 = &quot;value2&quot;</code></pre><p>æ‰“å°é”®å€¼å¯¹</p><pre><code class="groovy">println m.get(&#39;key2&#39;)println m</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910152935.png" alt=""></p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="groovy-ä¸­çš„é—­åŒ…"><a href="#groovy-ä¸­çš„é—­åŒ…" class="headerlink" title="groovy ä¸­çš„é—­åŒ…"></a>groovy ä¸­çš„é—­åŒ…</h3><p><strong>ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</strong></p><p>groovyä¸­çš„ä¸€ä¸ªä»£ç å—ã€‚ç”¨äºåœ¨<strong>gradleä¸­æŠŠé—­åŒ…å½“ä½œå‚æ•°ä½¿ç”¨</strong>ã€‚</p><p><strong>å®šä¹‰é—­åŒ…å’Œæºå¸¦å‚æ•°çš„é—­åŒ…</strong></p><pre><code class="groovy">def b = {    println &quot;hello world!&quot;}</code></pre><pre><code class="groovy">def b = {   v-&gt; println &quot;hello world! $v&quot;}</code></pre><p>èŠ±æ‹¬å· â€œ{}â€ å³ä¸ºé—­åŒ…çš„æ ·å¼ã€‚</p><p>v è¡¨ç¤ºä¸€ä¸ªå˜é‡ï¼Œé€šè¿‡ â€œ$vâ€ å¼•ç”¨å˜é‡ã€‚</p><p><strong>é—­åŒ…ä½œä¸ºæ–¹æ³•çš„å‚æ•°ï¼Œä¸ºé—­åŒ…æ·»åŠ å‚æ•°</strong></p><pre><code class="groovy">def method(Closure closure) {    closure()}</code></pre><pre><code class="groovy">def method(Closure closure) {    closure(&quot;arguments&quot;)}</code></pre><p>Closureï¼šä¸ºé—­åŒ…çš„ç±»å‹ï¼Œä½äº â€œgroovy.langâ€ åŒ…ä¸‹ã€‚</p><p>å­—ç¬¦â€œargumentsâ€ä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†é—­åŒ…ï¼Œ<strong>åœ¨ä½¿ç”¨æ—¶å°†å¯¹åº”é—­åŒ…æ·»åŠ åˆ°æ–¹æ³•ä¸­å³å¯</strong>ã€‚</p><p><strong>ä½¿ç”¨é—­åŒ…</strong></p><pre><code class="groovy">method (b)</code></pre><p>method ä¸ºè‡ªå·±åˆ›å»ºçš„æ–¹æ³•ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200910155625.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> gradle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> gradle </tag>
            
            <tag> groovy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RxJava2 Android ä¸­ä½¿ç”¨</title>
      <link href="/2020/08/21/Android-RxJava/"/>
      <url>/2020/08/21/Android-RxJava/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯RxJava"><a href="#ä»€ä¹ˆæ˜¯RxJava" class="headerlink" title="ä»€ä¹ˆæ˜¯RxJava"></a>ä»€ä¹ˆæ˜¯RxJava</h1><p>å®ç°å¼‚æ­¥æ“ä½œçš„åº“</p><h1 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h1><p>RxJava æ˜¯åŸºäº<strong>äº‹ä»¶æµçš„ã€å®ç°å¼‚æ­¥æ“ä½œçš„åº“</strong></p><h1 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h1><p>å®ç°å¼‚æ­¥æ“ä½œ</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h4 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h4><pre><code class="groovy">    implementation &quot;io.reactivex.rxjava2:rxjava:2.2.6&quot;    implementation &quot;io.reactivex.rxjava2:rxandroid:2.1.0&quot;</code></pre><h4 id="ä½¿ç”¨ä¸€æ¬¡è®¢é˜…å¹¶æ‰“å°å‡ºæ¥"><a href="#ä½¿ç”¨ä¸€æ¬¡è®¢é˜…å¹¶æ‰“å°å‡ºæ¥" class="headerlink" title="ä½¿ç”¨ä¸€æ¬¡è®¢é˜…å¹¶æ‰“å°å‡ºæ¥"></a>ä½¿ç”¨ä¸€æ¬¡è®¢é˜…å¹¶æ‰“å°å‡ºæ¥</h4><ul><li>éœ€è¦ Observable.fromArray æ–¹æ³•</li></ul><blockquote><p>fromArrayç”¨æ¥åˆ›å»ºä¸€ä¸ªObservableï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰å¯¹è±¡ï¼Œå¯ä»¥å°†ä¸€ä¸ªæ•°ç»„è½¬åŒ–ä¸ºå¯è¢«è§‚å¯Ÿçš„åºåˆ—å¹¶ä¸”å°†å®ƒçš„æ•°æ®é€ä¸ªå‘é€ã€‚</p><p>è¿”å›å€¼ï¼šObservable</p></blockquote><ul><li>éœ€è¦ subscribe æ–¹æ³•</li></ul><blockquote><p>subscribe åªç”¨äºè¿æ¥è¢«è§‚å¯Ÿè€…å’Œè§‚å¯Ÿè€…â€â€œ()â€åœ†æ‹¬å·å†…ä¸ºè§‚å¯Ÿè€…â€</p></blockquote><ul><li>éœ€è¦ Consumber ç±»ä½œä¸ºå‚æ•°</li></ul><blockquote><p>å½“ä½ åªå…³å¿ƒè§‚å¯Ÿè€…çš„onNextæ–¹æ³•æ—¶å¯ä»¥ä½¿ç”¨Consumerç±»</p></blockquote><ul><li>éœ€è¦ Subscriber.onNext() æ–¹æ³•</li></ul><blockquote><p>è¢«è§‚å¯Ÿè€…æ‰§è¡ŒSubscriber.onNext()æ–¹æ³•æ—¶ä¼šåœ¨ è§‚å¯Ÿè€… è®¢é˜…æ—¶å¤å†™è¯¥æ–¹æ³•æ¥è¿›è¡Œå‘é€æ•°æ®</p></blockquote><p>å¯åŠ¨å®ƒå³å¯</p><pre><code class="kotlin">        Observable.fromArray(&quot;Ted&quot;, &quot;Ryan&quot;, &quot;Billy&quot;)            .subscribe { onNext -&gt; println(&quot;name: $onNext&quot;) </code></pre><p>è§‚å¯Ÿè€…æ‰“å°äº†å­—ç¬¦</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200824012835.png" alt=""></p><p><a href="https://www.youtube.com/watch?v=v7drKJyxo10&list=PL8g0JDLEKun5cDCSkiLkZ1t4r0kE4j0sV" target="_blank" rel="noopener">Android Kotlin - RxJava Intro</a></p><h4 id="åˆ·æ–°ä¸€æ¬¡ç•Œé¢æ§ä»¶"><a href="#åˆ·æ–°ä¸€æ¬¡ç•Œé¢æ§ä»¶" class="headerlink" title="åˆ·æ–°ä¸€æ¬¡ç•Œé¢æ§ä»¶"></a>åˆ·æ–°ä¸€æ¬¡ç•Œé¢æ§ä»¶</h4><ul><li>éœ€è¦ Obserbable.subscribeOn()</li></ul><blockquote><p>æŒ‡å®šObservableï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰è‡ªèº«åœ¨å“ªä¸ªè°ƒåº¦å™¨ä¸Šæ‰§è¡Œ</p></blockquote><ul><li>éœ€è¦ Schedule() çº¿ç¨‹æ§åˆ¶å™¨</li></ul><blockquote><p>ä½œç”¨ï¼šæŒ‡å®šæ¯ä¸€æ®µä»£ç åœ¨ä»€ä¹ˆæ ·çš„çº¿ç¨‹ä¸­æ‰§è¡Œ</p></blockquote><ul><li>éœ€è¦ filer() è¿‡æ»¤æ“ä½œç¬¦å·</li></ul><blockquote><p>ä½œç”¨ï¼šè¾“å‡ºè¿‡æ»¤æ¡ä»¶åçš„ç»“æœé¡¹ã€‚</p></blockquote><ul><li>éœ€è¦ Obserbable.observeOn() æ–¹æ³•</li></ul><blockquote><p>æŒ‡å®š Subscribe æ‰€è¿è¡Œåœ¨çš„çº¿ç¨‹ã€‚æˆ–è€…äº‹ä»¶æ¶ˆè´¹çš„çº¿ç¨‹ã€‚</p><p>æŒ‡å®šä¸€ä¸ªè§‚å¯Ÿè€…åœ¨å“ªä¸ªè°ƒåº¦å™¨ä¸Šè§‚å¯Ÿè¿™ä¸ªObservableã€‚</p><p><strong>observeOn()å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼Œå¯ä»¥éšæ„å˜æ¢çº¿ç¨‹</strong>ã€‚</p></blockquote><ul><li>ä½¿ç”¨ AndroidSchedulers.mainThread() æ–¹æ³•</li></ul><blockquote><p>åˆ‡æ¢è‡³ä¸»çº¿ç¨‹</p></blockquote><pre><code class="kotlin">        Observable.fromArray(&quot;Ted&quot;, &quot;Ryan&quot;, &quot;Billy&quot;)            .subscribeOn(Schedulers.newThread())            .filter { item -&gt; item == &quot;Ted&quot; }            .observeOn(AndroidSchedulers.mainThread())            .subscribe { onNext -&gt; textView.text = onNext }</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200825112654.png" alt=""></p><h4 id="æ‰§è¡Œä¸€æ¬¡ç½‘ç»œè®¿é—®"><a href="#æ‰§è¡Œä¸€æ¬¡ç½‘ç»œè®¿é—®" class="headerlink" title="æ‰§è¡Œä¸€æ¬¡ç½‘ç»œè®¿é—®"></a>æ‰§è¡Œä¸€æ¬¡ç½‘ç»œè®¿é—®</h4><ul><li>ä½¿ç”¨ Observable.create() æ–¹æ³•</li></ul><blockquote><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè¢«è§‚å¯Ÿè€…ã€‚</p><p>å¯ä»¥é€šè¿‡æ³›å‹<String>æŒ‡å®šå‘é€æ•°æ®çš„ç±»å‹</p><p>å‚æ•°ï¼šå¤å†™ ObservableOnSubscribe ç±»å‹ï¼Œå½“è¢«è§‚å¯Ÿè€…è¢«è®¢é˜…æ—¶ä¼šæ‰§è¡Œ subscribe() ä¸­çš„äº‹ä»¶ã€‚</p></blockquote><ul><li>éœ€è¦ onError() æ–¹æ³•</li></ul><blockquote><p>è¢«è§‚å¯Ÿè€…æ‰§è¡ŒSubscriber.onError()æ–¹æ³•æ—¶ä¼šåœ¨ è§‚å¯Ÿè€… è®¢é˜…æ—¶å¤å†™è¯¥æ–¹æ³•æ¥è¿›è¡Œå‘é€æ•°æ®</p><p>å‚æ•°ï¼š å‘é€çš„æ³›å‹æ•°æ®ç±»å‹</p></blockquote><ul><li>éœ€è¦ onComplate() æ–¹æ³•</li></ul><blockquote><p>è¢«è§‚å¯Ÿè€…æ‰§è¡ŒSubscriber.onComplate()æ–¹æ³•æ—¶ä¼šåœ¨ è§‚å¯Ÿè€… è®¢é˜…æ—¶å¤å†™è¯¥æ–¹æ³•æ¥è¿›è¡Œå‘é€æ•°æ®</p><p>å‚æ•°ï¼š å‘é€çš„æ³›å‹æ•°æ®ç±»å‹</p></blockquote><p>åˆ›å»º æ–¹æ³• getTextFromNetwork () </p><p>åˆ›å»º Observable ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰å¤„ç†å®Œæˆåå‘é€äº‹ä»¶ï¼ŒsubscribeOn è®© subscribe åˆ°ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼ŒobserveOn åˆ‡æ¢è§‚å¯Ÿè€…çš„çº¿ç¨‹åˆ°ä¸»çº¿ç¨‹åˆ·æ–°UIï¼Œå¹¶ä¸æ–­æ¥å—è¢«è§‚å¯Ÿè€…å‘é€æ¥çš„äº‹ä»¶ã€‚<strong>è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œã€‚</strong></p><pre><code class="kotlin">    fun getTextFromNetwork() {        val task = Observable.create&lt;String&gt; { subscriber -&gt;            try {                subscriber.onNext(&quot;ç½‘ç»œè®¿é—®&quot;)            } catch (e: Exception) {                subscriber.onError(e)            }            subscriber.onComplete()        }        task.subscribeOn(Schedulers.newThread())        task.observeOn(AndroidSchedulers.mainThread())            .subscribe { onNext -&gt; textView.text = onNext }    }</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200825210344.png" alt=""></p><p>åœ¨è°ƒç”¨ MainActivity </p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200825211048.png" alt=""></p><h4 id=""><a href="#" class="headerlink" title=""></a></h4><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><h2 id="Observer-æ¥å£"><a href="#Observer-æ¥å£" class="headerlink" title="Observer æ¥å£"></a>Observer æ¥å£</h2><pre><code class="kotlin">        val observer = object: Observable&lt;String&gt;() {            //è§‚å¯Ÿè€…æ¥æ”¶äº‹ä»¶å‰ï¼Œé»˜è®¤æœ€å…ˆè°ƒç”¨å¤å†™ onSubscribe()            override fun subscribeActual(observer: Observer&lt;in String&gt;?) {                TODO(&quot;Not yet implemented&quot;)            }        }</code></pre><h2 id="Subscriber-æ¥å£"><a href="#Subscriber-æ¥å£" class="headerlink" title="Subscriber æ¥å£"></a>Subscriber æ¥å£</h2><p>Subscriber æ¥å£å¯¹ Observer æ¥å£è¿›è¡Œäº†æ‰©å±•</p><pre><code class="kotlin">        val subscribe= object : Subscriber&lt;String&gt;{            //è¢«è§‚å¯Ÿè€…è°ƒç”¨ onSubscribe æ—¶å‘é€äº‹ä»¶ï¼Œè§‚å¯Ÿè€…ä¼šè°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œå“åº”æ¥å—æ­¤äº‹ä»¶            override fun onSubscribe(s: Subscription?) {                TODO(&quot;Not yet implemented&quot;)            }            //è¢«è§‚å¯Ÿè€…è°ƒç”¨ onNext æ—¶å‘é€äº‹ä»¶ï¼Œè§‚å¯Ÿè€…ä¼šè°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œå“åº”æ¥å—æ­¤äº‹ä»¶            override fun onNext(t: String?) {                TODO(&quot;Not yet implemented&quot;)            }            //è¢«è§‚å¯Ÿè€…è°ƒç”¨ onError æ—¶å‘é€äº‹ä»¶ï¼Œè§‚å¯Ÿè€…ä¼šè°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œå“åº”æ¥å—æ­¤äº‹ä»¶            override fun onError(t: Throwable?) {                TODO(&quot;Not yet implemented&quot;)            }            //è¢«è§‚å¯Ÿè€…è°ƒç”¨ onComplete æ—¶å‘é€äº‹ä»¶ï¼Œè§‚å¯Ÿè€…ä¼šè°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œå“åº”æ¥å—æ­¤äº‹ä»¶            override fun onComplete() {                TODO(&quot;Not yet implemented&quot;)            }        }</code></pre><h2 id="Singleä¸SingleObserver"><a href="#Singleä¸SingleObserver" class="headerlink" title="Singleä¸SingleObserver"></a>Singleä¸SingleObserver</h2><p><strong>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ Singleã€‚</strong></p><p>å¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªå•ä¸€çš„è¿ç»­äº‹ä»¶æµï¼Œæ—¢ç„¶åªæœ‰ä¸€ä¸ªonNext()äº‹ä»¶ï¼Œæ¥ç€å°±è§¦å‘onCompleteæˆ–è€…onErrorï¼Œè¿™æ ·ä½ ä½¿ç”¨Singleã€‚</p><p><strong>Singleå…±åŒ…å«é‚£äº›</strong></p><p>ä¸€ä¸ªæ­£å¸¸å¤„ç†æˆåŠŸçš„onSuccessï¼Œå¦ä¸€ä¸ªå¤„ç†å¤±è´¥çš„onErrorï¼Œå½“ç„¶å®ƒä¹‹å‘é€ä¸€æ¬¡ä¿¡æ¯ï¼Œå…¶ä¸­Singleç±»ä¼¼äºObservableã€‚</p><p><strong>è¢«è§‚å¯Ÿè€…</strong></p><pre><code class="kotlin">        val single: Single&lt;String&gt; = Single.create&lt;String&gt;(object : SingleOnSubscribe&lt;String&gt; {            override fun subscribe(emitter: SingleEmitter&lt;String&gt;) {                emitter.onSuccess(&quot;t&quot;)                emitter.onSuccess(&quot;c&quot;)                // è¿ç»­å‘é€ä¸¤æ¬¡æ˜¯ä¸èƒ½æˆåŠŸçš„ã€‚            }        })</code></pre><p><strong>è§‚å¯Ÿè€…</strong></p><pre><code class="kotlin">        single.subscribe(object : SingleObserver&lt;String&gt; {            // åœ¨è¢«è§‚å¯Ÿè€…è°ƒç”¨ onSubscribe åï¼Œè§‚å¯Ÿè€…å›è°ƒåˆ°è¿™é‡Œã€‚            override fun onSubscribe(d: Disposable) {            }            // åœ¨è¢«è§‚å¯Ÿè€…è°ƒç”¨ onSuccess åï¼Œè§‚å¯Ÿè€…å›è°ƒåˆ°è¿™é‡Œã€‚            override fun onSuccess(t: String) {                tv.text = t            }            // åœ¨è¢«è§‚å¯Ÿè€…è°ƒç”¨ onError åï¼Œè§‚å¯Ÿè€…å›è°ƒåˆ°è¿™é‡Œã€‚            override fun onError(e: Throwable) {            }        })</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-10-10-0.gif" alt="å¹¶æ²¡æœ‰æŒ‰ç…§é¢„æœŸå˜æˆâ€œcâ€"></p><p>æ‰€æœ‰ singleåªé€‚åˆå•æ¬¡äº‹ä»¶æµã€‚</p><h2 id="RxJavaä¸­å…³äº-Disposable"><a href="#RxJavaä¸­å…³äº-Disposable" class="headerlink" title="RxJavaä¸­å…³äº Disposable"></a>RxJavaä¸­å…³äº Disposable</h2><p>Disposable ç±»</p><ul><li><h5 id="dispose"><a href="#dispose" class="headerlink" title="dispose()"></a>dispose()</h5></li></ul><blockquote><p>ä¸»åŠ¨è§£é™¤è®¢é˜…</p></blockquote><ul><li><h5 id="isDisposed"><a href="#isDisposed" class="headerlink" title="isDisposed()"></a>isDisposed()</h5></li></ul><blockquote><p>æŸ¥è¯¢æ˜¯å¦è§£é™¤è®¢é˜… ã€‚ï¼ˆtrue ä»£è¡¨è§£é™¤ï¼‰</p></blockquote><h1 id="ä»€ä¹ˆæ˜¯åŒæ­¥"><a href="#ä»€ä¹ˆæ˜¯åŒæ­¥" class="headerlink" title="ä»€ä¹ˆæ˜¯åŒæ­¥"></a>ä»€ä¹ˆæ˜¯åŒæ­¥</h1><p>åœ¨æ‰§è¡ŒåŠŸèƒ½å‰å¿…é¡»ä¸€ä»¶ä¸€ä»¶åšå®Œæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯å¼‚æ­¥"><a href="#ä»€ä¹ˆæ˜¯å¼‚æ­¥" class="headerlink" title="ä»€ä¹ˆæ˜¯å¼‚æ­¥"></a>ä»€ä¹ˆæ˜¯å¼‚æ­¥</h1><p>ä¸åŒæ­¥æ˜¯ç›¸å¯¹çš„ï¼Œåœ¨æˆ‘ä»¬æ‰§è¡Œå®ŒæŸä¸ªåŠŸèƒ½ä¹‹åï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ç«‹åˆ»å¾—åˆ°ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥æ­£ç¡®çš„åšå…¶ä»–çš„æ“ä½œï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨å®Œæˆåé€šçŸ¥æˆ–è€…å›è°ƒå‘Šè¯‰æˆ‘ä»¬ï¼›</p><p>ä¾‹å¦‚ï¼šåå°ä¸‹è½½çš„ä¾‹å­ä¸­ï¼Œåœ¨æ‰§è¡Œä¸‹è½½åŠŸèƒ½åï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒå®ƒçš„ä¸‹è½½è¿‡ç¨‹ï¼Œåœ¨å®ƒä¸‹è½½å®Œæ¯•ä¹‹åé€šçŸ¥æˆ‘ä»¬å°±å¯ä»¥äº†ã€‚</p><h1 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h1><p><a href="https://www.runoob.com/design-pattern/observer-pattern.html" target="_blank" rel="noopener">è§‚å¯Ÿè€…æ¨¡å¼</a></p><p>å½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šçš„å…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Pattermï¼‰ã€‚    ä¾‹å¦‚ï¼šå½“å‰å¯¹è±¡è¢«ä¿®æ”¹æ—¶è¿™ä¼šé€šçŸ¥ä¾èµ–å®ƒçš„å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p><strong>æ„å›¾</strong>:å®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€ç§å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶ä¸”è¢«è‡ªåŠ¨æ›´æ–°ã€‚</p><p><strong>ä¸»è¦è§£å†³</strong>:ä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ç»™å…¶ä»–å¯¹è±¡é€šçŸ¥çš„é—®é¢˜ï¼Œè€Œä¸”è¦è€ƒè™‘åˆ°æ˜“ç”¨æ€§å’Œä½è€¦åˆï¼Œä¿è¯é«˜åº¦çš„åä½œã€‚</p><p><strong>ä½•æ—¶ä½¿ç”¨</strong>:ä¸€ä¸ªå¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰çš„ä¾èµ–å¯¹è±¡ï¼ˆè§‚å¯Ÿè€…å¯¹è±¡)éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œå¹¿æ’­é€šçŸ¥ã€‚</p><p>å¦‚ä½•è§£å†³å½“å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»æ—¶ï¼Œåˆ™ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ã€‚æ¯”å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«ä¿®æ”¹æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨é€šçŸ¥ä¾èµ–å®ƒçš„å¯¹è±¡ã€‚è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p><p><strong>å¦‚ä½•è§£å†³</strong>ï¼šä½¿ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯ï¼Œå¯ä»¥å°†è¿™ç§å…³ç³»å¼±åŒ–ã€‚</p><p><strong>å…³é”®ä»£ç </strong>ï¼šåœ¨æŠ½è±¡ç±»ä¸­æœ‰ä¸€ä¸ªArrayListå­˜æ”¾è§‚å¯Ÿè€…ã€‚</p><p><strong>åº”ç”¨å®ä¾‹</strong>ï¼š</p><ol><li>æ‹å–æ—¶ï¼Œæ‹å–å¸ˆè§‚å¯Ÿæœ€é«˜æ ‡ä»·ï¼Œç„¶åé€šçŸ¥å…¶ä»–ç«ä»·è€…ç«ä»·ã€‚</li><li>è©è¨é€šè¿‡æ´’æ°´æ‹›æ¥è€ä¹Œé¾Ÿï¼Œè€ä¹Œé¾Ÿå°±æ˜¯è§‚å¯Ÿè€…ï¼Œè§‚å¯Ÿè©è¨çš„æ´’æ°´åŠ¨ä½œ</li></ol><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ol><li>è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…æ˜¯æŠ½è±¡è€¦åˆçš„ã€‚</li><li>å»ºç«‹ä¸€å¥—è§¦å‘æœºåˆ¶</li></ol><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ol><li>å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚</li><li>å¦‚æœè§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿›è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘é€å˜åŒ–ã€‚</li></ol><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><p>ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ã€‚å°†è¿™äº›æ–¹é¢å°è£…åˆ°ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹çš„æ”¹å˜å’Œå¤ç”¨ã€‚</p><p>ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜å°†å¯¼è‡´ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¹Ÿå‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸çŸ¥é“æœ‰å¤šå°‘å¯¹è±¡æ”¹å˜ï¼Œå¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚</p><p>ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“è¿™ä¸ªå¯¹è±¡æ—¶è°ã€‚</p><p>éœ€è¦åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªè§¦å‘é“¾ï¼ŒAå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Bå¯¹è±¡ï¼ŒBå¯¹è±¡çš„è¡Œä¸ºå°†å½±å“Cå¯¹è±¡â€¦â€¦ã€‚å¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼åˆ›å»ºä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶ã€‚</p><h3 id="è°æ˜¯è§‚å¯Ÿè€…è°æ˜¯è¢«è§‚å¯Ÿè€…ï¼Ÿ"><a href="#è°æ˜¯è§‚å¯Ÿè€…è°æ˜¯è¢«è§‚å¯Ÿè€…ï¼Ÿ" class="headerlink" title="è°æ˜¯è§‚å¯Ÿè€…è°æ˜¯è¢«è§‚å¯Ÿè€…ï¼Ÿ"></a>è°æ˜¯è§‚å¯Ÿè€…è°æ˜¯è¢«è§‚å¯Ÿè€…ï¼Ÿ</h3><p>å½“ä½ åšå‡ºäº†æŸäº›åŠ¨ä½œå¦ä¸€ä¸ªäººæ ¹æ®ä½ çš„åŠ¨ä½œåšå‡ºæŸäº›è¡Œä¸ºï¼Œè¿™æ—¶ä½ å°±æ˜¯è¢«è§‚å¯Ÿè€…ï¼Œå¦ä¸€ä¸ªäººæ˜¯è§‚å¯Ÿè€…ã€‚</p><h1 id="è®¢é˜…-å‘å¸ƒæ¨¡å¼"><a href="#è®¢é˜…-å‘å¸ƒæ¨¡å¼" class="headerlink" title="è®¢é˜…-å‘å¸ƒæ¨¡å¼"></a>è®¢é˜…-å‘å¸ƒæ¨¡å¼</h1><p>è®¢é˜…-å‘å¸ƒæ¨¡å¼æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„å¦ä¸€ä¸ªåˆ«ç§°ã€‚</p><p>ä½†æ˜¯éšç€æ—¶é—´çš„å˜åŒ–ï¼Œå·²ç»ç‹¬ç«‹äºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆä¸ºå¦ä¸€ç§çš„è®¾è®¡æ¨¡å¼ã€‚</p><p>åœ¨ç°åœ¨çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œæˆä¸ºå‘å¸ƒè€…çš„æ¶ˆæ¯å‘é€è€…ä¸ä¼šå°†ä¿¡æ¯ç›´æ¥å‘é€ç»™è®¢é˜…è€…ï¼Œè¿™æ„å‘³è¿™å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å½¼æ­¤çš„å­˜åœ¨ã€‚åœ¨å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´å­˜åœ¨ç¬¬ä¸‰ä¸ªç»„ä»¶ï¼Œç§°ä¸ºè°ƒåº¦ä¸­å¿ƒæˆ–äº‹ä»¶é€šé“ï¼Œå®ƒç»´æŒç€å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„è”ç³»ï¼Œè¿‡æ»¤æ‰€æœ‰å‘å¸ƒè€…ä¼ å…¥çš„ä¿¡æ¯å¹¶ç›¸åº”çš„åˆ†å‘ç»™å®ƒçš„è®¢é˜…è€…ã€‚</p><p>ä¾‹å­ï¼š</p><p>ä½ åœ¨å¾®åšå…³æ³¨äº†Aï¼ŒåŒæ—¶å…¶ä»–å¾ˆå¤šäººä¹Ÿå…³æ³¨äº†Aï¼Œé‚£ä¹ˆå½“Aå‘å¸ƒåŠ¨æ€çš„æ—¶å€™ï¼Œå¾®åšå°±ä¼šä¸ºä½ æ¨é€è¿™æ¡åŠ¨æ€ã€‚Aå°±æ˜¯å‘å¸ƒè€…ï¼Œä½ æ˜¯è®¢é˜…è€…ï¼Œå¾®åšå°±æ˜¯è°ƒåº¦ä¸­å¿ƒï¼Œä½ å’ŒAä¹‹é—´æ²¡æœ‰ç›´æ¥çš„æ¶ˆæ¯å¾€æ¥ï¼Œå…¨æ˜¯é€šè¿‡å¾®åšæ¥åè°ƒçš„ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-8-3-1.gif" alt="å¦‚æœæœ‰äº›æ–¹æ³•æ²¡æœ‰è¯¦ç»†è¯´æ˜ä½ å¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹"></p><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="(https://www.cnblogs.com/onepixel/p/10806891.html)">è§‚å¯Ÿè€…æ¨¡å¼ä¸è®¢é˜…å‘å¸ƒæ¨¡å¼çš„åŒºåˆ«</a></p><p><a href="https://maxwell-nc.github.io/android/rxjava2-1.html#Single%E5%92%8CSingleObserver" target="_blank" rel="noopener"><strong>RxJava 2.x ä½¿ç”¨è¯¦è§£(ä¸€) å¿«é€Ÿå…¥é—¨</strong></a></p><p><a href="https://www.jianshu.com/p/2a882604bbe8" target="_blank" rel="noopener">Rxjavaå…³äºDisposableä½ åº”è¯¥çŸ¥é“çš„äº‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> RxJava </tag>
            
            <tag> è½¯ä»¶å·¥ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>koinä¾èµ–æ³¨å…¥æ¡†æ¶</title>
      <link href="/2020/08/13/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-koin/"/>
      <url>/2020/08/13/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-koin/</url>
      
        <content type="html"><![CDATA[<h2 id="koinçš„ä½¿ç”¨"><a href="#koinçš„ä½¿ç”¨" class="headerlink" title="koinçš„ä½¿ç”¨"></a>koinçš„ä½¿ç”¨</h2><h4 id="æ·»åŠ ä¾èµ–åº“"><a href="#æ·»åŠ ä¾èµ–åº“" class="headerlink" title="æ·»åŠ ä¾èµ–åº“"></a>æ·»åŠ ä¾èµ–åº“</h4><pre><code>    implementation &#39;org.koin:koin-androidx-viewmodel:2.0.1&#39;    implementation &#39;org.koin:koin-android:2.0.1&#39;</code></pre><h4 id="éœ€è¦åˆ›å»ºä¾èµ–å¯¹è±¡"><a href="#éœ€è¦åˆ›å»ºä¾èµ–å¯¹è±¡" class="headerlink" title="éœ€è¦åˆ›å»ºä¾èµ–å¯¹è±¡"></a>éœ€è¦åˆ›å»ºä¾èµ–å¯¹è±¡</h4><p>è¿™é‡Œåˆ›å»ºä¸‰ä¸ªç±»ï¼ŒStudentï¼ŒSchoolCourseï¼ŒFriendã€‚</p><ul><li>Studentç±»</li></ul><blockquote><p>ä¾èµ–äºSchoolCourseï¼ŒFriendç±»çš„æ–¹æ³•ã€‚</p></blockquote><pre><code class="kotlin">class Student(val course: SchoolCourse,val friend: Friend) {    fun beSmart() {        course.study()        friend.hangout()    }}</code></pre><ul><li>SchoolCourseç±»</li></ul><blockquote><p>æä¾›æ–¹æ³• study è´Ÿè´£æ‰“å° â€œI am studyingâ€</p></blockquote><pre><code>class SchoolCourse {    fun study() {        println(&quot;I am studying&quot;)    }}</code></pre><ul><li>Friend ç±»</li></ul><blockquote><p>æä¾›æ–¹æ³• hangout è´Ÿè´£æ‰“å° â€œWeâ€™re hanging outâ€</p></blockquote><pre><code>class Friend {    fun hangout() {        println(&quot;We&#39;re hanging out&quot;)    }}</code></pre><h4 id="å®šä¹‰ä¾èµ–é›†åˆ"><a href="#å®šä¹‰ä¾èµ–é›†åˆ" class="headerlink" title="å®šä¹‰ä¾èµ–é›†åˆ"></a>å®šä¹‰ä¾èµ–é›†åˆ</h4><p>åˆ›å»º Modeles æ–‡ä»¶ </p><ul><li>éœ€è¦ä½¿ç”¨ module æ–¹æ³•</li></ul><blockquote><p>æä¾›æ‰€éœ€è¦çš„ä¾èµ–</p></blockquote><ul><li>éœ€è¦ signle æ–¹æ³•</li></ul><blockquote><p>ä½¿å½“å‰ä¾èµ–ä¸ºä¸€ä¸ªå•ä¾‹çš„å¯¹è±¡</p></blockquote><ul><li>éœ€è¦ factory æ–¹æ³•</li></ul><blockquote><p>å®šä¹‰ä¸€ä¸ªå·¥åœºæ¯æ¬¡è°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹</p></blockquote><ul><li>éœ€è¦ get() æ–¹æ³•</li></ul><blockquote><p>get ç”¨äºæœ€ç»ˆå®ç°æ³¨å…¥</p></blockquote><pre><code>val appModule: Module = module {    single { SchoolCourse() }    factory { Friend() }    factory { Student(get(), get()) }}</code></pre><h4 id="å¯åŠ¨-Koin"><a href="#å¯åŠ¨-Koin" class="headerlink" title="å¯åŠ¨ Koin"></a>å¯åŠ¨ Koin</h4><ul><li><p>éœ€è¦ç³»ç»Ÿåœ¨åˆ›å»ºæ—¶ç¬¬ä¸€ä¸ªå¯åŠ¨Applicationå®ä¾‹</p><blockquote><p>ä¿®æ”¹ application ä¸­çš„ name å±æ€§ ä½¿å¾—åº”ç”¨ç¬¬ä¸€ä¸ªå¯åŠ¨å®ƒ</p></blockquote></li></ul><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200813224142.png" alt=""></p><ul><li>éœ€è¦åˆ›å»º MyApp</li></ul><blockquote><p>ç¬¬ä¸€ä¸ªå¯åŠ¨çš„Applicationå®ä¾‹</p></blockquote><ul><li>éœ€è¦ startKoin</li></ul><blockquote><p>ç”¨æ¥å¯åŠ¨Koin</p></blockquote><ul><li>éœ€è¦ modules</li></ul><blockquote><p>æ³¨å†Œå£°æ˜çš„Module</p></blockquote><ul><li>éœ€è¦ androidContext</li></ul><blockquote><p>å‘Koinä¸­æ³¨å…¥context</p></blockquote><pre><code>class MyApp : Application() {    override fun onCreate() {        super.onCreate()        startKoin {            androidContext(this@MyApp)            modules(listOf(appModule))        }    }}</code></pre><h4 id="ä½¿ç”¨-koin-å®ç°æ³¨å…¥"><a href="#ä½¿ç”¨-koin-å®ç°æ³¨å…¥" class="headerlink" title="ä½¿ç”¨ koin å®ç°æ³¨å…¥"></a>ä½¿ç”¨ koin å®ç°æ³¨å…¥</h4><p>åœ¨éœ€è¦æ³¨å…¥çš„åœ°æ–¹ä½¿ç”¨</p><ul><li>éœ€è¦ä½¿ç”¨ get()</li></ul><blockquote><p>é æ‡’åŠ è½½ï¼Œæ³¨å…¥å®ä¾‹</p></blockquote><p>é€šè¿‡ æ³¨å…¥ä¾èµ–å®Œæˆåçš„å®ä¾‹è°ƒç”¨beSmart()æ–¹æ³•</p><pre><code>        val student = get&lt;Student&gt;()        student.beSmart()        val student2 = get&lt;Student&gt;()        student2.beSmart()</code></pre><h4 id="å®Œæˆæ³¨å…¥"><a href="#å®Œæˆæ³¨å…¥" class="headerlink" title="å®Œæˆæ³¨å…¥"></a>å®Œæˆæ³¨å…¥</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/image-20200813233756977.png" alt=""></p><h4 id="ä»€ä¹ˆæ˜¯-koinï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-koinï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ koinï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ koinï¼Ÿ</h4><p>ä¸€ä¸ªè½»é‡çº§çš„ä¾èµ–æ³¨å…¥ç»„ä»¶ã€‚</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p><a href="https://zhuanlan.zhihu.com/p/188485918" target="_blank" rel="noopener">Koin in Android: æ›´ç®€å•çš„ä¾èµ–æ³¨å…¥</a></p><h4 id="Get"><a href="#Get" class="headerlink" title="Get"></a>Get</h4><p>get()ç”¨äºå®ç°æ³¨å…¥ã€‚</p><p>å½“ä½ æ‰€å±ç±»å‹ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥æŒ‡å®šç±»å‹ã€‚get<Type>()</p><h4 id="å£°æ˜ï¼šç»‘å®šä¸€ä¸ªæ¥å£"><a href="#å£°æ˜ï¼šç»‘å®šä¸€ä¸ªæ¥å£" class="headerlink" title="å£°æ˜ï¼šç»‘å®šä¸€ä¸ªæ¥å£"></a>å£°æ˜ï¼šç»‘å®šä¸€ä¸ªæ¥å£</h4><p>ä¸€ä¸ª  single æˆ–è€… factory å£°æ˜å°†ä¼šä½¿ç”¨å…¶ç»™å®šçš„ lambda è¡¨è¾¾å¼ç±»å‹ã€‚æ¯”å¦‚ single{T}ï¼Œè¯¥å£°æ˜æ‰€åŒ¹é…çš„ç±»å‹å°±æ˜¯è¡¨è¾¾å¼æ‰€å£°æ˜çš„ç±»å‹ T è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªç±»åŠå…¶å®ç°çš„æ¥å£ä¸ºä¾‹ï¼š</p><pre><code class="java">// Service interfaceinterface Service{    fun doSomething()}// Service Implementationclass ServiceImp() : Service {    fun doSomething() { ... }}</code></pre><p>åœ¨koinæ¨¡å—(module)ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Kotilnä¸‹çš„ as æ“ä½œç¬¦ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="java">val myModule = module {    // åªåŒ¹é… Service ç±»å‹    single { ServiceImp() }    // åªåŒ¹é… Service ç±»å‹    single { ServiceImp() as Service }}</code></pre><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨æ–­ç±»å‹è¡¨è¾¾å¼</p><pre><code class="java">val myModule = module {    // åªåŒ¹é… Service ç±»å‹    single { ServiceImp() }    // åªåŒ¹é… Service ç±»å‹    single&lt;Service&gt; { ServiceImp() }}</code></pre><p>ç¬¬äºŒç§é£æ ¼æ˜¯é¦–é€‰çš„ï¼Œåœ¨æ¥ä¸‹æ¥çš„æ–‡æ¡£ä¸­ï¼Œä¹Ÿä¼šä½¿ç”¨è¯¥æ–¹æ³•ã€‚</p><h4 id="Bind"><a href="#Bind" class="headerlink" title="Bind"></a>Bind</h4><ul><li><p><code>bind()</code> - ä¸ºç»™å®šçš„å¯¹è±¡å£°æ˜æ·»åŠ è¦ç»‘å®šçš„ç±»å‹</p><p>Bind æ˜¯ä¸€ä¸ªä¸­è¾å‡½æ•°ï¼Œå¯ä»¥ç”¨äºæŠŠä¸€ä¸ªServiceå…³è”åˆ°å¤šä¸ªç±»ã€‚ä¾‹å¦‚ç°åœ¨æœ‰ä¸¤ä¸ªæ¥å£ï¼šToolï¼ŒFlammableï¼ŒStoveå®ç°äº†è¿™ä¸¤ä¸ªæ¥å£ã€‚æ˜¾ç„¶å¦‚æœåªå®šä¹‰1ä¸ªServiceæ˜¯ä¸èƒ½åŒæ—¶æ³¨å…¥Stoveå’Œè¿™ä¸¤ä¸ªæ¥å£çš„ã€‚</p><p>è¿™æ˜¯å°±å¯ä»¥å‘æŒ¥Bindçš„ä½œç”¨äº†</p><pre><code>val myModule = module{    factory { Stove() } bind Tool::class bind Flammable::class // &lt;- here!    factory { Chef(get()) }}</code></pre><p>è¿™ä¹ˆä¸€æ¥ï¼Œä¸‹é¢çš„ä¸‰ä¸ªæ³¨å…¥éƒ½æ˜¯åˆæ³•çš„ï¼Œå¹¶éƒ½ä¼šå¾—åˆ°ä¸€ä¸ª Stove å®ä¾‹ï¼š</p><pre><code>val chef: Chef = get()val tool:Tool = get()val flammable:Flammable = get()</code></pre></li></ul><h4 id="named"><a href="#named" class="headerlink" title="named"></a>named</h4><p>é™å®šç¬¦ï¼Œç”¨æ¥åŒºåˆ«åŒä¸€ä¸ªç±»çš„ä¸åŒå®ä¾‹</p><p>ä½¿ç”¨</p><pre><code class="java"> single(named(&quot;dev&quot;)) { DataRepository() } single(named(&quot;test&quot;)) { DataRepository() }</code></pre><h4 id="name-å±æ€§"><a href="#name-å±æ€§" class="headerlink" title="name å±æ€§"></a>name å±æ€§</h4><p>å¯é€šè¿‡nameæˆ–è€…classæ£€ç´¢åˆ°å¯¹åº”çš„å®ä¾‹</p><p>ä½¿ç”¨</p><pre><code class="kotlin">    factory(name = MAIN) {        AndroidSchedulers.mainThread()    }</code></pre><h2 id="ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬"><a href="#ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬" class="headerlink" title="ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬"></a>ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬</h2><h3 id="ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼Œç®€ç§°-DIï¼‰"><a href="#ä¾èµ–æ³¨å…¥ï¼ˆDependency-Injectionï¼Œç®€ç§°-DIï¼‰" class="headerlink" title="ä¾èµ–æ³¨å…¥ï¼ˆDependency  Injectionï¼Œç®€ç§° DIï¼‰"></a>ä¾èµ–æ³¨å…¥ï¼ˆDependency  Injectionï¼Œç®€ç§° DIï¼‰</h3><p>ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ</p><p>å‡è®¾ A æ˜¯ è€³æœºï¼ŒB æ˜¯æ’­æ”¾å™¨ã€‚</p><p>å½“ A ä¾èµ– B æ—¶ï¼ˆä¹Ÿå°±æ˜¯è€³æœºæƒ³è¦æ’­æ”¾ä»¥éŸ³ä¹æ—¶ï¼‰ï¼ŒA è¦æƒ³æ’­æ”¾éŸ³ä¹å°±å¿…é¡»è¦æœ‰Bçš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯</p><ol><li>é€šè¿‡Açš„æ¥å£ï¼ŒæŠŠBä¼ å…¥ï¼›</li><li>é€šè¿‡Açš„æ„é€ ï¼ŒæŠŠBä¼ å…¥ï¼›</li><li>é€šè¿‡Açš„å±æ€§ï¼ŒæŠŠBä¼ å…¥ï¼›</li></ol><p>è¿™äº›è¿‡ç¨‹å«åš<strong>ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</strong></p><h3 id="æ§åˆ¶åè½¬ï¼ˆInversion-of-Controlï¼Œç®€ç§°-Iocï¼‰"><a href="#æ§åˆ¶åè½¬ï¼ˆInversion-of-Controlï¼Œç®€ç§°-Iocï¼‰" class="headerlink" title="æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç®€ç§° Iocï¼‰"></a>æ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç®€ç§° Iocï¼‰</h3><p>ä½†æ˜¯ A å¹¶ä¸èƒ½æ§åˆ¶ B ä½•æ—¶æ’­æ”¾(åˆ›å»º)æˆ–è€…å…³é—­(é”€æ¯)ï¼Œä»…ä½¿ç”¨ B ï¼Œé‚£ä¹ˆ B çš„æ§åˆ¶æƒäº¤ç»™ A ä¹‹å¤–çš„äº‹åŠ¡å¤„ç†ï¼Œè¿™äº›å«åš <strong>æ§åˆ¶åè½¬ï¼ˆIocï¼‰</strong></p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥"><a href="#ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥"></a>ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥</h3><p>é™ä½è€¦åˆ</p><p>ä»€ä¹ˆæ˜¯è€¦åˆ</p><p>è€¦åˆæ€§(Coupling)ï¼Œä¹Ÿå«è€¦åˆåº¦ï¼Œæ˜¯å¯¹æ¨¡å—é—´å…³è”ç¨‹åº¦çš„åº¦é‡ã€‚ä¸¤ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½æ¨¡å—ä¹‹é—´çš„å…³è”ç¨‹åº¦ã€‚</p><p>ä»€ä¹ˆæ˜¯è§£è€¦</p><p>è§£é™¤ç±»ï¼ˆæ¨¡å—ï¼‰ä¹‹é—´çš„ç›´æ¥å…³ç³»ï¼Œå°†ç›´æ¥å…³ç³»è½¬æ¢æˆé—´æ¥å…³ç³»</p><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="https://www.youtube.com/watch?v=eH9UrAwKEcE&t=140s" target="_blank" rel="noopener">Dependency Injection with Koin - Android Kotlin tutorial</a></p><p><a href="https://github.com/AndyJennifer/koin_doc_zh" target="_blank" rel="noopener">koin ä¸­æ–‡ DOC</a></p><p><a href="https://juejin.im/post/6844904202586554382" target="_blank" rel="noopener">Koin in Android: æ›´ç®€å•çš„ä¾èµ–æ³¨å…¥</a></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-8-3-1.gif" alt="å¦‚æœæœ‰äº›æ–¹æ³•æ²¡æœ‰è¯¦ç»†è¯´æ˜ä½ å¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> è½¯ä»¶å·¥ç¨‹ </tag>
            
            <tag> koin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BottomSheetã€BottomShaeetDialogä½¿ç”¨æµç¨‹</title>
      <link href="/2020/08/06/BottomSheets/"/>
      <url>/2020/08/06/BottomSheets/</url>
      
        <content type="html"><![CDATA[<h1 id="BottomSheet"><a href="#BottomSheet" class="headerlink" title="BottomSheet"></a>BottomSheet</h1><p>Demo ä»£ç  <a href="https://medium.com/@droidbyme/android-bottom-sheet-7e9cfcec6427" target="_blank" rel="noopener">https://medium.com/@droidbyme/android-bottom-sheet-7e9cfcec6427</a><br>ä½¿ç”¨ BottomSheetã€BottomSheetDialogã€BottomSheetDialogFragment</p><h4 id="BottomSheetä½¿ç”¨æµç¨‹"><a href="#BottomSheetä½¿ç”¨æµç¨‹" class="headerlink" title="BottomSheetä½¿ç”¨æµç¨‹"></a>BottomSheetä½¿ç”¨æµç¨‹</h4><p>BottomSheetå®ç°æŒ‰é’®åœ¨ç‚¹å‡»ä¹‹åæ»‘åŠ¨å¸ƒå±€.ä¸è”åŠ¨ä¹Ÿæ˜¯å¯ä»¥çš„åªè¦ä¸è®¾ç½®å®ƒå°±å¯ä»¥äº†ã€‚</p><p><strong>è¢«è”åŠ¨çš„å¸ƒå±€ä½¿ç”¨</strong></p><pre><code>app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;</code></pre><p><strong>è”åŠ¨æŒ‰é’®ä½¿ç”¨å±æ€§</strong></p><pre><code>app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;</code></pre><p><img src="/img/Snipaste_2020-07-17_21-58-16.png" alt=""></p><p><strong>åœ¨åˆå§‹åŒ–æ—¶è¢«è”åŠ¨</strong></p><pre><code>          //  è®¾ç½®ç»‘å®šåŠ¨ä½œ        //  æ§ä»¶å’Œå®ƒç»‘å®š        var buttomSheetBehavior = BottomSheetBehavior.from(bottom_sheet_layout)</code></pre><p><strong>è®¾ç½®æŒ‰é’®äº†</strong></p><p>ä¹Ÿå°±æ˜¯åœ¨ç°åœ¨ç›‘å¬æŒ‰é’®çš„æ—¶å€™æ‰è¿›è¡Œè¿™ä¸ªæŒ‰é’®çš„è”åŠ¨æ»‘åŠ¨</p><pre><code>     btnBottomSheet.setOnClickListener {            if (buttomSheetBehavior.getState() != BottomSheetBehavior.STATE_EXPANDED)                buttomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED            else                buttomSheetBehavior.state = BottomSheetBehavior.STATE_COLLAPSED        }</code></pre><p>è®¾ç½®åœ¨æ˜¾ç¤ºæ—¶ä¸æ˜¾ç¤º,ä¸æ˜¾ç¤ºæ—¶æ˜¾ç¤ºã€‚</p><p>è®¾ç½®ç›‘å¬å™¨åœ¨å®ƒè¢«æ‹–åŠ¨ã€æ»‘åŠ¨ã€åˆ‡æ¢æ—¶äº§ç”Ÿæç¤ºã€‚</p><pre><code>        buttomSheetBehavior.setBottomSheetCallback(object : BottomSheetCallback() {            //è¿™é‡Œæ˜¯æ‹–æ‹½ä¸­çš„å›è°ƒï¼Œæ ¹æ®slideOffsetå¯ä»¥åšä¸€äº›åŠ¨ç”»            override fun onSlide(bottomSheet: View, slideOffset: Float) {            }            //è¿™é‡Œæ˜¯bottomSheetçŠ¶æ€çš„æ”¹å˜            override fun onStateChanged(bottomSheet: View, newState: Int) {                when (newState) {                    BottomSheetBehavior.STATE_EXPANDED -&gt; {                        Toast.makeText(this@MainActivity, &quot;å±•å¼€&quot;, Toast.LENGTH_LONG).show()                    }                    BottomSheetBehavior.STATE_COLLAPSED -&gt; {                        Toast.makeText(this@MainActivity, &quot;å…³é—­&quot;, Toast.LENGTH_LONG).show()                    }                    BottomSheetBehavior.STATE_DRAGGING -&gt; {                        Toast.makeText(this@MainActivity, &quot;æ‹–æ‹½çŠ¶æ€&quot;, Toast.LENGTH_LONG).show()                    }                    BottomSheetBehavior.STATE_HIDDEN -&gt; {                        Toast.makeText(this@MainActivity, &quot;éšè—çŠ¶æ€&quot;, Toast.LENGTH_LONG).show()                    }                    BottomSheetBehavior.STATE_SETTLING -&gt; {                        Toast.makeText(                            this@MainActivity,                            &quot; æ‹–æ‹½æ¾å¼€ä¹‹ååˆ°è¾¾ç»ˆç‚¹ä½ç½®ï¼ˆcollapsed or expandedï¼‰å‰çš„çŠ¶æ€&quot;,                            Toast.LENGTH_LONG                        ).show()                    }                }            }        })</code></pre><h4 id="BottomSheetDialogä½¿ç”¨æµç¨‹"><a href="#BottomSheetDialogä½¿ç”¨æµç¨‹" class="headerlink" title="BottomSheetDialogä½¿ç”¨æµç¨‹"></a>BottomSheetDialogä½¿ç”¨æµç¨‹</h4><p>ç‚¹å‡»æŒ‰é’®ä¹‹åå¼¹å‡ºDialogæç¤º(å¸ƒå±€ç•Œé¢æœ‰ä¸”å‡†å¤‡å¥½çš„)</p><p><strong>è®¾ç½®æŒ‰é’®çš„ç›‘å¬å™¨ï¼Œç‚¹å‡»ä¹‹åç›´æ¥å¼¹å‡ºDialogçª—å£ã€‚</strong></p><pre><code>  /*        * Javaå‡½æ•°å¼æ¥å£        * å¼¹çª—æç¤º        * */        btnBottomSheetDialog.setOnClickListener {            //ä½¿ç”¨å¸ƒå±€åŠ è½½å™¨layoutInflater            val view = layoutInflater.inflate(R.layout.fragment_bottom_sheet, null)            //å®ä¾‹è¯BottomSheetDialog():ç”¨æ¥å®ç°å¼¹å‡ºæç¤ºåŠŸèƒ½            val dialog = BottomSheetDialog(this)            dialog.setContentView(view)            dialog.show()        }</code></pre><h4 id="BottomSheetDialogFragmentåœ¨å½“å‰ç•Œé¢åŠ è½½Dialogç¢ç‰‡"><a href="#BottomSheetDialogFragmentåœ¨å½“å‰ç•Œé¢åŠ è½½Dialogç¢ç‰‡" class="headerlink" title="BottomSheetDialogFragmentåœ¨å½“å‰ç•Œé¢åŠ è½½Dialogç¢ç‰‡"></a>BottomSheetDialogFragmentåœ¨å½“å‰ç•Œé¢åŠ è½½Dialogç¢ç‰‡</h4><pre><code>        /*        * åœ¨å½“å‰ç•Œé¢åŠ è½½ç¢ç‰‡        * */        btnBottomSheetDialogFragment.setOnClickListener {            val bottomSHeetFragment = BottomSheetFragment()            bottomSHeetFragment.show(supportFragmentManager, bottomSHeetFragment.tag)        }</code></pre><p><strong>å‡†å¤‡å¥½è¦åŠ è½½çš„ç¢ç‰‡,å®ƒæ˜¯è¦æœ‰bottom_sheet_dialogç±»å‹çš„ç•Œé¢</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MediaStoreè®¿é—®å›¾ç‰‡ã€è§†é¢‘</title>
      <link href="/2020/08/01/MediaStore%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2020/08/01/MediaStore%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨â€MediaStoreâ€è®¿é—®å›¾ç‰‡ã€è§†é¢‘çš„ç¼©ç•¥å›¾"><a href="#ä½¿ç”¨â€MediaStoreâ€è®¿é—®å›¾ç‰‡ã€è§†é¢‘çš„ç¼©ç•¥å›¾" class="headerlink" title="ä½¿ç”¨â€MediaStoreâ€è®¿é—®å›¾ç‰‡ã€è§†é¢‘çš„ç¼©ç•¥å›¾"></a>ä½¿ç”¨â€MediaStoreâ€è®¿é—®å›¾ç‰‡ã€è§†é¢‘çš„ç¼©ç•¥å›¾</h2><h3 id="éœ€è¦åŠ¨æ€ç”³è¯·æƒé™"><a href="#éœ€è¦åŠ¨æ€ç”³è¯·æƒé™" class="headerlink" title="éœ€è¦åŠ¨æ€ç”³è¯·æƒé™"></a>éœ€è¦åŠ¨æ€ç”³è¯·æƒé™</h3><p>éœ€è¦é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è¦ ç”³è¯·çš„æƒé™ â€œAndroidManifest.xmlâ€</p><pre><code class="xml">&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;</code></pre><h4 id="æ³¨å†ŒåŠ¨æ€æƒé™"><a href="#æ³¨å†ŒåŠ¨æ€æƒé™" class="headerlink" title="æ³¨å†ŒåŠ¨æ€æƒé™"></a>æ³¨å†ŒåŠ¨æ€æƒé™</h4><ul><li><p>éœ€è¦è‡ªå®šä¹‰ â€œcheckReadExternalStoragePermission()â€æ–¹æ³•</p></li><li><p>éœ€è¦ â€œBuild.VERSION.SDK_INTâ€æ–¹æ³•è·å¾—å½“å‰ç³»ç»Ÿçš„ç‰ˆæœ¬å·</p></li><li><p>éœ€è¦ â€œBuild.VERSION_CODES.Mâ€è¡¨ç¤ºå®‰å“6</p></li><li><p>éœ€è¦ â€œContextCompat.checkSelfPermission()â€æ–¹æ³•, åˆ¤æ–­æ˜¯å¦è·å¾—äº†æƒé™.</p></li></ul><blockquote><p>å‚æ•°1:ä¸Šä¸‹æ–‡.å‚æ•°2:è¦åˆ¤æ–­çš„æƒé™. </p><p>è¿”å›å€¼:PackageManager.<strong>PERMISSION_GRANTED</strong> <strong>è¡¨ç¤ºæˆäºˆæƒé™</strong>,PackageManager.<strong>PERMISSION_DENIED</strong>  = -1    <strong>è¡¨ç¤ºæƒé™æœªå¼€å¯</strong>ï¼›</p></blockquote><ul><li>éœ€è¦ â€œshouldShowRequestPermissionRationale()â€æ–¹æ³•.</li></ul><blockquote><p>åˆ¤æ–­å½“å‰æƒé™æ˜¯å¦è¢«æ‹’ç»,å¹¶ä¸”æ˜¾ç¤ºçª—å£,æ˜¾ç¤ºâ€è¿è¡Œâ€å’Œâ€æ‹’ç»â€é€‰é¡¹.</p><p>ç¬¬ä¸€æ¬¡ä¸æ˜¾ç¤ºâ€ä¸å†æé†’â€æŒ‰é’®,ç¬¬äºŒæ¬¡çª—å£æ·»åŠ â€ä¸å†æ˜¾ç¤ºé€‰æ‹©æ¡†â€ã€‚</p><p>è¿”å›å€¼:æ‹’ç»è¿”å› true ,å…è®¸è¿”å› false æˆ–è€… ä¸å†æé†’é€‰ä¸­å è¿”å› false</p></blockquote><ul><li>éœ€è¦ â€œrequestPermission()â€æ–¹æ³•.</li></ul><blockquote><p>ç”¨æ¥ç”³è¯·ç³»ç»Ÿæƒé™. <strong>æ¯æ¬¡è¢«è°ƒç”¨æ—¶éƒ½ä¼šå›è°ƒâ€onRequestPermissionsResult()â€æ–¹æ³•ã€‚</strong></p><p>å‚æ•°1:è¦ç”³è¯·çš„æƒé™.</p><p>å‚æ•°2:è¦ç”³è¯·æƒé™çš„ code ä»¥ç”¨æ¥åœ¨ç”³è¯·æ–¹æ³•å›è°ƒæ—¶ç¡®å®šæ˜¯å½“å‰çš„ç”³è¯·æ“ä½œ.</p></blockquote><p>åœ¨éœ€è¦æ³¨å†Œæƒé™çš„æ´»åŠ¨ä¸Šæ·»åŠ </p><pre><code>    private fun checkReadExternalStoragePermission() {        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {            if (ContextCompat.checkSelfPermission(                    this,                    permission.READ_EXTERNAL_STORAGE                ) == PackageManager.PERMISSION_GRANTED            ) {                   } else {                if (shouldShowRequestPermissionRationale(permission.READ_EXTERNAL_STORAGE)) {                    Toast.makeText(this, &quot;App needs to view thumbnails&quot;, Toast.LENGTH_LONG).show()                }                requestPermissions(                    arrayOf(permission.READ_EXTERNAL_STORAGE),                    READ_EXTERNAL_STORAGE_PERMISSION_RESULT                )            }        } else {        }    }</code></pre><pre><code>    private val READ_EXTERNAL_STORAGE_PERMISSION_RESULT: Int = 0</code></pre><ul><li>éœ€è¦é‡å†™ â€œonRequestPermissionsResult()â€æ–¹æ³•</li></ul><blockquote><p>ç”³è¯·æƒé™æ—¶ä¼šè°ƒç”¨å®ƒ(ç”³è¯·æƒé™æ—¶çš„å›è°ƒ)</p><p>å‚æ•°1:ç”³è¯·æƒé™æ—¶çš„Code,è¡¨ç¤ºç”³è¯·æƒé™çš„æ“ä½œæ˜¯å¦ç›¸åŒ.</p><p>å‚æ•°2:è¿™æ˜¯è¦ç”³è¯·çš„æƒé™æ°¸è¿œä¸ä¸ºç©º.</p><p>å‚æ•°3:è¡¨ç¤ºæƒé™æˆæƒçš„ç»“æœæ°¸è¿œå°è£…åœ¨grantResultæ•°ç»„ä¸­</p></blockquote><pre><code>override fun onRequestPermissionsResult(        requestCode: Int,        permissions: Array&lt;out String&gt;,        grantResults: IntArray    ) {        super.onRequestPermissionsResult(requestCode, permissions, grantResults)        when (requestCode) {            READ_EXTERNAL_STORAGE_PERMISSION_RESULT -&gt; {                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                    Toast.makeText(this, &quot;now have access to view thumbs&quot;, Toast.LENGTH_LONG).show()                }            }        }    }</code></pre><h3 id="éœ€è¦RecyclerViewçš„é€‚é…å™¨"><a href="#éœ€è¦RecyclerViewçš„é€‚é…å™¨" class="headerlink" title="éœ€è¦RecyclerViewçš„é€‚é…å™¨"></a>éœ€è¦RecyclerViewçš„é€‚é…å™¨</h3><p><a href="https://thecara.github.io/2020/07/26/RecyclerView%E5%9C%A8Kotlin%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/#toc-heading-7">ä½¿ç”¨æ­¤æ¡ˆä¾‹åˆ›å»ºé€‚é…å™¨</a></p><p>åˆå§‹åŒ–æ§ä»¶ä¸å†å¤è¿°äº†,</p><ul><li>éœ€è¦å˜é‡â€mMediaStoreCursorâ€</li></ul><blockquote><p>è¡¨ç¤ºå½“å‰çš„Cursor</p></blockquote><pre><code>class MediaStoreAdapter(private val mActivity: Activity) :    RecyclerView.Adapter&lt;MediaStoreAdapter.ViewHolder&gt;() {    private var mMediaStoreCursor: Cursor? = null        }</code></pre><ul><li><strong>éœ€è¦è‡ªå®šä¹‰â€getBitmapFromMediaStore()â€æ–¹æ³•</strong></li></ul><blockquote><p>è·å¾—ç³»ç»Ÿä¸­å›¾ç‰‡å’Œè§†é¢‘çš„ç¼©ç•¥å›¾.é€šè¿‡Cursorè·å¾—ç…§ç‰‡å’ŒVideoçš„ç¼©ç•¥å›¾</p><p>å‚æ•°1:ç§»åŠ¨åˆ°å¯¹åº”Cursorçš„è¡Œ.</p></blockquote><ul><li>éœ€è¦ä½¿ç”¨â€Cursor.getColumnIndex()â€æ–¹æ³•</li></ul><blockquote><p>è·å¾—å½“å‰MediaStoreCursorçš„â€å‚æ•°1â€çš„ç´¢å¼•</p><p>å‚æ•°1:è¦ç´¢å¼•çš„ä½ç½®</p><p>è¿”å›å€¼: è¿”å›åœ¨å½“å‰ Cursor ä¸­çš„ä½ç½®,æ²¡æœ‰è¿”å› -1 </p></blockquote><ul><li>éœ€è¦ä½¿ç”¨â€Cursor.getInt()â€™æ–¹æ³•</li></ul><blockquote><p>è·å¾—â€Cursorâ€ä¸­ç´¢å¼•(åˆ—)çš„æ•°å€¼.</p><p>å‚æ•°1:ä½ æƒ³è¦è·å¾—çš„åˆ—</p><p>è¿”å›å€¼:è¿”å›æŒ‡å®šåˆ—çš„æ•°å€¼</p></blockquote><ul><li>éœ€è¦ â€œMediaStore.Images.Thumbnails.getThumbnailâ€æ–¹æ³•</li></ul><blockquote><p>è·å¾—ç¼©ç•¥å›¾.</p><p>å‚æ•°1:è¡¨ç¤ºå†…å®¹æä¾›å™¨. å‚æ•°2:å½“å‰â€Cursorâ€ç¼©ç•¥å›¾çš„ID. </p><p>å‚æ•°3:è¿”å›æ—¶çš„æ¸…æ™°åº¦.MICRO_KIND,MINI_KINDå­—é¢æ„æ€ä¸ºå¾®å‹å’Œè¿·ä½ ç¼©ç•¥æ¨¡å¼,å‰è€…åˆ†è¾¨ç‡æ›´ä½.</p><p>è¿”å›å€¼:è¿”å›ä¸€ä¸ªBitmapæ ¼å¼</p></blockquote><p>åœ¨é€‚é…å™¨ä¸­æ·»åŠ </p><pre><code>class MediaStoreAdapter(private val mActivity: Activity) :    RecyclerView.Adapter&lt;MediaStoreAdapter.ViewHolder&gt;() {              private fun getBitmapFromMediaStore(position: Int): Bitmap? {        val idIndex: Int = mMediaStoreCursor!!.getColumnIndex(MediaStore.Files.FileColumns._ID)        val mediaTypeIndex: Int =            mMediaStoreCursor!!.getColumnIndex(MediaStore.Files.FileColumns.MEDIA_TYPE)        mMediaStoreCursor!!.moveToPosition(position)        when (mMediaStoreCursor!!.getInt(mediaTypeIndex)) {            // å½“å‰ç±»å‹ä¸º IMAGE æ—¶            MediaStore.Files.FileColumns.MEDIA_TYPE_IMAGE -&gt; {                return MediaStore.Images.Thumbnails.getThumbnail(                    mActivity.contentResolver,                    mMediaStoreCursor!!.getLong(idIndex),                    MediaStore.Images.Thumbnails.MICRO_KIND, null                )            }            // å½“å‰ç±»å‹ä¸º VIDEO            MediaStore.Files.FileColumns.MEDIA_TYPE_VIDEO -&gt; {                return MediaStore.Video.Thumbnails.getThumbnail(                    mActivity.contentResolver,                    mMediaStoreCursor!!.getLong(idIndex),                    MediaStore.Video.Thumbnails.MICRO_KIND, null                )            }        }        return null    }}</code></pre><ul><li><strong>éœ€è¦è‡ªå®šä¹‰æ–¹æ³•â€swapCursor()â€</strong></li></ul><blockquote><p>è·å¾—ä¸Šä¸€ä¸ªCursor.</p></blockquote><ul><li>éœ€è¦ â€œnotifyDataSetChanged()â€ æ–¹æ³•</li></ul><blockquote><p>æ£€æµ‹å½“å‰UIçº¿ç¨‹,åˆ·æ–°UI</p></blockquote><pre><code>class MediaStoreAdapter(private val mActivity: Activity) :    RecyclerView.Adapter&lt;MediaStoreAdapter.ViewHolder&gt;() {   private fun swapCursor(cursor: Cursor): Cursor? {        if (mMediaStoreCursor == cursor) {            return null        }        val oldCursor: Cursor? = mMediaStoreCursor        this.mMediaStoreCursor = cursor        if (cursor != null) {            this.notifyDataSetChanged()        }        return oldCursor    }}</code></pre><ul><li><strong>éœ€è¦ è‡ªå®šä¹‰æ–¹æ³•â€changeCursor()â€</strong></li></ul><blockquote><p>æ£€æµ‹ä¸Šä¸€ä¸ªCursor,ç”¨æ¥å…³é—­ä¸Šä¸ªCursor.</p></blockquote><pre><code>class MediaStoreAdapter(private val mActivity: Activity) :    RecyclerView.Adapter&lt;MediaStoreAdapter.ViewHolder&gt;() {        fun changeCursor(cursor: Cursor?) {        val oldCursor: Cursor? = swapCursor(cursor!!)        if (oldCursor != null)            oldCursor.close()    }}</code></pre><ul><li>éœ€è¦é‡å†™ â€œonBindViewHolder()â€æ–¹æ³•</li></ul><pre><code>    override fun onBindViewHolder(holder: ViewHolder, position: Int) {        val bitmap: Bitmap? = getBitmapFromMediaStore(position)        if (bitmap != null) {            holder.mediastoreImageView.setImageBitmap(bitmap)        }    }</code></pre><ul><li>éœ€è¦é‡å†™â€getItemCount()â€æ–¹æ³•</li></ul><pre><code>    override fun getItemCount(): Int {        return if (mMediaStoreCursor == null) 0 else mMediaStoreCursor!!.count    }</code></pre><ul><li>éœ€è¦é‡å†™â€onCreateViewHolder()â€æ–¹æ³•</li></ul><pre><code>    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {        val view =            LayoutInflater.from(parent.context).inflate(R.layout.media_image_view, parent, false)        return ViewHolder(view)    }</code></pre><h3 id="éœ€è¦â€LoaderManager-LoaderCallbacksâ€"><a href="#éœ€è¦â€LoaderManager-LoaderCallbacksâ€" class="headerlink" title="éœ€è¦â€LoaderManager.LoaderCallbacksâ€"></a>éœ€è¦â€LoaderManager.LoaderCallbacksâ€</h3><ul><li>éœ€è¦å®ç°LoaderManager.LoaderCallbacks<cursor>.(åœ¨MediaMainActivity)</li></ul><blockquote><p>åœ¨éœ€è¦çš„Fragmentæˆ–Activityä¸­å®ç°å®ƒã€‚</p></blockquote><pre><code>class MediaMainActivity : AppCompatActivity(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {}</code></pre><ul><li>éœ€è¦é‡å†™â€onCreateLoaderâ€</li></ul><blockquote><p>åœ¨è°ƒç”¨initLoader()è¿”å›æ—¶åˆ›å»ºä¸€ä¸ªLoader.</p><p>æ ¹æ®ä¼ å…¥çš„ID,åˆå§‹åŒ–å¹¶è¿”å›ä¸€ä¸ªæ–°çš„åŠ è½½å™¨.</p></blockquote><ul><li>éœ€è¦è¿”å›çš„åˆ—</li></ul><blockquote><p>MediaStore.Files.FileColums.ID è¿”å›Idåˆ—</p><p>MediaStore.Files.FIleColums.DATE_ADDED å›¾ç‰‡è¢«æ·»åŠ çš„æ—¶é—´</p><p>MediaStore.Files.FileColums.MEDIA_TYPE åª’ä½“ç±»å‹</p><p>MediaStore.Files.FileColums.MEDIA_TYPE_IMAGE å›¾ç‰‡åˆ—(ç´¢å¼•)</p><p>MediaStore.Files.FileColums.MEDIA_TYPE_VIDEO è§†é¢‘åˆ—(ç´¢å¼•)</p></blockquote><ul><li>éœ€è¦â€CursorLoader()â€åŒ¿åç±»</li></ul><blockquote><p>å®ƒæŸ¥è¯¢ContentResolverç„¶åè¿”å›ä¸€ä¸ªCursor.</p><p>å‚æ•°1:ä¸Šä¸‹æ–‡. å‚æ•°2:è¦æ“ä½œçš„URI.å½“å‰è¡¨ç¤ºæ‰€æœ‰å›¾ç‰‡çš„URI.</p><p>å‚æ•°3:è¦è¿”å›çš„åˆ—. å‚æ•°4:ä¸€ä¸ªè¿‡æ»¤å™¨,è¡¨æ˜å“ªäº›è¡Œè¦è¢«è¿”å›.å½“å‰è¿”å›ç±»å‹ä¸ºIMAGE æˆ– VIDEO</p><p>å‚æ•°5:ç”¨ä½œè¿‡æ»¤å™¨çš„å‚æ•°. </p><p>å‚æ•°6:è®¾ç½®æ’åº.ç›¸å½“äºSQLè¯­å¥ä¸­Order by.è¿™é‡Œä½¿ç”¨ DATA_ADDED + DESC è¡¨ç¤ºæŒ‰ç…§æ—¶é—´è¿›è¡Œæ’åº.</p></blockquote><pre><code class="kotlin">    override fun onCreateLoader(p0: Int, p1: Bundle?): androidx.loader.content.Loader&lt;Cursor&gt; {        val projection = arrayOf&lt;String&gt;(            MediaStore.Files.FileColumns._ID,            MediaStore.Files.FileColumns.DATE_ADDED,            MediaStore.Files.FileColumns.MEDIA_TYPE        )        // SQLå‘½ä»¤        val selection =            MediaStore.Files.FileColumns.MEDIA_TYPE +                    &quot; = &quot; + MediaStore.Files.FileColumns.MEDIA_TYPE_IMAGE + &quot; or &quot; + MediaStore.Files.FileColumns.MEDIA_TYPE +                    &quot; = &quot; + MediaStore.Files.FileColumns.MEDIA_TYPE_VIDEO        return object : CursorLoader(            this,            MediaStore.Files.getContentUri(&quot;external&quot;),            projection,            selection,            null,            MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC &quot;        ) {}    }</code></pre><ul><li>éœ€è¦é‡å†™ â€œonLoadFinished()â€æ–¹æ³•</li></ul><blockquote><p>æ›´æ–°UIæ“ä½œ.å½“ä¸€ä¸ªåŠ è½½å™¨å®Œæˆäº†å®ƒçš„è£…è½½è¿‡ç¨‹åè¢«è°ƒç”¨.</p></blockquote><ul><li>éœ€è¦è°ƒç”¨changeCursor()æ–¹æ³•</li></ul><blockquote><p>åˆ·æ–°å½“å‰å‚æ•°1,å…³é—­ä¸Šä¸€ä¸ªCursor</p><p>å‚æ•°1:å½“å‰çš„Cursor</p></blockquote><pre><code>class MediaMainActivity : AppCompatActivity(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {    override fun onLoadFinished(loader: androidx.loader.content.Loader&lt;Cursor&gt;, data: Cursor?) {        mMediaStoreAdapter?.changeCursor(data!!)    }}</code></pre><ul><li>éœ€è¦é‡å†™â€onLoaderReset()â€æ–¹æ³•</li></ul><blockquote><p>ä½•æ—¶é‡Šæ”¾å†…å­˜,å½“ä¸€ä¸ªåŠ è½½å™¨å®Œæˆäº†å®ƒçš„è£…è½½å·¥ä½œä¹‹åè¢«è°ƒç”¨</p></blockquote><pre><code>class MediaMainActivity : AppCompatActivity(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {   override fun onLoaderReset(loader: androidx.loader.content.Loader&lt;Cursor&gt;) {        mMediaStoreAdapter?.changeCursor(null)    }}</code></pre><ul><li><p>éœ€è¦åœ¨ç”¨äºæƒé™å’Œç”³è¯·æƒé™ä¹‹åæ·»åŠ </p></li><li><p>éœ€è¦åœ¨â€onRequestPermissionsResult()â€ä¸­è°ƒç”¨â€getSupportLoaderManager.initLoader()â€</p></li></ul><blockquote><p>å¯åŠ¨åŠ è½½å™¨</p><p>å‚æ•°1:ä¸€ä¸ªå”¯ä¸€çš„IDæ¥æ ‡å¿—åŠ è½½å™¨.</p><p>å‚æ•°2:å¯é€‰å‚æ•°,ç”¨äºåŠ è½½åˆå§‹åŒ–æ—¶(æœ¬ä¾‹ä¸ºnull)</p><p>å‚æ•°3:LoaderManager.LoaderCallbacksçš„å®ç°.è¢«LoaderMangerè°ƒç”¨ä»¥æŠ¥å‘ŠåŠ è½½äº‹ä»¶,åœ¨ä¾‹å­ä¸­æ˜¯ä¼ é€’ç»™è‡ªå·±â€thisâ€</p></blockquote><pre><code>when (requestCode) {            READ_EXTERNAL_STORAGE_PERMISSION_RESULT -&gt; {                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {                //æ·»åŠ  supportLoaderManager.initLoader(MEDIASTORE_LODAR_ID, null, this)                }            }        }</code></pre><ul><li>éœ€è¦åœ¨â€checkReadExternalStoragePermission()â€ä¸­è°ƒç”¨</li><li>éœ€è¦åœ¨æ‹¥æœ‰æƒé™åè°ƒç”¨,åœ¨â€checkSelfPermission()â€åˆ¤æ–­æ‹¥æœ‰æƒé™åè°ƒç”¨</li></ul><pre><code>        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {                  if (ContextCompat.checkSelfPermission(                    this,                    permission.READ_EXTERNAL_STORAGE                ) == PackageManager.PERMISSION_GRANTED            ) {              //æ·»åŠ   supportLoaderManager.initLoader(MEDIASTORE_LODAR_ID, null, this)            }         } else {            //æ·»åŠ   supportLoaderManager.initLoader(MEDIASTORE_LODAR_ID, null, this)        }</code></pre><p>ps:æ˜¾ç¤ºäº†åœ¨å“ªé‡Œæ·»åŠ å…¶ä»–çš„ä»£ç ä¸ç”¨ä¿®æ”¹.</p><ul><li>éœ€è¦æ·»åŠ å”¯ä¸€çš„IDæ ‡å¿—åŠ è½½å™¨.</li></ul><pre><code>class MediaMainActivity : AppCompatActivity(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {    private val MEDIASTORE_LODAR_ID: Int = 0}</code></pre><ul><li>éœ€è¦GridLayoutManger,åœ¨ â€œonCreate()â€ ä¸­æ·»åŠ </li></ul><blockquote><p>è®¾ç½®RecyclerViewçš„å¸ƒå±€</p><p>å‚æ•°1:ä¸Šä¸‹æ–‡ . å‚æ•°2:å¤šå°‘åˆ—</p></blockquote><pre><code>val gridLayoutManager: GridLayoutManager = GridLayoutManager(this, 3)</code></pre><ul><li>éœ€è¦RecyclerViewçš„setLayoutManager</li></ul><blockquote><p>è®¾ç½® GridLayoutManager</p></blockquote><pre><code>thumbnailRecyclerView.layoutManager = gridLayoutManager</code></pre><ul><li>éœ€è¦è®¾ç½®é€‚é…å™¨çœç•¥..</li></ul><h3 id="ä½¿ç”¨-â€œGlideâ€çš„æ–¹å¼åŠ è½½å›¾ç‰‡"><a href="#ä½¿ç”¨-â€œGlideâ€çš„æ–¹å¼åŠ è½½å›¾ç‰‡" class="headerlink" title="ä½¿ç”¨ â€œGlideâ€çš„æ–¹å¼åŠ è½½å›¾ç‰‡"></a>ä½¿ç”¨ â€œGlideâ€çš„æ–¹å¼åŠ è½½å›¾ç‰‡</h3><ul><li>éœ€è¦æ·»åŠ ä¾èµ–</li></ul><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200803180403.png" alt=""></p><ul><li>éœ€è¦â€œMediaStore.Files.FileColumns.DATAâ€ï¼ˆéœ€è¦åœ¨onCreateLoaderçš„projectionä¿®æ”¹ï¼‰</li></ul><blockquote><p>è¡¨è¿°ç´¢å¼•åœ¨ç£ç›˜ä¸­ä½ç½®</p></blockquote><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200803180843.png" alt=""></p><p>éœ€è¦åˆ›å»ºè‡ªå®šä¹‰è¿”å›â€œgetUriFromMediaStore()â€ï¼ˆåœ¨MediaStoreAdapterä¸­æ·»åŠ ï¼‰</p><blockquote><p>è·å¾—ç¼©ç•¥å›¾åœ¨ContentResolverä¸­çš„uri</p><p>å‚æ•°1ï¼šmediaçš„é‚£ä¸ªè¡Œ</p></blockquote><p>éœ€è¦â€œUri.parse()â€ æ–¹æ³•</p><blockquote><p>å°†å­—ç¬¦ä¸²è§£ææˆuriå¯¹è±¡</p></blockquote><pre><code>    private fun getUriFromMediaStore(position: Int): Uri {        val dataIndex: Int = mMediaStoreCursor!!.getColumnIndex(MediaStore.Files.FileColumns.DATA)        mMediaStoreCursor!!.moveToPosition(position)        val mediaUri: Uri =            Uri.parse(&quot;file://&quot; + mMediaStoreCursor!!.getString(dataIndex).toString())        return mediaUri    }</code></pre><p>éœ€è¦â€œGlideâ€ - (åœ¨onBindViewHolder()ä¸­æ·»åŠ )</p><blockquote><p>with(content:Content) - éœ€è¦ä¸Šä¸‹æ–‡</p><p>load(uri:String) - å›¾ç‰‡çš„uri</p><p>centerCrop() - å°†å›¾ç‰‡æŒ‰æ¯”ä¾‹ç¼©æ”¾åˆ°è¶³ä»¥å¡«å……ImageViewçš„å°ºå¯¸ï¼Œä½†æ˜¯å›¾ç‰‡å¯èƒ½ä¼šæ˜¾ç¤ºä¸å®Œæ•´ã€‚</p><p>override(width,height) é‡æ–°æ”¹å˜å›¾ç‰‡å¤§å°ã€‚</p><p>into() - ä½ éœ€è¦æ˜¾ç¤ºå›¾ç‰‡çš„ç›®æ ‡ã€‚</p></blockquote><pre><code>      Glide.with(mActivity).load(getUriFromMediaStore(position)).centerCrop().override(96, 96)            .into(holder.mediastoreImageView)</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200803184305.png" alt=""></p><h2 id="ä»€ä¹ˆæ˜¯Loader"><a href="#ä»€ä¹ˆæ˜¯Loader" class="headerlink" title="ä»€ä¹ˆæ˜¯Loader"></a>ä»€ä¹ˆæ˜¯Loader</h2><p><a href="http://www.jcodecraeer.com/a/anzhuokaifa/developer/2014/0325/1602.html" target="_blank" rel="noopener">android åŠ è½½å™¨loaderè¯¦è§£</a></p><p>Loaderç®€åŒ–äº†activityå’ŒFragmentä¸­å¼‚æ­¥åŠ è½½æ•°æ®çš„æ­¥éª¤.</p><p>ç‰¹ç‚¹:é€‚ç”¨äºæ¯ä¸ªActivityå’ŒFragment,æä¾›å¼‚æ­¥åŠ è½½çš„å®ç°æ–¹å¼,ç›‘å¬æ•°æ®æº,åœ¨æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è‡ªåŠ¨è¿”å›æ–°çš„ç»“æœã€‚å½“ç”±äºé…ç½®æ”¹å˜åè¢«é‡æ–°åˆ›å»ºå,å®ƒä»¬è‡ªåŠ¨é‡æ–°é“¾æ¥ä¸Šä¸€ä¸ªåŠ è½½æ¸¸æ ‡,æ‰€ä»¥ä¸å¿…é‡æ–°æŸ¥æ•°æ®.</p><p>loader API è¯´æ˜</p><table><thead><tr><th align="center">Class/Interface</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">LoaderManager</td><td align="center">ä¸€ä¸ªä¸Activityå’ŒFragmentç›¸å…³è”çš„æŠ½è±¡ç±»,å®ƒç®¡ç†ä¸€ä¸ªæˆ–è€…å¤šä¸ªLoaderå®ä¾‹,å¸®åŠ©ä¸€ä¸ªåº”ç”¨ç®¡ç†å“ªäº›ä¸Activityæˆ–Fragmentçš„å£°æ˜å‘¨æœŸç›¸å…³çš„é•¿æ—¶é—´æ“ä½œ.å¸¸è§æ–¹å¼æ˜¯ä¸CursorLoaderä¸€èµ·ä½¿ç”¨,ç„¶ååº”ç”¨ä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€ä¸ªåŠ è½½å…¶ä»–æ•°æ®ç±»å‹æˆ–è€…æ•°æ®æºçš„loaderã€‚<strong>æ¯ä¸ªActivityæˆ–è€…Fragmentåªæœ‰ä¸€ä¸ªLoaderManager.ä½†æ˜¯ä¸€ä¸ªLoaderManagerå¯ä»¥æ‹¥æœ‰å¤šä¸ªåŠ è½½å™¨</strong></td></tr><tr><td align="center">LoaderManager.LoaderCallbacks</td><td align="center">ç”¨äºä¸€ä¸ªå®¢æˆ·ç«¯ä¸LoaderManageräº¤äº’çš„ä¼šè°ƒæ¥å£.ä¾‹å¦‚,ä½ ä½¿ç”¨å›è°ƒæ–¹æ³•onCreateLoader()æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„åŠ è½½å™¨.</td></tr><tr><td align="center">Loader</td><td align="center">ä¸€ä¸ªæ‰§è¡Œå¼‚æ­¥æ•°æ®åŠ è½½çš„æŠ½è±¡ç±»,å®ƒæ˜¯åŠ è½½å™¨çš„åŸºç¡€ç±».ä½ å¯ä»¥ä½¿ç”¨ç»å…¸çš„CursorLoader,ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥å®ç°ä½ çš„å­ç±».ä¸€æ—¦åŠ è½½å™¨è¢«æ¿€æ´»,å®ƒä»¬å°†ç›‘å¬å®ƒçš„æ•°æ®æºå¹¶ä¸”åœ¨æ•°æ®æ”¹å˜æ—¶å‘é€æ–°çš„ç»“æœ.</td></tr><tr><td align="center">AsyncTaskLoader</td><td align="center">æä¾›ä¸€ä¸ªAsyncTaskæ¥æ‰§è¡Œå¼‚æ­¥åŠ è½½å·¥ä½œçš„æŠ½è±¡ç±»</td></tr><tr><td align="center">CursorLoader</td><td align="center">AsyncTaskLoaderçš„å­ç±»,å®ƒæŸ¥è¯¢ContentResolverç„¶åè¿”å›ä¸€ä¸ªCursor.è¿™ä¸ªç±»ä¸ºæŸ¥è¯¢Cursorä»¥æ ‡å‡†çš„æ–¹å¼å®ç°äº†åŠ è½½å™¨åè®®,å®ƒçš„æ¸¸æ ‡æŸ¥è¯¢æ˜¯é€šè¿‡AsyncTaskLoaderåœ¨åå°çº¿ç¨‹ä¸­æ‰§è¡Œ,ä»è€Œä¸ä¼šé˜»æ–­çº¿ç¨‹</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-8-3-1.gif" alt="å¦‚æœæœ‰äº›æ–¹æ³•æ²¡æœ‰è¯¦ç»†è¯´æ˜ä½ å¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹"></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLite Database ä½¿ç”¨</title>
      <link href="/2020/07/28/SQLite-Database-%E4%BD%BF%E7%94%A8/"/>
      <url>/2020/07/28/SQLite-Database-%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h2><h5 id="éœ€è¦-åˆ›å»ºæ•°æ®åº“-ç±»-â€œMyHelperâ€"><a href="#éœ€è¦-åˆ›å»ºæ•°æ®åº“-ç±»-â€œMyHelperâ€" class="headerlink" title="éœ€è¦ åˆ›å»ºæ•°æ®åº“ ç±» â€œMyHelperâ€"></a>éœ€è¦ åˆ›å»ºæ•°æ®åº“ ç±» â€œMyHelperâ€</h5><pre><code class="kotlin">class MyHelper(    private val mContext: Context? = null,    private val dbname: String = &quot;mydb&quot;,    private val version: Int = 1) : SQLiteOpenHelper(mContext, dbname, null, version) {    /*    * éœ€è¦å˜é‡sqlç¡®å®šè¡¨çš„æ ¼å¼    * éœ€è¦ execSQL()æ‰§è¡Œåˆ›å»ºè¡¨çš„åŠ¨ä½œ    * */    override fun onCreate(p0: SQLiteDatabase?) {        // åˆ›å»ºæ•°æ®åº“è¡¨        val sql: String =            &quot;CREATE TABLE PRODUCTS (_id INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT, DESCRIPTION TEXT, PRICE READ)&quot;        // æ‰§è¡Œåˆ›å»ºè¡¨çš„åŠ¨ä½œ        p0?.execSQL(sql)    }    /*    *    * */    override fun onUpgrade(p0: SQLiteDatabase?, p1: Int, p2: Int) {        TODO(&quot;Not yet implemented&quot;)    }}</code></pre><ul><li>åˆ›å»ºæ•°æ®åº“éœ€è¦ç»§æ‰¿SQLiteOpenHelper()ç±»å‹,éœ€è¦å››ä¸ªå‚æ•°è¿›è¡Œåˆå§‹åŒ–</li><li>(å››ä¸ªå‚æ•°:mContext:ä¸Šä¸‹æ–‡,dbname: æ•°æ®åº“åç§°,version:æ•°æ®åº“ç‰ˆæœ¬,factory:null)</li><li>éœ€è¦å®ç°ä¸¤ä¸ªæ–¹æ³•onCreate()å’ŒonUpgrade()æ–¹æ³•</li></ul><h5 id="åœ¨éœ€è¦åˆ›å»ºæ•°æ®åº“æ—¶è°ƒç”¨"><a href="#åœ¨éœ€è¦åˆ›å»ºæ•°æ®åº“æ—¶è°ƒç”¨" class="headerlink" title="åœ¨éœ€è¦åˆ›å»ºæ•°æ®åº“æ—¶è°ƒç”¨"></a>åœ¨éœ€è¦åˆ›å»ºæ•°æ®åº“æ—¶è°ƒç”¨</h5><pre><code class="kotlin"> var myHelper: MyHelper = MyHelper(mContext = this) val sqlLiteDatabase: SQLiteDatabase = myHelper.readableDatabase</code></pre><p>è¿™æ—¶æ•°æ®åº“å°±åˆ›å»ºå®Œæˆäº†</p><h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><p>åˆ›å»ºä»“åº“åæ’å…¥æ•°æ®</p><p>éœ€è¦â€ContentValues()â€ç±»å‹</p><p>éœ€è¦â€SQLiteDatabaseçš„insert()â€æ–¹æ³•</p><p>åœ¨â€è‡ªå®šä¹‰æ•°æ®åº“ä¸­â€ä¸­æ·»åŠ æ–¹æ³•</p><pre><code>    private fun instertData(        name: String,        description: String,        price: Double,        database: SQLiteDatabase    ) {        // ContentValues() ç±»å‹è´Ÿè´£å­˜æ”¾é”®å€¼çš„æ•°æ®.ä½ åªéœ€è¦è®°ä½å®ƒæ˜¯å¾€æ•°æ®åº“ä¸­å­˜æ”¾æ•°æ®çš„.        val values: ContentValues = ContentValues()        values.put(&quot;NAME&quot;, name)        values.put(&quot;DESCRIPTION&quot;, description)        values.put(&quot;PRICE&quot;, price)        // å‘å½“å‰æ•°æ®åº“(database)æ’å…¥æ•°æ®(values)        database.insert(&quot;PRODUCTS&quot;, null, values)    }</code></pre><p>åœ¨<strong>å¤–éƒ¨è¦æ’å…¥æ•°æ®</strong>è®¾ç½®ç±»å‹ä¸º â€œpublicâ€å³å¯ã€‚</p><p>æ’å…¥æ•°æ®åœ¨å¤–éƒ¨è°ƒç”¨æ–¹æ³•</p><pre><code>        // insert        instertData(&quot;Jam&quot;, &quot;Fruit Jam&quot;, 300.1, p0!!)        instertData(&quot;Yli&quot;, &quot;Te Jam&quot;, 305.13, p0!!)        instertData(&quot;Tom Li&quot;, &quot;Zhou Jam&quot;, 210.7, p0!!)</code></pre><h2 id="è¯»å–æ•°æ®"><a href="#è¯»å–æ•°æ®" class="headerlink" title="è¯»å–æ•°æ®"></a>è¯»å–æ•°æ®</h2><p>éœ€è¦â€MyHelperâ€è‡ªå®šä¹‰<strong>æ•°æ®åº“ç±»çš„å®ä¾‹</strong></p><p>éœ€è¦â€MyHelper.readableDatabaseâ€æ–¹æ³•è¯»å–æ•°æ®åº“æ–¹æ³•<strong>è¿”å›ä¸€ä¸ªå¯å¯¹æ•°æ®åº“è¯»å†™çš„å¯¹è±¡</strong>.</p><p>éœ€è¦â€sqlLiteDatabase.rawQuery()â€æ–¹æ³•<strong>è·å¾—(æ•°æ®åº“è¡¨)æ¯è¡Œçš„é›†åˆ</strong>(Cursorç±»å‹).</p><pre><code>  // å®ä¾‹è¯è‡ªå®šä¹‰çš„æ•°æ®ç±»        var myHelper: MyHelper = MyHelper(mContext = this)        // åˆ›å»ºæ•°æ®åº“        val sqlLiteDatabase: SQLiteDatabase = myHelper.readableDatabase        val cursor: Cursor =            sqlLiteDatabase.rawQuery(&quot;SELECT NAME, PRICE FROM PRODUCTS&quot;, arrayOf&lt;String&gt;())        if (cursor != null)            cursor.moveToFirst()        val builder: StringBuilder = StringBuilder()        do {            val name: String = cursor.getString(0)            val price: Double = cursor.getDouble(1)            builder.append(&quot;NAME - &quot; + name + &quot;PRICE - &quot; + price)        } while (cursor.moveToNext())        // è¿™æ˜¯åœ¨ç•Œé¢ä¸Šåˆ·æ–°äº†è¯»å–çš„æ•°æ®        text_view.setText(builder.toString())</code></pre><p><img src="1595946627126.png" alt=""></p><h4 id="æŒ‰ç…§æ¡ä»¶æŸ¥è¯¢æŒ‡å®šæ•°æ®"><a href="#æŒ‰ç…§æ¡ä»¶æŸ¥è¯¢æŒ‡å®šæ•°æ®" class="headerlink" title="æŒ‰ç…§æ¡ä»¶æŸ¥è¯¢æŒ‡å®šæ•°æ®"></a>æŒ‰ç…§æ¡ä»¶æŸ¥è¯¢æŒ‡å®šæ•°æ®</h4><pre><code>   val cursor: Cursor =            sqlLiteDatabase.rawQuery(&quot;SELECT NAME, PRICE FROM PRODUCTS WHERE NAME = ?&quot;, arrayOf&lt;String&gt;(&quot;Tom Li&quot;))</code></pre><p>æŸ¥è¯¢ åˆ— â€œNAME,PRICEâ€ æ¥è‡ªè¡¨ â€œPRODUCTSâ€ æ ¹æ®æ¡ä»¶ â€œNAME = ?â€</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200731132244.png" alt=""></p><p>æŸ¥è¯¢å®Œæˆ</p><h2 id="ä»€ä¹ˆæ˜¯Cursorç±»å‹"><a href="#ä»€ä¹ˆæ˜¯Cursorç±»å‹" class="headerlink" title="ä»€ä¹ˆæ˜¯Cursorç±»å‹"></a>ä»€ä¹ˆæ˜¯Cursorç±»å‹</h2><p><a href="https://blog.csdn.net/android_zyf/article/details/53420267" target="_blank" rel="noopener">å¼•ç”¨:Androidä¸­çš„Cursoråˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ç†è§£Cursorçš„æ–¹æ³•éƒ½åœ¨åšä»€ä¹ˆäº‹æƒ…ï¼Ÿ</a></p><blockquote><p>Cursoræ˜¯æ¯è¡Œçš„é›†åˆ</p></blockquote><p>è¡¨ä¸­å…±æœ‰å¤šè¡Œæ•°æ®.</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200729122947.png" alt=""></p><p>å‡å¦‚:è·å¾—é€šè¿‡â€selectâ€è¯­å¥â€genderâ€è·å¾—ç¬¦åˆè¿™åˆ—çš„ç”·æ€§é‚£ä¹ˆå¾—åˆ°çš„æ˜¯ â€œå¼ ä¸‰,èµµå…­â€è¿™ä¸¤è¡Œæ•°æ®.ä¹Ÿå°±æ˜¯<strong>è¯´ â€œCursorâ€ç±»å‹å­˜æ”¾äº†ä¸¤è¡Œæ•°æ®ã€‚</strong></p><h4 id="å¦‚ä½•è·å¾—Cursorç±»å‹"><a href="#å¦‚ä½•è·å¾—Cursorç±»å‹" class="headerlink" title="å¦‚ä½•è·å¾—Cursorç±»å‹"></a>å¦‚ä½•è·å¾—Cursorç±»å‹</h4><p>é€šè¿‡æ•°æ®åº“å¯¹è±¡çš„æ–¹æ³•è·å¾—ã€‚ğŸ‘‡</p><pre><code>SQLiteDataBase db;Cursor cursor = db.query(å„ç§å‚æ•°);</code></pre><p>è¿™äº›å°±æ˜¯æ¯ä¸€è¡Œçš„é›†åˆ</p><h4 id="ç´¢å¼•åœ¨Cursorä¸­æ˜¯ä»€ä¹ˆ"><a href="#ç´¢å¼•åœ¨Cursorä¸­æ˜¯ä»€ä¹ˆ" class="headerlink" title="ç´¢å¼•åœ¨Cursorä¸­æ˜¯ä»€ä¹ˆ"></a>ç´¢å¼•åœ¨Cursorä¸­æ˜¯ä»€ä¹ˆ</h4><p>åœ¨Cursorä¸­ç´¢å¼•æŒ‡çš„å°±æ˜¯<strong>è¡¨ä¸­çš„åˆ—</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200731174701.png" alt=""></p><p>è¿”å›äº†â€PRICEâ€åˆ—åœ¨è¡¨ä¸­çš„ç´¢å¼•(ä½ç½®)ã€‚</p><h4 id="å…³äºä¸ºä½•è¦ä½¿ç”¨-â€œmoveToFirst-â€-æ–¹æ³•"><a href="#å…³äºä¸ºä½•è¦ä½¿ç”¨-â€œmoveToFirst-â€-æ–¹æ³•" class="headerlink" title="å…³äºä¸ºä½•è¦ä½¿ç”¨ â€œmoveToFirst()â€ æ–¹æ³•"></a>å…³äºä¸ºä½•è¦ä½¿ç”¨ â€œmoveToFirst()â€ æ–¹æ³•</h4><p>åˆ©ç”¨åè¯æ³•,<strong>ä¸ä½¿ç”¨â€moveToFirst()â€æ–¹æ³•,</strong>è·å¾—æ¸¸æ ‡å,ç›´æ¥è¾“å‡ºå½“å‰çš„â€positionâ€å€¼</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200729210143.png" alt=""></p><p><strong>â€œpositionâ€çš„å€¼ä¼šç›´æ¥è¾“å‡º â€œ-1â€</strong>,ä¹Ÿå°±æ˜¯è¯´å½“æˆ‘ä»¬ä¸é€‚ç”¨â€moveToFirst()â€æ–¹æ³•æ—¶å®ƒä¼šåœ¨åæ ‡â€positionâ€(0)çš„<strong>ä¸Šè¾¹</strong>ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ–¹æ³•â€moveToFirst()â€ä½¿â€positionâ€ä¸ºâ€0â€ã€‚</p><h4 id="æºç åˆ†æ-ä½¿ç”¨â€moveToNext-â€æ–¹æ³•æ˜¯å¦‚ä½•å¾—çŸ¥éå†å®Œæˆçš„"><a href="#æºç åˆ†æ-ä½¿ç”¨â€moveToNext-â€æ–¹æ³•æ˜¯å¦‚ä½•å¾—çŸ¥éå†å®Œæˆçš„" class="headerlink" title="æºç åˆ†æ ä½¿ç”¨â€moveToNext()â€æ–¹æ³•æ˜¯å¦‚ä½•å¾—çŸ¥éå†å®Œæˆçš„?"></a>æºç åˆ†æ ä½¿ç”¨â€moveToNext()â€æ–¹æ³•æ˜¯å¦‚ä½•å¾—çŸ¥éå†å®Œæˆçš„?</h4><p>å…ˆè¯´æ˜ <strong>è°ƒç”¨â€moveToNext()â€æ–¹æ³•æœ€æ€»ä¼šè°ƒç”¨â€moveToPosition()â€æ–¹æ³•</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200729212802.png" alt=""></p><p>ğŸ‘†ç•Œé¢åœ¨è¢«åˆå§‹åŒ–æ—¶,æŒ‡å½“å‰é¡µé¢çš„å¯¹è±¡ã€‚è¿™æ—¶æº<strong>ç ä¸­çš„â€mPos=-1â€ä¼šè¢«åœ¨ä¸€ä¸ªç©ºå‚æ•°æ„é€ æ–¹æ³•é‡Œåˆå§‹åŒ–</strong>ã€‚</p><p>ä»…ç†è§£çš„è¯: <strong>â€œmoveToFirst()â€è°ƒç”¨çš„æ˜¯â€moveToPostion(0)â€,â€moveToNext()â€ è°ƒç”¨çš„æ˜¯â€moveToNext(mPos+1)â€,æ‰€ä»¥è¯´å½“é¦–æ¬¡è°ƒç”¨çš„ä»–ä»¬ä¸¤ä¸ªçš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200729215028.png" alt=""></p><p>ps:ä¸ªäººç†è§£:åœ¨ä½¿ç”¨â€cursor.moveToFirst()â€å…ˆè¿›è¡Œåˆ¤æ–­å¯ä»¥æ›´æœ‰æ•ˆçš„é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸j</p><h2 id="æ›´æ–°æ•°æ®"><a href="#æ›´æ–°æ•°æ®" class="headerlink" title="æ›´æ–°æ•°æ®"></a>æ›´æ–°æ•°æ®</h2><p>éœ€è¦ä¿®æ”¹<strong>æ•°æ®åº“è¿”å›çš„ç±»å‹ä¸ºå¯å†™å…¥ç±»å‹</strong></p><pre><code class="kotlin">        // åˆ›å»ºæ•°æ®åº“        val sqlLiteDatabase: SQLiteDatabase = myHelper.writableDatabase</code></pre><p>éœ€è¦ â€œContentValues()â€ ç±»å‹å­˜æ”¾æ›´æ–°çš„å€¼</p><pre><code>        //æ›´æ–°æ•°æ®        val values: ContentValues = ContentValues()        values.put(&quot;PRICE&quot;, 280)        // å‚æ•°1:è¡¨ç¤ºæ›´æ–°çš„è¡¨.å‚æ•°2:è¡¨ç¤ºæ›´æ–°çš„æ•°æ®.å‚æ•°3:è¡¨ç¤ºæ¡ä»¶(è¡¨ç¤ºé€šè¿‡é‚£ä¸ªæ¡ä»¶æ›´æ–°å€¼) å‚æ•°4:æ¡ä»¶çš„å€¼        sqlLiteDatabase.update(&quot;PRODUCTS&quot;, values, &quot;_id = ?&quot;, arrayOf&lt;String&gt;(&quot;1&quot;))</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200731130854.png" alt=""></p><p>â€œ280â€ä»·æ ¼æ›´æ–°äº†</p><h4 id="å¤šæ¡ä»¶æ›´æ–°"><a href="#å¤šæ¡ä»¶æ›´æ–°" class="headerlink" title="å¤šæ¡ä»¶æ›´æ–°"></a>å¤šæ¡ä»¶æ›´æ–°</h4><p>æ›´æ–°è¡¨ â€œ<strong>PRODUCTS</strong>â€œ çš„å€¼ â€œ<strong>values</strong>â€œ,æ ¹æ® â€œ<strong>NAME</strong>â€œä¸ºâ€<strong>Tom Li</strong>â€œ å’Œâ€<strong>DESCRIPTION</strong>â€œ ä¸º â€œ<strong>Zhou Jam</strong>â€œ çš„è¡Œä¸­çš„æ•°æ®.</p><pre><code>sqlLiteDatabase.update(&quot;PRODUCTS&quot;, values, &quot;NAME = ? AND DESCRIPTION = ?&quot;, arrayOf&lt;String&gt;(&quot;Tom Li&quot;,&quot;Zhou Jam&quot;))</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200731132831.png" alt=""></p><h2 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h2><p>åœ¨è·å¾—æ•°æ®åº“çš„<strong>å¯å†™å…¥ç±»å‹åã€‚</strong> è°ƒç”¨ â€œdelete()â€æ–¹æ³•ã€‚</p><pre><code>        // æ ¹æ®æ¡ä»¶åˆ é™¤ä¸€è¡Œæ•°æ®        // å‚æ•°1:è¦åˆ é™¤çš„è¡¨åå­—,å‚æ•°2:é€‰æ‹©åˆ é™¤çš„æ¡ä»¶(æ ¹æ®è¿™ä¸ªæ¡ä»¶åˆ é™¤),å‚æ•°3:æ¡ä»¶çš„å€¼        sqlLiteDatabase.delete(&quot;PRODUCTS&quot;, &quot;_id=?&quot;, arrayOf&lt;String&gt;(&quot;1&quot;))</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200731131332.png" alt=""></p><p>åˆ é™¤æˆåŠŸäº†.</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> SQLite </tag>
            
            <tag> Cursor </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“ç´¢å¼•</title>
      <link href="/2020/07/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/"/>
      <url>/2020/07/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ•°æ®åº“ç´¢å¼•"><a href="#ä»€ä¹ˆæ˜¯æ•°æ®åº“ç´¢å¼•" class="headerlink" title="ä»€ä¹ˆæ˜¯æ•°æ®åº“ç´¢å¼•"></a>ä»€ä¹ˆæ˜¯æ•°æ®åº“ç´¢å¼•</h2><p>MySqlå®˜ç½‘çš„ä»‹ç»,ç´¢å¼•æ˜¯å¸®åŠ©<code>MySQL</code>é«˜æ•ˆè·å¾—æ•°æ®çš„ç»“æ„ã€‚ç±»ä¼¼äºä¹¦æœ¬çš„ç›®å½•,ä»è€Œæé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p><p><a href="https://segmentfault.com/a/1190000022341554" target="_blank" rel="noopener">åˆæ¢MySQLç´¢å¼•</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chocolateyçš„é…ç½®ä¸åº”ç”¨çš„å®‰è£…</title>
      <link href="/2020/07/26/choco%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%BA%94%E7%94%A8%E7%9A%84%E5%AE%89%E8%A3%85/"/>
      <url>/2020/07/26/choco%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%BA%94%E7%94%A8%E7%9A%84%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨-Chocolateyå®‰è£…7zip"><a href="#ä½¿ç”¨-Chocolateyå®‰è£…7zip" class="headerlink" title="ä½¿ç”¨ Chocolateyå®‰è£…7zip"></a>ä½¿ç”¨ Chocolateyå®‰è£…7zip</h2><p>å…¨ç¨‹ä½¿ç”¨ç§‘å­¦ä¸Šç½‘</p><pre><code>choco install 7zip</code></pre><h2 id="å¦‚ä½•å®‰è£…Chocolatey"><a href="#å¦‚ä½•å®‰è£…Chocolatey" class="headerlink" title="å¦‚ä½•å®‰è£…Chocolatey"></a>å¦‚ä½•å®‰è£…Chocolatey</h2><p><a href="https://chocolatey.org/install.ps1" target="_blank" rel="noopener">åœ¨æ¡Œé¢ä¸‹è½½</a></p><p>ä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€cmdè®¿é—®åˆ°ä¸‹è½½çš„ç›®å½•ä¸­</p><p>è¾“å…¥ğŸ‘‡.å®‰è£…çš„åŒæ—¶è¦ä½¿ç”¨ç§‘å­¦ä¸Šç½‘</p><pre><code>@powershell -NoProfile -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString(&#39;install.ps1&#39;))&quot; &amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;</code></pre><p>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><p>choco</p><p><img src="1595823753408.png" alt=""></p><h2 id="ä»€ä¹ˆæ˜¯Chocolatey"><a href="#ä»€ä¹ˆæ˜¯Chocolatey" class="headerlink" title="ä»€ä¹ˆæ˜¯Chocolatey"></a>ä»€ä¹ˆæ˜¯Chocolatey</h2><p>Chocolateyæ˜¯ä¸€ä¸ªWindowsä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œä½ å¯ä»¥åƒåœ¨ç±»Unixç³»ç»Ÿä¸­ä½¿ç”¨Yumå’ŒAPTä¸€æ ·ä½¿ç”¨å®ƒï¼Œåœ¨Windowsä¸­å®ç°è‡ªåŠ¨åŒ–è½»æ¾ç®¡ç†Windowsè½¯ä»¶çš„æ‰€æœ‰æ–¹é¢ã€‚</p><p> <a href="https://zh.wikipedia.org/zh-cn/Chocolatey" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a></p><h2 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h2>]]></content>
      
      
      <categories>
          
          <category> Chocolatey </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Chocolatey </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kotlin in Action-Kotlinå®æˆ˜</title>
      <link href="/2020/07/26/kotlin-in-Action-Kotlin%E5%AE%9E%E6%88%98/"/>
      <url>/2020/07/26/kotlin-in-Action-Kotlin%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h1 id="2-Kotlin-åŸºç¡€"><a href="#2-Kotlin-åŸºç¡€" class="headerlink" title="2 Kotlin åŸºç¡€"></a>2 Kotlin åŸºç¡€</h1><h3 id="2-1-åŸºæœ¬è¦ç´ -å‡½æ•°å˜é‡"><a href="#2-1-åŸºæœ¬è¦ç´ -å‡½æ•°å˜é‡" class="headerlink" title="2.1 åŸºæœ¬è¦ç´ : å‡½æ•°å˜é‡"></a>2.1 åŸºæœ¬è¦ç´ : å‡½æ•°å˜é‡</h3><h4 id="2-1-3-å˜é‡"><a href="#2-1-3-å˜é‡" class="headerlink" title="2.1.3 å˜é‡"></a>2.1.3 å˜é‡</h4><p><strong>å¯å˜å˜é‡å’Œä¸å¯å˜å˜é‡</strong></p><ul><li>valâ€“ä¸å¯å˜å¼•ç”¨ã€‚ä½¿ç”¨valå£°æ˜çš„å˜é‡ä¸èƒ½åœ¨åˆå§‹åŒ–ä¹‹åå†æ¬¡èµ‹å€¼ã€‚å®ƒå¯¹åº”çš„æ˜¯javaä¸­çš„finalå˜é‡</li><li>varâ€“å¯å˜å¼•ç”¨ã€‚è¿™ç§å˜é‡çš„å€¼å¯ä»¥è¢«æ”¹å˜ã€‚è¿™ç§å£°æ˜å¯¹åº”çš„æ˜¯æ™®é€š(éfinal)å˜é‡</li></ul><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595899792330.png" alt=""></p><p>ğŸ‘†åœ¨å®šä¹‰äº†valå˜é‡çš„ä»£ç å—æœŸé—´,<strong>valå˜é‡åªèƒ½è¿›è¡Œå”¯ä¸€ä¸€æ¬¡åˆå§‹åŒ–</strong>ã€‚ä½†æ˜¯,å¦‚æœç¼–è¯‘å™¨èƒ½ç¡®ä¿åªæœ‰å”¯ä¸€ä¸€æ¬¡åˆå§‹åŒ–è¯­å¥ä¼šè¢«æ‰§è¡Œ,å¯ä»¥æ ¹æ®æ¡ä»¶ä½¿ç”¨ä¸åŒçš„å€¼æ¥åˆå§‹åŒ–å®ƒã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595899976491.png" alt=""></p><p>è‡ªèº«ä¸å¯å˜(åªå¯ä»¥æ‰§è¡Œä¸€æ¬¡,åˆå§‹åŒ–ä¸€æ¬¡)</p><p>æ³¨æ„,å°½ç®¡valå¼•ç”¨è‡ªèº«æ˜¯ä¸å¯å˜çš„,ä½†æ˜¯å®ƒæŒ‡å‘çš„å¯¹è±¡<strong>`å¯èƒ½</strong>`æ˜¯å¯å˜çš„ã€‚åˆ—å¦‚</p><pre><code>val languages = arrayListOf(&quot;Java&quot;)lenguages.add(&quot;Kotlin&quot;)</code></pre><h3 id="2-3-è¡¨ç¤ºå’Œå¤„ç†é€‰æ‹©ï¼šæšä¸¾å’Œâ€œwhenâ€"><a href="#2-3-è¡¨ç¤ºå’Œå¤„ç†é€‰æ‹©ï¼šæšä¸¾å’Œâ€œwhenâ€" class="headerlink" title="2.3 è¡¨ç¤ºå’Œå¤„ç†é€‰æ‹©ï¼šæšä¸¾å’Œâ€œwhenâ€"></a>2.3 è¡¨ç¤ºå’Œå¤„ç†é€‰æ‹©ï¼šæšä¸¾å’Œâ€œwhenâ€</h3><h4 id="2-3-5-æ™ºèƒ½è½¬æ¢ï¼šåˆå¹¶ç±»å‹æ£€æŸ¥å’Œè½¬æ¢"><a href="#2-3-5-æ™ºèƒ½è½¬æ¢ï¼šåˆå¹¶ç±»å‹æ£€æŸ¥å’Œè½¬æ¢" class="headerlink" title="2.3.5 æ™ºèƒ½è½¬æ¢ï¼šåˆå¹¶ç±»å‹æ£€æŸ¥å’Œè½¬æ¢"></a>2.3.5 æ™ºèƒ½è½¬æ¢ï¼šåˆå¹¶ç±»å‹æ£€æŸ¥å’Œè½¬æ¢</h4><h5 id="kotlinæ™ºèƒ½è½¬æ¢çš„æ¡ˆä¾‹"><a href="#kotlinæ™ºèƒ½è½¬æ¢çš„æ¡ˆä¾‹" class="headerlink" title="kotlinæ™ºèƒ½è½¬æ¢çš„æ¡ˆä¾‹"></a>kotlinæ™ºèƒ½è½¬æ¢çš„æ¡ˆä¾‹</h5><h6 id="è¡¨è¾¾å¼ç±»å‹å±‚æ¬¡"><a href="#è¡¨è¾¾å¼ç±»å‹å±‚æ¬¡" class="headerlink" title="è¡¨è¾¾å¼ç±»å‹å±‚æ¬¡"></a>è¡¨è¾¾å¼ç±»å‹å±‚æ¬¡</h6><pre><code class="kotlin">interface Exprclass Num(val value: Int) : Expr    // ç®€å•çš„å€¼å¯¹è±¡ç±»ï¼Œåªæœ‰ä¸€ä¸ªå±æ€§valueï¼Œå®ç°äº†Expræ¥å£class Sum(val left: Expr, val right: Expr) : Expr   // Sumè¿ç®—çš„å®å‚å¯ä»¥æ˜¯ä»»ä½•Expr:Num æˆ–è€… Sum</code></pre><h6 id="å¯¹è¡¨è¾¾å¼æ±‚å€¼"><a href="#å¯¹è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="å¯¹è¡¨è¾¾å¼æ±‚å€¼"></a>å¯¹è¡¨è¾¾å¼æ±‚å€¼</h6><pre><code class="kotlin">fun eval(e: Expr): Int {    if (e is Num) {//        val n = e.value as Num //æ˜¾ç¤ºçš„è½¬æ¢ä¸ºNumç±»å‹å¤šä½™çš„        return e.value    }    if (e is Sum) {        return eval(e.left) + eval(e.right) // å˜é‡ e è¢«æ™ºèƒ½çš„è½¬æ¢äº†ç±»å‹    }    throw IllegalArgumentException(&quot;test&quot;)}</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200831171911.png" alt=""></p><p>ç»“æœ</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200831171248.png" alt=""></p><h5 id="â€œisâ€-ä¿®é¥°ç¬¦"><a href="#â€œisâ€-ä¿®é¥°ç¬¦" class="headerlink" title="â€œisâ€ ä¿®é¥°ç¬¦"></a>â€œisâ€ ä¿®é¥°ç¬¦</h5><p>åœ¨ kotlin ä¸­ï¼Œä½ è¦ä½¿ç”¨ is æ£€æŸ¥æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹ã€‚</p><h5 id="ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ™ºèƒ½è½¬æ¢ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ™ºèƒ½è½¬æ¢ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ™ºèƒ½è½¬æ¢ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ™ºèƒ½è½¬æ¢ï¼Ÿ</h5><p>å¦‚æœä½ æ£€æŸ¥è¿‡ä¸€ä¸ªå˜é‡æ˜¯æŸç§ç±»å‹ï¼Œåé¢å°±ä¸å†éœ€è¦è½¬æ¢å®ƒäº†ï¼Œå¯ä»¥å°±æŠŠå®ƒå½“ä½œä½ æ£€æŸ¥è¿‡çš„ç±»å‹ä½¿ç”¨ã€‚äº‹å®ä¸Šç¼–è¯‘å™¨ä¸ºä½ æ‰§è¡Œäº†ç±»å‹è½¬æ¢ï¼Œæˆ‘ä»¬æŠŠè¿™ç§è¡Œä¸ºç§°ä¸º <strong>æ™ºèƒ½è½¬æ¢ã€‚</strong></p><h1 id="3-å‡½æ•°çš„è®¢é˜…å’Œè°ƒç”¨"><a href="#3-å‡½æ•°çš„è®¢é˜…å’Œè°ƒç”¨" class="headerlink" title="3 å‡½æ•°çš„è®¢é˜…å’Œè°ƒç”¨"></a>3 å‡½æ•°çš„è®¢é˜…å’Œè°ƒç”¨</h1><h2 id="3-3-ç»™åˆ«äººçš„ç±»æ·»åŠ æ–¹æ³•ï¼šæ‰©å±•å‡½æ•°å’Œå±æ€§"><a href="#3-3-ç»™åˆ«äººçš„ç±»æ·»åŠ æ–¹æ³•ï¼šæ‰©å±•å‡½æ•°å’Œå±æ€§" class="headerlink" title="3.3 ç»™åˆ«äººçš„ç±»æ·»åŠ æ–¹æ³•ï¼šæ‰©å±•å‡½æ•°å’Œå±æ€§"></a>3.3 ç»™åˆ«äººçš„ç±»æ·»åŠ æ–¹æ³•ï¼šæ‰©å±•å‡½æ•°å’Œå±æ€§</h2><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5><blockquote><p>æ‰©å±•å‡½æ•°éå¸¸ç®€å•ï¼Œä½œä¸ºä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼Œä¸è¿‡å®ƒå®šä¹‰åœ¨ç±»çš„å¤–è¾¹ã€‚</p></blockquote><h1 id="4-ç±»ã€å¯¹è±¡å’Œæ¥å£"><a href="#4-ç±»ã€å¯¹è±¡å’Œæ¥å£" class="headerlink" title="4 ç±»ã€å¯¹è±¡å’Œæ¥å£"></a>4 ç±»ã€å¯¹è±¡å’Œæ¥å£</h1><h3 id="4-1-å®šä¹‰ç±»ç»§æ‰¿ç»“æ„"><a href="#4-1-å®šä¹‰ç±»ç»§æ‰¿ç»“æ„" class="headerlink" title="4.1 å®šä¹‰ç±»ç»§æ‰¿ç»“æ„"></a>4.1 å®šä¹‰ç±»ç»§æ‰¿ç»“æ„</h3><h4 id="4-1-1-Kotlin-ä¸­çš„æ¥å£"><a href="#4-1-1-Kotlin-ä¸­çš„æ¥å£" class="headerlink" title="4.1.1 Kotlin ä¸­çš„æ¥å£"></a>4.1.1 Kotlin ä¸­çš„æ¥å£</h4><h5 id="å£°æ˜æ¥å£"><a href="#å£°æ˜æ¥å£" class="headerlink" title="å£°æ˜æ¥å£"></a>å£°æ˜æ¥å£</h5><pre><code class="kotlin">interface Clickable{    fun click()}</code></pre><h5 id="å®ç°æ¥å£"><a href="#å®ç°æ¥å£" class="headerlink" title="å®ç°æ¥å£"></a>å®ç°æ¥å£</h5><pre><code>class Button : Clickble {    override fun click() {        println(&quot;I was clicked&quot;)    }}</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200826205307.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200826205356.png" alt=""></p><h5 id="Kotlinå®ç°æ¥å£ä¸-Java-æœ‰é‚£äº›ä¸åŒ"><a href="#Kotlinå®ç°æ¥å£ä¸-Java-æœ‰é‚£äº›ä¸åŒ" class="headerlink" title="Kotlinå®ç°æ¥å£ä¸ Java æœ‰é‚£äº›ä¸åŒ"></a>Kotlinå®ç°æ¥å£ä¸ Java æœ‰é‚£äº›ä¸åŒ</h5><p>Kotlin åœ¨ç±»åé¢ä½¿ç”¨å†’å·æ¥ä»£æ›¿ <strong>Java</strong> ä¸­çš„ extends å’Œ implements å…³é”®è¯ã€‚ å’Œ Java ä¸€æ ·ï¼Œ<strong>ä¸€ä¸ªç±»å¯ä»¥å®ç°ä»»æ„å¤šä¸ªæ¥å£</strong>ï¼Œä½†<strong>åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»å‹</strong>ã€‚</p><h5 id="override-ä¿®é¥°ç¬¦çš„ä½œç”¨"><a href="#override-ä¿®é¥°ç¬¦çš„ä½œç”¨" class="headerlink" title="override ä¿®é¥°ç¬¦çš„ä½œç”¨"></a>override ä¿®é¥°ç¬¦çš„ä½œç”¨</h5><ul><li>ç›¸åŒ</li></ul><p>ä¸ Java ä¸­çš„ @Override æ³¨è§£ç±»ä¼¼ï¼Œ<strong>override ä¿®é¥°ç¬¦ç”¨æ¥æ ‡æ³¨è¢«é‡å†™çš„çˆ¶ç±»æˆ–è€…æ¥å£çš„æ–¹æ³•å’Œå±æ€§</strong>ã€‚</p><ul><li>ä¸åŒ</li></ul><p>åœ¨ Kotlin ä¸­ä½¿ç”¨ override ä¿®é¥°ç¬¦æ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚<strong>è¿™ä¼šé¿å…å…ˆå†™å‡ºå®ç°æ–¹æ³•å†æ·»åŠ æŠ½è±¡æ–¹æ³•é€ æˆçš„æ„å¤–é‡å†™ï¼š</strong>ä½ çš„ä»£ç å°†ä¸èƒ½ç¼–è¯‘ï¼Œé™¤éä½ æ˜¾å¼åœ°å°†è¿™ä¸ªæ–¹æ³•æ ‡æ³¨ä¸º Override æˆ–è€…é‡å‘½åå®ƒã€‚</p><h5 id="å¦‚ä½•ç»™æ¥å£æ·»åŠ ä¸€ä¸ªé»˜è®¤å®ç°çš„æ–¹æ³•"><a href="#å¦‚ä½•ç»™æ¥å£æ·»åŠ ä¸€ä¸ªé»˜è®¤å®ç°çš„æ–¹æ³•" class="headerlink" title="å¦‚ä½•ç»™æ¥å£æ·»åŠ ä¸€ä¸ªé»˜è®¤å®ç°çš„æ–¹æ³•"></a>å¦‚ä½•ç»™æ¥å£æ·»åŠ ä¸€ä¸ªé»˜è®¤å®ç°çš„æ–¹æ³•</h5><p>æ¥å£çš„æ–¹æ³•å¯ä»¥æœ‰ä¸€ä¸ªé»˜è®¤å®ç°çš„æ–¹æ³•ã€‚</p><pre><code class="kotlin">interface Clickable{    fun click() // æ™®é€šçš„æ–¹æ³•å£°æ˜    fun showOff() = println(&quot;I&#39;m clickable!&quot;) // å¸¦é»˜è®¤å®ç°çš„æ–¹æ³•}</code></pre><h5 id="å®ç°ä¸€ä¸ªå¸¦æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•çš„æ¥å£è¦æ³¨æ„ä»€ä¹ˆ"><a href="#å®ç°ä¸€ä¸ªå¸¦æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•çš„æ¥å£è¦æ³¨æ„ä»€ä¹ˆ" class="headerlink" title="å®ç°ä¸€ä¸ªå¸¦æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•çš„æ¥å£è¦æ³¨æ„ä»€ä¹ˆ"></a>å®ç°ä¸€ä¸ªå¸¦æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•çš„æ¥å£è¦æ³¨æ„ä»€ä¹ˆ</h5><p>å¦‚æœä½ å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œä½ éœ€è¦ä¸º click æä¾›ä¸€ä¸ªå®ç°ã€‚å¯ä»¥é‡æ–°å®šä¹‰ showOff() æ–¹æ³•çš„è¡Œä¸ºï¼Œæˆ–è€…å¦‚æœä½ å¯¹é»˜è®¤è¡Œä¸ºæ„Ÿåˆ°æ»¡æ„ä¹Ÿå¯ä»¥ç›´æ¥çœç•¥å®ƒã€‚ï¼ˆé»˜è®¤å®ç°çš„æ–¹æ³•ä¹Ÿå¯ä»¥è¢«é‡å†™ï¼‰</p><h5 id="å®šä¹‰å®ç°äº†åŒæ ·æ–¹æ³•çš„æ¥å£"><a href="#å®šä¹‰å®ç°äº†åŒæ ·æ–¹æ³•çš„æ¥å£" class="headerlink" title="å®šä¹‰å®ç°äº†åŒæ ·æ–¹æ³•çš„æ¥å£"></a>å®šä¹‰å®ç°äº†åŒæ ·æ–¹æ³•çš„æ¥å£</h5><pre><code class="kotlin">interface Focusable {    fun setFocus(b: Boolean) = println(&quot;I ${if (b) &quot;got&quot; else &quot;lost&quot;} focus.&quot;)    fun showOff() = println(&quot;I&#39;m focusable!&quot;)}</code></pre><h5 id="åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæœ‰ç›¸åŒé»˜è®¤å®ç°æ–¹æ³•çš„æ¥å£ä¼šå‘ç”Ÿä»€ä¹ˆ"><a href="#åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæœ‰ç›¸åŒé»˜è®¤å®ç°æ–¹æ³•çš„æ¥å£ä¼šå‘ç”Ÿä»€ä¹ˆ" class="headerlink" title="åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæœ‰ç›¸åŒé»˜è®¤å®ç°æ–¹æ³•çš„æ¥å£ä¼šå‘ç”Ÿä»€ä¹ˆ"></a>åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæœ‰ç›¸åŒé»˜è®¤å®ç°æ–¹æ³•çš„æ¥å£ä¼šå‘ç”Ÿä»€ä¹ˆ</h5><p>åœ¨è¿™ä¸¤ä¸ªæ¥å£ä¸­éƒ½å¸¦æœ‰é»˜è®¤å®ç°çš„ showOff() æ–¹æ³•ï¼šåœ¨æ²¡æœ‰æ˜¾ç¤ºçš„å®ç° showOff() ,ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯ä¿¡æ¯ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200827000446.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200827000526.png" alt=""></p><h6 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h6><p>å¿…é¡»æ˜¾å¼çš„å®ç°ç›¸åŒæ–¹æ³•ã€‚</p><h5 id="è°ƒç”¨ç»§æ‰¿-æ¥å£-çš„é»˜è®¤å®ç°æ–¹æ³•"><a href="#è°ƒç”¨ç»§æ‰¿-æ¥å£-çš„é»˜è®¤å®ç°æ–¹æ³•" class="headerlink" title="è°ƒç”¨ç»§æ‰¿(æ¥å£)çš„é»˜è®¤å®ç°æ–¹æ³•"></a>è°ƒç”¨ç»§æ‰¿(æ¥å£)çš„é»˜è®¤å®ç°æ–¹æ³•</h5><pre><code class="kotlin">class Button : Clickable, Focusable {    override fun click() {        TODO(&quot;Not yet implemented&quot;)    }    //å¦‚æœåŒæ ·çš„ç»§æ‰¿æˆå‘˜ä¸æ­¢ä¸€ä¸ªå®ç°ï¼Œå¿…é¡»æä¾›ä¸€ä¸ªæ˜¾ç¤ºçš„å®ç°ã€‚    override fun showOff() {        // ä½¿ç”¨å°–æ‹¬å·åŠ ä¸Šçˆ¶ç±»åå­—çš„â€œsuperâ€è¡¨æ˜äº†ä½ æƒ³è¦è°ƒç”¨å“ªä¸€ä¸ªçˆ¶ç±»çš„æ–¹æ³•        super&lt;Clickable&gt;.showOff()        super&lt;Focusable&gt;.showOff()    }}</code></pre><p>é€šè¿‡è°ƒç”¨ç»§æ‰¿çš„ä¸¤ä¸ªçˆ¶ç±»å‹ä¸­çš„å®ç°æ¥å®ç° showOff() ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200827005257.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200827005432.png" alt=""></p><h4 id="4-1-2-openã€final-å’Œ-abstract-ä¿®é¥°ç¬¦ï¼šé»˜è®¤ä¸º-final"><a href="#4-1-2-openã€final-å’Œ-abstract-ä¿®é¥°ç¬¦ï¼šé»˜è®¤ä¸º-final" class="headerlink" title="4.1.2 openã€final å’Œ abstract ä¿®é¥°ç¬¦ï¼šé»˜è®¤ä¸º final"></a>4.1.2 openã€final å’Œ abstract ä¿®é¥°ç¬¦ï¼šé»˜è®¤ä¸º final</h4><h5 id="kotlin-ä¸­å¦‚ä½•ç»§æ‰¿ä¸€ä¸ªç±»"><a href="#kotlin-ä¸­å¦‚ä½•ç»§æ‰¿ä¸€ä¸ªç±»" class="headerlink" title="kotlin ä¸­å¦‚ä½•ç»§æ‰¿ä¸€ä¸ªç±»"></a>kotlin ä¸­å¦‚ä½•ç»§æ‰¿ä¸€ä¸ªç±»</h5><p>å¦‚æœä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªç±»çš„å­ç±»ï¼Œéœ€è¦ä½¿ç”¨ open ä¿®é¥°ç¬¦æ¥æ ‡ç¤ºè¿™ä¸ªç±»ã€‚æ­¤å¤–<strong>éœ€è¦ç»™æ¯ä¸ªå¯ä»¥è¢«é‡å†™çš„å±æ€§æˆ–è€…æ–¹æ³•æ·»åŠ  open å±æ€§</strong>ã€‚</p><h5 id="å£°æ˜ä¸€ä¸ªå¸¦open-æ–¹æ³•çš„-open-ç±»"><a href="#å£°æ˜ä¸€ä¸ªå¸¦open-æ–¹æ³•çš„-open-ç±»" class="headerlink" title="å£°æ˜ä¸€ä¸ªå¸¦open æ–¹æ³•çš„ open ç±»"></a>å£°æ˜ä¸€ä¸ªå¸¦open æ–¹æ³•çš„ open ç±»</h5><pre><code class="kotlin">open class RichButton : Clickable {    fun disable() {}    // è¿™ä¸ªå‡½æ•°æ˜¯ final çš„ï¼š ä¸èƒ½åœ¨å­ç±»ä¸­é‡å†™å®ƒã€‚    open fun animate() {} // è¿™ä¸ªå‡½æ•°æ˜¯ open çš„ï¼š å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å®ƒ    // è¿™ä¸ªå‡½æ•°é‡å†™äº† open å‡½æ•°å¹¶ä¸”å®ƒæœ¬èº«åŒæ ·æ˜¯ open çš„    override fun click() {        TODO(&quot;Not yet implemented&quot;)    }}</code></pre><h5 id="é»˜è®¤-final-çš„å¥½å¤„"><a href="#é»˜è®¤-final-çš„å¥½å¤„" class="headerlink" title="é»˜è®¤ final çš„å¥½å¤„"></a>é»˜è®¤ final çš„å¥½å¤„</h5><p>ç±»é»˜è®¤ final å¸¦æ¥äº†ä¸€ä¸ªé‡è¦çš„å¥½å¤„å°±æ˜¯è¿™ä½¿å¾—åœ¨å¤§é‡çš„åœºæ™¯ä¸­çš„åªèƒ½è½¬æ¢æˆä¸ºå¯èƒ½ã€‚</p><h5 id="æ™ºèƒ½è½¬æ¢çš„å‰æ"><a href="#æ™ºèƒ½è½¬æ¢çš„å‰æ" class="headerlink" title="æ™ºèƒ½è½¬æ¢çš„å‰æ"></a>æ™ºèƒ½è½¬æ¢çš„å‰æ</h5><p><strong>æ™ºèƒ½è½¬æ¢åªèƒ½åœ¨è¿›è¡Œç±»å‹æ£€æŸ¥åæ²¡æœ‰æ”¹å˜è¿‡çš„å˜é‡ä¸Šèµ·çš„ä½œç”¨ã€‚</strong>å¯¹äºä¸€ä¸ªç±»æ¥è¯´ï¼Œè¿™æ„å‘³ç€<strong>æ™ºèƒ½è½¬æ¢åœ¨valç±»å‹å¹¶ä¸”æ²¡æœ‰è‡ªå®šä¹‰è®¿é—®å™¨çš„ç±»å±æ€§ä¸Šä½¿ç”¨</strong>ã€‚ è¿™ä¸ªå‰ææ„å‘³ç€å±æ€§å¿…é¡»æ˜¯ final çš„ï¼Œå¦åˆ™å¦‚æœä¸€ä¸ªå­ç±»å¯ä»¥é‡å†™å±æ€§å¹¶ä¸”å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰çš„è®¿é—®å™¨å°†ä¼šæ‰“ç ´æ™ºèƒ½è½¬æ¢çš„å…³é”®å‰æã€‚</p><h5 id="æŠ½è±¡ç±»çš„é»˜è®¤ä¿®é¥°ç¬¦"><a href="#æŠ½è±¡ç±»çš„é»˜è®¤ä¿®é¥°ç¬¦" class="headerlink" title="æŠ½è±¡ç±»çš„é»˜è®¤ä¿®é¥°ç¬¦"></a>æŠ½è±¡ç±»çš„é»˜è®¤ä¿®é¥°ç¬¦</h5><p>æŠ½è±¡æˆå‘˜å§‹ç»ˆæ˜¯opençš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ˜¾å¼åœ°ä½¿ç”¨openä¿®é¥°ç¬¦ã€‚</p><h5 id="å£°æ˜ä¸€ä¸ªæŠ½è±¡ç±»"><a href="#å£°æ˜ä¸€ä¸ªæŠ½è±¡ç±»" class="headerlink" title="å£°æ˜ä¸€ä¸ªæŠ½è±¡ç±»"></a>å£°æ˜ä¸€ä¸ªæŠ½è±¡ç±»</h5><pre><code class="kotlin">abstract class Animated {    abstract fun animate()  // è¿™ä¸ªå‡½æ•°æ˜¯æŠ½è±¡çš„ï¼šå®ƒæ²¡æœ‰å®ç°å¿…é¡»è¢«å­ç±»é‡å†™    // æŠ½è±¡ç±»ä¸­çš„éæŠ½è±¡å‡½æ•° å¹¶ä¸æ˜¯é»˜è®¤ open çš„ï¼Œä½†æ˜¯å¯ä»¥æ ‡æ³¨ä¸º opençš„    open fun stopAnimating() {    }    fun animateTwice() {}}</code></pre><h4 id="4-1-4-å†…éƒ¨ç±»å’ŒåµŒå¥—ç±»ï¼šé»˜è®¤åµŒå¥—ç±»"><a href="#4-1-4-å†…éƒ¨ç±»å’ŒåµŒå¥—ç±»ï¼šé»˜è®¤åµŒå¥—ç±»" class="headerlink" title="4.1.4 å†…éƒ¨ç±»å’ŒåµŒå¥—ç±»ï¼šé»˜è®¤åµŒå¥—ç±»"></a>4.1.4 å†…éƒ¨ç±»å’ŒåµŒå¥—ç±»ï¼šé»˜è®¤åµŒå¥—ç±»</h4><p>å†…éƒ¨ç±»ï¼šéé™æ€åµŒå¥—ç±»ï¼Œä¹Ÿè¢«æˆä¸ºå†…éƒ¨ç±»ã€‚</p><p>åµŒå¥—ç±»ï¼šé™æ€åµŒå¥—ç±»ï¼ŒåµŒå¥—ç±»å¤šç§°ä¸ºï¼šé™æ€åµŒå¥—ç±»ã€‚</p><h5 id="Kotlinä¸­åµŒå¥—ç±»å’ŒJavaä¸­çš„ä¸åŒ"><a href="#Kotlinä¸­åµŒå¥—ç±»å’ŒJavaä¸­çš„ä¸åŒ" class="headerlink" title="Kotlinä¸­åµŒå¥—ç±»å’ŒJavaä¸­çš„ä¸åŒ"></a>Kotlinä¸­åµŒå¥—ç±»å’ŒJavaä¸­çš„ä¸åŒ</h5><p>åœ¨Kotlinä¸­çš„åµŒå¥—ç±»ä¸èƒ½è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹ï¼Œé™¤éä½ ç‰¹åˆ«çš„åšå‡ºè¦æ±‚ã€‚ </p><h5 id="åœ¨åºåˆ—åŒ–æ—¶ä½¿ç”¨å†…éƒ¨ç±»"><a href="#åœ¨åºåˆ—åŒ–æ—¶ä½¿ç”¨å†…éƒ¨ç±»" class="headerlink" title="åœ¨åºåˆ—åŒ–æ—¶ä½¿ç”¨å†…éƒ¨ç±»"></a>åœ¨åºåˆ—åŒ–æ—¶ä½¿ç”¨å†…éƒ¨ç±»</h5><p>åœ¨ä½ å®šä¹‰ä¸€ä¸ª View å…ƒç´ ï¼Œå®ƒçš„çŠ¶æ€æ—¶å¯åºåˆ—åŒ–çš„ã€‚<strong>æƒ³è¦åºåˆ—åŒ–ä¸€ä¸ªè§†å›¾å¯èƒ½å¹¶ä¸å®¹æ˜“ï¼Œä½†æ˜¯å¯ä»¥æŠŠæ‰€æœ‰éœ€è¦çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¾…åŠ©ç±»ä¸­å»ã€‚</strong></p><pre><code class="kotlin">interface State : Serializableinterface View {    fun getCurrentState(): State    fun restoreState(state: State) {}}</code></pre><p>å£°æ˜Stateæ¥å£å»å®ç°Serializableã€‚Viewæ¥å£å£°æ˜äº†å¯ä»¥ç”¨æ¥ä¿å­˜è§†å›¾çŠ¶æ€çš„getCurrentStateå’ŒrestoreStateæ–¹æ³•ã€‚</p><h5 id="ç”¨å†…éƒ¨ç±»çš„javaä»£ç æ¥å®ç°View"><a href="#ç”¨å†…éƒ¨ç±»çš„javaä»£ç æ¥å®ç°View" class="headerlink" title="ç”¨å†…éƒ¨ç±»çš„javaä»£ç æ¥å®ç°View"></a>ç”¨å†…éƒ¨ç±»çš„javaä»£ç æ¥å®ç°View</h5><pre><code class="java">public class Button implements View{    @Override    public State getCurrentState(){        return new ButtonState();    }    @Override    public voiew restoreState(State state){        /**/    }    public class ButtonState implements State{        /**/    }}</code></pre><p>é—®é¢˜ï¼šåœ¨è¿è¡Œæ—¶ä½ ä¼šå¾—åˆ° java.io.NotSerializable.Exception:Button å¼‚å¸¸ï¼Œåœ¨ä½ åºåˆ—åŒ–å£°æ˜çš„æŒ‰é’®çŠ¶æ€æ—¶ã€‚è¿™ä¸ªå¯èƒ½çœ‹èµ·æ¥ä¼šå¾ˆå¥‡æ€ªï¼šä½ åºåˆ—åŒ–çš„å˜é‡æ˜¯ButtonStateç±»å‹ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰Buttonå¼‚å¸¸å‘¢ï¼Ÿ</p><h5 id="æ— æ³•åºåˆ—åŒ–çš„åŸå› "><a href="#æ— æ³•åºåˆ—åŒ–çš„åŸå› " class="headerlink" title="æ— æ³•åºåˆ—åŒ–çš„åŸå› "></a>æ— æ³•åºåˆ—åŒ–çš„åŸå› </h5><p>åœ¨javaä¸­ï¼Œå½“ä½ åœ¨å¦ä¸€ä¸ªç±»ä¸­å£°æ˜ä¸€ä¸ªç±»æ—¶ï¼Œå®ƒä¼šé»˜è®¤å˜æˆå†…éƒ¨ç±»ã€‚æ¡ˆä¾‹ä¸­ï¼šButtonStateç±»éšç¤ºçš„å­˜å‚¨äº†å®ƒçš„å¤–éƒ¨Buttonç±»çš„åº”ç”¨ã€‚ä»è€Œè§£é‡Šäº†ä¸ºä»€ä¹ˆButtonStateä¸èƒ½è¢«åºåˆ—åŒ–ã€‚</p><h5 id="ä¿®å¤æ— æ³•åºåˆ—åŒ–"><a href="#ä¿®å¤æ— æ³•åºåˆ—åŒ–" class="headerlink" title="ä¿®å¤æ— æ³•åºåˆ—åŒ–"></a>ä¿®å¤æ— æ³•åºåˆ—åŒ–</h5><p><strong>éœ€è¦å£°æ˜ButtonStateç±»æ˜¯staticçš„</strong>ã€‚å°†åµŒå¥—ç±»å£°æ˜ä¸ºstaticä¼šå†²è¿™ä¸ªç±»ä¸­åˆ é™¤åŒ…å›´å®ƒçš„ç±»çš„éšå¼å¼•ç”¨ã€‚</p><h5 id="åœ¨kotlinä¸­ä½¿ç”¨åµŒå¥—ç±»æ¥å®ç°-View"><a href="#åœ¨kotlinä¸­ä½¿ç”¨åµŒå¥—ç±»æ¥å®ç°-View" class="headerlink" title="åœ¨kotlinä¸­ä½¿ç”¨åµŒå¥—ç±»æ¥å®ç° View"></a>åœ¨kotlinä¸­ä½¿ç”¨åµŒå¥—ç±»æ¥å®ç° View</h5><pre><code class="kotlin">class Button : View {    override fun getCurrentState(): State {        TODO(&quot;Not yet implemented&quot;)    }    override fun restoreState(state: State) {        TODO(&quot;Not yet implemented&quot;)    }    // è¿™ä¸ªç±»ä¸Javaä¸­çš„é™æ€æ½œé€ƒç±»ç±»ä¼¼    class ButtonState : State {    }}</code></pre><p><strong>kotlinä¸­é»˜è®¤è¡Œä¸ºæ˜¯åµŒå¥—ç±»ã€‚</strong></p><h5 id="å¦‚ä½•è®©é»˜è®¤åµŒå¥—ç±»çš„ç±»å‹å˜ä¸ºå†…éƒ¨ç±»ï¼"><a href="#å¦‚ä½•è®©é»˜è®¤åµŒå¥—ç±»çš„ç±»å‹å˜ä¸ºå†…éƒ¨ç±»ï¼" class="headerlink" title="å¦‚ä½•è®©é»˜è®¤åµŒå¥—ç±»çš„ç±»å‹å˜ä¸ºå†…éƒ¨ç±»ï¼"></a>å¦‚ä½•è®©é»˜è®¤åµŒå¥—ç±»çš„ç±»å‹å˜ä¸ºå†…éƒ¨ç±»ï¼</h5><p>è¦æŠŠå®ƒï¼ˆåµŒå¥—ç±»ï¼‰å˜æˆä¸ºä¸€ä¸ªå†…éƒ¨ç±»æ¥æŒæœ‰ä¸€ä¸ªå¤–éƒ¨ç±»çš„å¼•ç”¨çš„è¯éœ€è¦ä½¿ç”¨ <strong>inner</strong> ä¿®é¥°ç¬¦ã€‚</p><h5 id="kotlinä¸­å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»"><a href="#kotlinä¸­å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»" class="headerlink" title="kotlinä¸­å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»"></a>kotlinä¸­å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»</h5><p>åœ¨kotlinä¸­å¼•ç”¨å¤–éƒ¨ç±»å®ä¾‹çš„è¯­æ³•ä¸javaä¸åŒã€‚éœ€è¦ä½¿ç”¨this@Outerä»Innerç±»å»è®¿é—®Outerç±»ã€‚</p><h4 id="4-1-5-å¯†å°ç±»ï¼šå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„"><a href="#4-1-5-å¯†å°ç±»ï¼šå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„" class="headerlink" title="4.1.5 å¯†å°ç±»ï¼šå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„"></a>4.1.5 å¯†å°ç±»ï¼šå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„</h4><h5 id="ä»€ä¹ˆæ˜¯å¯†å°ç±»â€sealedâ€œ"><a href="#ä»€ä¹ˆæ˜¯å¯†å°ç±»â€sealedâ€œ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¯†å°ç±»â€sealedâ€œ"></a>ä»€ä¹ˆæ˜¯å¯†å°ç±»â€sealedâ€œ</h5><p>sealed ç±»ã€‚ä¸ºçˆ¶ç±»æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ sealed ä¿®é¥°ç¬¦ï¼Œå¯å¯¹åˆ›å»ºçš„å­ç±»åšå‡ºä¸¥æ ¼çš„é™åˆ¶ã€‚<strong>æ‰€æœ‰çš„å­ç±»å¿…é¡»åµŒå¥—åœ¨çˆ¶ç±»ä¸­ã€‚</strong></p><h5 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¯†å°ç±»ï¼ˆå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„ï¼‰"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¯†å°ç±»ï¼ˆå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„ï¼‰" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¯†å°ç±»ï¼ˆå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„ï¼‰"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¯†å°ç±»ï¼ˆå®šä¹‰å—é™çš„ç±»ç»§æ‰¿ç»“æ„ï¼‰</h5><p><strong>ä½œä¸ºæ¥å£å®ç°çš„è¡¨è¾¾å¼ ğŸ‘‡</strong></p><pre><code class="kotlin">interface Exprclass Num(val value: Int) : Exprclass Sum(val left: Expr, val right: Expr):Exprfun eval(e: Expr): Int =    when (e) {        is Num -&gt; e.value        is Sum -&gt; eval(e.left) + eval(e.right)        else -&gt; // å¿…é¡»æ£€æŸ¥ else åˆ†æ”¯            throw  IllegalArgumentException(&quot;Unknown expression!&quot;)    }</code></pre><p><strong>å½“ä½¿ç”¨ when ç»“æ„æ¥æ‰§è¡Œè¡¨è¾¾å¼çš„æ—¶å€™ï¼ŒKotlin ç¼–è¯‘å™¨ä¼šå¼ºåˆ¶æ£€æŸ¥é»˜è®¤é€‰é¡¹</strong>ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<strong>ä¸èƒ½è¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„å€¼ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›å¼‚å¸¸çŠ¶æ€ã€‚</strong></p><p>æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœä½ æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å­ç±»ï¼Œç¼–è¯‘å™¨å¹¶ä¸èƒ½å‘ç°ä½ ä¿®æ”¹äº†ã€‚<strong>å¦‚æœä½ å¿˜è®°æ·»åŠ ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œå°±ä¼šé€‰æ‹©é»˜è®¤é€‰é¡¹ï¼Œè¿™åˆå¯èƒ½å¯¼è‡´æ½œåœ¨çš„ bugã€‚</strong></p><h5 id="å¦‚ä½•ä½¿ç”¨å¯†å°ç±»-â€œsealedâ€"><a href="#å¦‚ä½•ä½¿ç”¨å¯†å°ç±»-â€œsealedâ€" class="headerlink" title="å¦‚ä½•ä½¿ç”¨å¯†å°ç±» â€œsealedâ€"></a>å¦‚ä½•ä½¿ç”¨å¯†å°ç±» â€œsealedâ€</h5><pre><code class="kotlin">sealed class Expr { //å°†åŸºç±»æ ‡è®°ä¸ºå°é—­çš„    class Num(val value: Int) : Expr()    class Sum(val left: Expr, val right: Expr) : Expr() // å°†æ‰€æœ‰å¯èƒ½çš„ç±»ä½œä¸ºåµŒå¥—ç±»åˆ—å‡º}fun eval(expr: Expr): Int =    // â€œwhenâ€è¡¨è¾¾å¼è¦†ç›–äº†æ‰€æœ‰çš„å¯èƒ½æƒ…å†µï¼Œæ‰€ä»¥ä¸å†éœ€è¦ else åˆ†æ”¯    when (expr) {        is Expr.Num -&gt; expr.value        is Expr.Sum -&gt; eval(expr.left) + eval(expr.right)    }</code></pre><p><strong>å¦‚æœä½ åœ¨ when è¡¨è¾¾å¼ä¸­å¤„ç†äº†æ‰€æœ‰çš„ sealed ç±»çš„å­ç±»ï¼Œä½ å°±ä¸å†éœ€è¦æä¾›é»˜è®¤åˆ†æ”¯ã€‚</strong>æ³¨æ„ï¼Œsealed ä¿®é¥°ç¬¦éšå«çš„è¿™ä¸ªç±»æ˜¯ä¸€ä¸ª open ç±»ï¼Œä½ ä¸å†éœ€è¦æ˜¾å¼åœ°æ·»åŠ  open ä¿®é¥°ç¬¦ã€‚</p><h3 id="4-2-å£°æ˜ä¸€ä¸ªå¸¦é»˜è®¤æ„é€ æ–¹æ³•æˆ–å±æ€§çš„ç±»"><a href="#4-2-å£°æ˜ä¸€ä¸ªå¸¦é»˜è®¤æ„é€ æ–¹æ³•æˆ–å±æ€§çš„ç±»" class="headerlink" title="4.2 å£°æ˜ä¸€ä¸ªå¸¦é»˜è®¤æ„é€ æ–¹æ³•æˆ–å±æ€§çš„ç±»"></a>4.2 å£°æ˜ä¸€ä¸ªå¸¦é»˜è®¤æ„é€ æ–¹æ³•æˆ–å±æ€§çš„ç±»</h3><p><strong>kotlinä¸­æ„é€ æ–¹æ³•å’Œjavaä¸­æœ‰é‚£äº›ä¸åŒ</strong></p><p>ä¸javaä¸­ä¸€ä¸ªç±»å¯ä»¥å£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªæ„é€ æ–¹æ³•ã€‚kotlinä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œåªæ˜¯åšå‡ºäº†ä¸€äº›ä¿®æ”¹ï¼šåŒºåˆ†äº†ä¸»æ„é€ æ–¹æ³•ï¼ˆé€šå¸¸æ˜¯ä¸»è¦è€Œç®€æ´çš„åˆå§‹åŒ–ç±»çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç±»ä½“å¤–éƒ¨å£°æ˜ï¼‰å’Œä»æ„é€ æ–¹æ³•ã€‚</p><h4 id="4-2-1-åˆå§‹åŒ–ç±»ï¼šä¸»æ„é€ æ–¹æ³•å’Œåˆå§‹åŒ–ä»£ç å—"><a href="#4-2-1-åˆå§‹åŒ–ç±»ï¼šä¸»æ„é€ æ–¹æ³•å’Œåˆå§‹åŒ–ä»£ç å—" class="headerlink" title="4.2.1 åˆå§‹åŒ–ç±»ï¼šä¸»æ„é€ æ–¹æ³•å’Œåˆå§‹åŒ–ä»£ç å—"></a>4.2.1 åˆå§‹åŒ–ç±»ï¼šä¸»æ„é€ æ–¹æ³•å’Œåˆå§‹åŒ–ä»£ç å—</h4><h5 id="ä»€ä¹ˆæ˜¯ä¸»æ„é€ æ–¹æ³•ã€‚"><a href="#ä»€ä¹ˆæ˜¯ä¸»æ„é€ æ–¹æ³•ã€‚" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¸»æ„é€ æ–¹æ³•ã€‚"></a>ä»€ä¹ˆæ˜¯ä¸»æ„é€ æ–¹æ³•ã€‚</h5><pre><code class="kotlin">class User(val nickname:String)</code></pre><p>è¿™æ®µè¢«æ‹¬å·å›´èµ·æ¥çš„ä»£ç å—å°±å«<strong>åšä¸»æ„é€ æ–¹æ³•</strong>ã€‚å®ƒæœ‰ä¸¤ä¸ªç›®çš„ï¼šè¡¨æ˜æ„é€ æ–¹æ³•çš„<strong>å‚æ•°</strong>ï¼Œä»¥åŠå®šä¹‰ä½¿ç”¨è¿™ä¸ª<strong>å‚æ•°</strong>çš„å±æ€§ã€‚</p><h5 id="æ˜ç¡®çš„ä¸»æ„é€ æ–¹æ³•å£°æ˜"><a href="#æ˜ç¡®çš„ä¸»æ„é€ æ–¹æ³•å£°æ˜" class="headerlink" title="æ˜ç¡®çš„ä¸»æ„é€ æ–¹æ³•å£°æ˜"></a>æ˜ç¡®çš„ä¸»æ„é€ æ–¹æ³•å£°æ˜</h5><pre><code class="kotlin">class User constructor(_nickname: String) {   // å¸¦ä¸€ä¸ªå‚æ•°çš„ä¸»æ„é€ æ–¹æ³•    val nickname: String    init {  // åˆå§‹åŒ–ä»£ç å—        nickname = _nickname    }}</code></pre><p>ç°åœ¨æ¥çœ‹çœ‹å®ŒæˆåŒæ ·åŠŸèƒ½çš„ä»£ç å…·ä½“æ˜¯ä»€ä¹ˆæ ·å­ã€‚</p><blockquote><p>ä¸¤ä¸ªå…³é”®è¯ <strong>construtor</strong> å’Œ <strong>init</strong>ã€‚ constructor å…³é”®è¯ç”¨æ¥å¼€å§‹ä¸€ä¸ª<strong>æ„é€ æ–¹æ³•</strong>æˆ–è€…<strong>ä»æ„é€ æ–¹æ³•</strong>çš„å£°æ˜ã€‚init å…³é”®è¯ç”¨æ¥å¼•å…¥åˆå§‹åŒ–ä»£ç å—ã€‚è¿™ç§ä»£ç å—åŒ…å«äº†ç±»åœ¨åˆ›å»ºæ—¶æ‰§è¡Œçš„ä»£ç ï¼Œå¹¶ä¸”ä¼šå’Œä¸»æ„é€ æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚<strong>å› ä¸ºä¸»æ„é€ æ–¹æ³•æœ‰è¯­æ³•é™åˆ¶ï¼Œä¸èƒ½åŒ…å«åˆå§‹åŒ–ä»£ç ï¼Œè¿™å°±æ˜¯éœ€è¦åˆå§‹åŒ–ä»£ç å—ï¼ˆinitï¼‰çš„åŸå› ã€‚</strong>åŒæ—¶å¯ä»¥åˆ›å»ºå¤šä¸ªåˆå§‹åŒ–ä»£ç å—ã€‚</p></blockquote><h5 id="ç”¨å‚æ•°æ¥åˆå§‹åŒ–å±æ€§"><a href="#ç”¨å‚æ•°æ¥åˆå§‹åŒ–å±æ€§" class="headerlink" title="ç”¨å‚æ•°æ¥åˆå§‹åŒ–å±æ€§"></a>ç”¨å‚æ•°æ¥åˆå§‹åŒ–å±æ€§</h5><pre><code class="kotlin">class User(_nickname: String) { // å¸¦ä¸€ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•    val nickname: String = _nickname    // ç”¨å‚æ•°æ¥åˆå§‹åŒ–å±æ€§}</code></pre><blockquote><p>åœ¨ä¾‹å­ä¸­ï¼Œä¸éœ€è¦æŠŠåˆå§‹åŒ–ä»£ç æ”¾åœ¨åˆå§‹åŒ–ä»£ç å—ä¸­ï¼Œå› ä¸ºå®ƒå¯ä»¥ä¸nicknameå±æ€§å£°æ˜ç»“åˆã€‚å¦‚æœä¸»æ„é€ æ–¹æ³•æ²¡æœ‰æ³¨è§£æˆ–å¯è§æ€§ä¿®é¥°ç¬¦ï¼ŒåŒæ ·å¯ä»¥å»é™¤ constructor å…³é”®è¯ã€‚</p></blockquote><h5 id="ç”¨æœ€ç®€æ´çš„æ–¹æ³•å†æ¬¡åˆå§‹åŒ–ç±»"><a href="#ç”¨æœ€ç®€æ´çš„æ–¹æ³•å†æ¬¡åˆå§‹åŒ–ç±»" class="headerlink" title="ç”¨æœ€ç®€æ´çš„æ–¹æ³•å†æ¬¡åˆå§‹åŒ–ç±»"></a>ç”¨æœ€ç®€æ´çš„æ–¹æ³•å†æ¬¡åˆå§‹åŒ–ç±»</h5><pre><code class="kotlin">class User(val nickname:String)    // â€œvalâ€ æ„å‘³ç›¸å¯¹åº”çš„å±æ€§ä¼šç”¨æ„é€ æ–¹æ³•çš„å‚æ•°æ¥åˆå§‹åŒ–ã€‚</code></pre><p>å‰å‡ ä¸ªæ¡ˆä¾‹ç”¨ val å…³é”®è¯å£°æ˜äº†å±æ€§ã€‚å¦‚æœå±æ€§ç”¨ç›¸å¯¹åº”çš„æ„é€ æ–¹æ³•å‚æ•°æ¥åˆå§‹åŒ–ï¼Œ<strong>ä»£ç å¯ä»¥é€šè¿‡æŠŠ val å…³é”®è¯åŠ è½½å‚æ•°å‰çš„æ–¹æ³•æ¥ç®€åŒ–å®ƒ</strong>ã€‚å¯ä»¥ç”¨æ¥ä»£æ›¿ç±»ä¸­çš„å±æ€§å®šä¹‰äº†ã€‚</p><h5 id="ä¸ºæ„é€ æ–¹æ³•æä¾›é»˜è®¤å€¼"><a href="#ä¸ºæ„é€ æ–¹æ³•æä¾›é»˜è®¤å€¼" class="headerlink" title="ä¸ºæ„é€ æ–¹æ³•æä¾›é»˜è®¤å€¼"></a>ä¸ºæ„é€ æ–¹æ³•æä¾›é»˜è®¤å€¼</h5><pre><code class="kotlin">class User(val nickname: String, val isSubscribed: Boolean = true) // ä¸ºæ„é€ æ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å€¼    </code></pre><p>å¯ä»¥åƒå‡½æ•°å‚æ•°ä¸€æ ·ä¸ºæ„é€ æ–¹æ³•å£°æ˜é»˜è®¤å€¼ã€‚</p><h5 id="å¦‚ä½•è®©ä¸€ä¸ªç±»ä¸è¢«å…¶ä»–ä»£ç å®ä¾‹åŒ–"><a href="#å¦‚ä½•è®©ä¸€ä¸ªç±»ä¸è¢«å…¶ä»–ä»£ç å®ä¾‹åŒ–" class="headerlink" title="å¦‚ä½•è®©ä¸€ä¸ªç±»ä¸è¢«å…¶ä»–ä»£ç å®ä¾‹åŒ–"></a>å¦‚ä½•è®©ä¸€ä¸ªç±»ä¸è¢«å…¶ä»–ä»£ç å®ä¾‹åŒ–</h5><p>å¦‚æœæƒ³è¦ä½ çš„ç±»ä¸è¢«å…¶ä»–ä»£ç å®ä¾‹åŒ–ï¼Œå¿…é¡»æŠŠæ„é€ æ–¹æ³•æ ‡è®°ä¸º privateã€‚</p><pre><code class="kotlin">class Secretive private constructor()   // è¿™ä¸ªç±»æœ‰ private æ„é€ æ–¹æ³•</code></pre><h4 id="4-2-2-æ„é€ æ–¹æ³•ï¼šç”¨ä¸åŒçš„æ–¹æ³•æ¥åˆå§‹åŒ–æ–¹æ³•"><a href="#4-2-2-æ„é€ æ–¹æ³•ï¼šç”¨ä¸åŒçš„æ–¹æ³•æ¥åˆå§‹åŒ–æ–¹æ³•" class="headerlink" title="4.2.2 æ„é€ æ–¹æ³•ï¼šç”¨ä¸åŒçš„æ–¹æ³•æ¥åˆå§‹åŒ–æ–¹æ³•"></a>4.2.2 æ„é€ æ–¹æ³•ï¼šç”¨ä¸åŒçš„æ–¹æ³•æ¥åˆå§‹åŒ–æ–¹æ³•</h4><h5 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šç§æ–¹æ³•åˆå§‹åŒ–çˆ¶ç±»"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šç§æ–¹æ³•åˆå§‹åŒ–çˆ¶ç±»" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šç§æ–¹æ³•åˆå§‹åŒ–çˆ¶ç±»"></a><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šç§æ–¹æ³•åˆå§‹åŒ–çˆ¶ç±»</strong></h5><p>æœ€å¸¸è§çš„ä¸€ç§å°±æ˜¯å½“ä½ éœ€è¦æ‰©å±•ä¸€ä¸ªæ¡†æ¶ç±»æ¥æä¾›å¤šä¸ªæ„é€ æ–¹æ³•ï¼Œä»¥ä¾¿äºé€šè¿‡ä¸åŒçš„æ–¹æ³•æ¥åˆå§‹åŒ–ç±»çš„æ—¶å€™ã€‚</p><h5 id="çˆ¶ç±»ä½¿ç”¨ä»æ„é€ æ–¹æ³•"><a href="#çˆ¶ç±»ä½¿ç”¨ä»æ„é€ æ–¹æ³•" class="headerlink" title="çˆ¶ç±»ä½¿ç”¨ä»æ„é€ æ–¹æ³•"></a><strong>çˆ¶ç±»ä½¿ç”¨ä»æ„é€ æ–¹æ³•</strong></h5><pre><code class="kotlin">open class View {    constructor(ctx: Context) { // ä»æ„é€ æ–¹æ³•        //some code    }    constructor(ctx: Context, attr: AttributeSet) { // ä»æ„é€ æ–¹æ³•        //some code    }}</code></pre><h5 id="æ‰©å±•çˆ¶ç±»"><a href="#æ‰©å±•çˆ¶ç±»" class="headerlink" title="æ‰©å±•çˆ¶ç±»"></a>æ‰©å±•çˆ¶ç±»</h5><pre><code class="kotlin">class MyButton : View {    constructor(ctx: Context) : super(ctx) {        // è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•    }    constructor(ctx: Context, attr: AttributeSet) : super(ctx, attr) {    }}</code></pre><h5 id="è°ƒç”¨çˆ¶ç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•"><a href="#è°ƒç”¨çˆ¶ç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•" class="headerlink" title="è°ƒç”¨çˆ¶ç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•"></a>è°ƒç”¨çˆ¶ç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•</h5><pre><code class="kotlin">class MyButton : View {    constructor(ctx: Context) : this(ctx, My_SYTLE) {        // å§”æ‰˜ç»™è¿™ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•    }    constructor(ctx: Context, attr: AttributeSet) : super(ctx, attr) {    }}</code></pre><p>ä»<strong>æ„é€ æ–¹æ³•</strong>ä¸­è°ƒç”¨ä½ è‡ªå·±ç±»çš„å¦ä¸€ä¸ª<strong>æ„é€ æ–¹æ³•</strong>ã€‚</p><p>å¯ä»¥ä¿®æ”¹ MyButtonç±» <strong>ä½¿å¾—ä¸€ä¸ªæ„é€ æ–¹æ³•å§”æ‰˜ç»™åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ æ–¹æ³•</strong>ï¼Œä¸ºå‚æ•°ä¼ å…¥é»˜è®¤å€¼ï¼Œå›¾ä¸‹ğŸ‘‡ã€‚ç¬¬äºŒä¸ªæ–¹æ³•ç»§ç»­è°ƒç”¨super()ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200906113216.png" alt=""></p><h4 id="4-2-3-å®ç°åœ¨æ¥å£ä¸­å£°æ˜çš„å±æ€§"><a href="#4-2-3-å®ç°åœ¨æ¥å£ä¸­å£°æ˜çš„å±æ€§" class="headerlink" title="4.2.3 å®ç°åœ¨æ¥å£ä¸­å£°æ˜çš„å±æ€§"></a>4.2.3 å®ç°åœ¨æ¥å£ä¸­å£°æ˜çš„å±æ€§</h4><h5 id="åœ¨æ¥å£ä¸­å£°æ˜ä¸€ä¸ªå±æ€§"><a href="#åœ¨æ¥å£ä¸­å£°æ˜ä¸€ä¸ªå±æ€§" class="headerlink" title="åœ¨æ¥å£ä¸­å£°æ˜ä¸€ä¸ªå±æ€§"></a>åœ¨æ¥å£ä¸­å£°æ˜ä¸€ä¸ªå±æ€§</h5><pre><code class="kotlin">interface User {    val nickname: String}</code></pre><p>æ¥å£å¯ä»¥åŒ…å«æŠ½è±¡å±æ€§å£°æ˜ã€‚</p><p>è¿™æ„å‘³è¿™<strong>å®ç°Useræ¥å£çš„ç±»éœ€è¦</strong>æä¾›ä¸€ä¸ªå–å¾—nicknameå€¼çš„æ–¹å¼ã€‚</p><h5 id="å®ç°æ¥å£ä¸­çš„å±æ€§-ä¸‰ç§"><a href="#å®ç°æ¥å£ä¸­çš„å±æ€§-ä¸‰ç§" class="headerlink" title="å®ç°æ¥å£ä¸­çš„å±æ€§ ä¸‰ç§"></a>å®ç°æ¥å£ä¸­çš„å±æ€§ ä¸‰ç§</h5><p>ç¬¬ä¸€ç§</p><pre><code class="kotlin">// ä¸»æ„é€ æ–¹æ³•å±æ€§class PrivateUser(override val nickname: String) : User {}</code></pre><p>å¯¹äº PrivateUser æ¥è¯´ï¼Œ<strong>ä½ æ˜¯ç”¨äº†é—´æ¥çš„è¯­æ³•ç›´æ¥åœ¨ä¸»æ„é€ æ–¹æ³•ä¸­å£°æ˜äº†ä¸€ä¸ªå±æ€§</strong>ã€‚è¿™ä¸ªå±æ€§å®ç°äº†æ¥è‡ªäºUserçš„æŠ½è±¡å±æ€§ï¼Œæ‰€ä»¥ä½ å°†å…¶æ ‡è®°ä¸º overrideã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908100413.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908095819.png" alt=""></p><p>è¿è¡Œç»“æœ</p><p>ç¬¬äºŒç§</p><pre><code class="kotlin">class SubscribingUser(val email: String) : User {    override val nickname: String get() = email.substringBefore(&#39;@&#39;)  // è‡ªå®šä¹‰getter}</code></pre><p>å¯¹äº SubscribeingUser æ¥è¯´ï¼Œnikenameå±æ€§é€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰ getter å®ç°ã€‚<strong>è¿™ä¸ªå±æ€§æ²¡æœ‰ä¸€ä¸ªæ”¯æŒå­—æ®µæ¥å­˜å‚¨å®ƒçš„å€¼ï¼Œå®ƒåªæœ‰ä¸€ä¸ª getter åœ¨æ¯æ¬¡è°ƒç”¨æ—¶ä» email ä¸­å¾—åˆ°æ˜µç§°ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908100342.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908100257.png" alt=""></p><p>è¿è¡Œç»“æœ</p><p>ç¬¬ä¸‰ç§</p><pre><code class="kotlin">class FacebookUser(val accoundId: Int) : User {    override val nickname = getFacebookName(accoundId)  // å±æ€§åˆå§‹åŒ–    fun getFacebookName(text: String): String {        return text    }}</code></pre><p>nicknameåœ¨SubscribingUserå’ŒFackbookUserä¸­çš„ä¸åŒå®ç°ã€‚å³ä½¿å®ƒä»¬çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ï¼Œç¬¬ä¸€ä¸ªå±æ€§æœ‰ä¸€ä¸ªè‡ªå®šä¹‰getteråœ¨æ¯æ¬¡è®¿é—®æ—¶è®¡ç®— subscringBeforeï¼Œç„¶å FackbookUserä¸­çš„å±æ€§æœ‰ä¸€ä¸ª<strong>æ”¯æŒå­—æ®µæ¥å­˜å‚¨åœ¨ç±»åˆå§‹åŒ–æ—¶è®¡ç®—å¾—åˆ°æ•°æ®</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908104646.png" alt=""></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200908111027.png" alt=""></p><p>è¿è¡Œç»“æœ</p><h3 id="4-3-ç¼–è¯‘å™¨ç”Ÿæˆçš„æ–¹æ³•-æ•°æ®ç±»å’Œå§”æ‰˜"><a href="#4-3-ç¼–è¯‘å™¨ç”Ÿæˆçš„æ–¹æ³•-æ•°æ®ç±»å’Œå§”æ‰˜" class="headerlink" title="4.3 ç¼–è¯‘å™¨ç”Ÿæˆçš„æ–¹æ³•:æ•°æ®ç±»å’Œå§”æ‰˜"></a>4.3 ç¼–è¯‘å™¨ç”Ÿæˆçš„æ–¹æ³•:æ•°æ®ç±»å’Œå§”æ‰˜</h3><h4 id="4-3-2-æ•°æ®ç±»-è‡ªåŠ¨ç”Ÿæˆé€šç”¨æ–¹æ³•çš„å®ç°"><a href="#4-3-2-æ•°æ®ç±»-è‡ªåŠ¨ç”Ÿæˆé€šç”¨æ–¹æ³•çš„å®ç°" class="headerlink" title="4.3.2 æ•°æ®ç±»:è‡ªåŠ¨ç”Ÿæˆé€šç”¨æ–¹æ³•çš„å®ç°."></a>4.3.2 æ•°æ®ç±»:è‡ªåŠ¨ç”Ÿæˆé€šç”¨æ–¹æ³•çš„å®ç°.</h4><p>å®ç°ä¸€ä¸ªæ•°æ®ç±»éœ€è¦é‡å†™æ–¹æ³•:toStringã€equalså’Œhashcodeã€‚</p><p><strong>æ•°æ®ç±»</strong></p><pre><code class="kotlin">data class Client(val name:String,val postalCode:Int)</code></pre><p>è¿™æ˜¯ä¸€ä¸ªæ•°æ®ç±»,é‡å†™äº†æ‰€æœ‰æ ‡å‡†çš„Javaæ–¹æ³•:</p><ul><li>equals ç”¨æ¥æ¯”è¾ƒå®ä¾‹</li><li>hashCodeç”¨æ¥ä½œä¸ºä¾‹å¦‚HashMapè¿™ç§åŸºäºå“ˆå¸Œå®¹å™¨çš„é”®</li><li>toStringç”¨æ¥ä¸ºç±»ç”ŸæˆæŒ‰å£°æ˜é¡ºåºæ’åˆ—çš„æ‰€æœ‰å­—æ®µçš„å­—ç¬¦ä¸²è¡¨è¾¾å½¢å¼</li></ul><h3 id="4-4-â€œobjectâ€-å…³é”®å­—ï¼š-å°†å£°æ˜ä¸€ä¸ªç±»ä¸åˆ›å»ºä¸€ä¸ªå®ä¾‹ç»“åˆèµ·æ¥"><a href="#4-4-â€œobjectâ€-å…³é”®å­—ï¼š-å°†å£°æ˜ä¸€ä¸ªç±»ä¸åˆ›å»ºä¸€ä¸ªå®ä¾‹ç»“åˆèµ·æ¥" class="headerlink" title="4.4 â€œobjectâ€ å…³é”®å­—ï¼š å°†å£°æ˜ä¸€ä¸ªç±»ä¸åˆ›å»ºä¸€ä¸ªå®ä¾‹ç»“åˆèµ·æ¥"></a>4.4 â€œobjectâ€ å…³é”®å­—ï¼š å°†å£°æ˜ä¸€ä¸ªç±»ä¸åˆ›å»ºä¸€ä¸ªå®ä¾‹ç»“åˆèµ·æ¥</h3><p>è¿™ä¸ªå…³é”®è¯å®šä¹‰ä¸€ä¸ªç±»å¹¶åŒæ—¶åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼ˆæ¢å¥è¯è¯´å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚</p><ul><li><strong>å¯¹è±¡å£°æ˜</strong>æ˜¯å®šä¹‰ä¸€ä¸ªå•ä¾‹çš„ä¸€ç§æ–¹å¼ã€‚</li><li><strong>ä¼´ç”Ÿå¯¹è±¡</strong>å¯ä»¥æŒæœ‰<strong>å·¥åœºæ–¹æ³•</strong>å’Œå…¶ä»–ä¸è¿™ä¸ªç±»çš„ç›¸å…³ï¼Œä½†æ˜¯åœ¨è°ƒç”¨æ—¶å¹¶ä¸ä¾èµ–ç±»å®ä¾‹æ–¹æ³•ã€‚<strong>å®ƒä»¬çš„æˆå‘˜å¯ä»¥é€šè¿‡ç±»åæ¥è®¿é—®</strong>ã€‚</li><li><strong>å¯¹è±¡è¡¨è¾¾å¼ç”¨æ¥ä»£æ›¿Javaçš„åŒ¿åå†…éƒ¨ç±»</strong></li></ul><h4 id="4-4-1-å¯¹è±¡å£°æ˜ï¼šåˆ›å»ºå•ä¾‹æ˜“å¦‚åæŒ"><a href="#4-4-1-å¯¹è±¡å£°æ˜ï¼šåˆ›å»ºå•ä¾‹æ˜“å¦‚åæŒ" class="headerlink" title="4.4.1 å¯¹è±¡å£°æ˜ï¼šåˆ›å»ºå•ä¾‹æ˜“å¦‚åæŒ"></a>4.4.1 å¯¹è±¡å£°æ˜ï¼šåˆ›å»ºå•ä¾‹æ˜“å¦‚åæŒ</h4><h5 id="ä¸ºä»€ä¹ˆä½¿ç”¨å¯¹è±¡å£°æ˜ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨å¯¹è±¡å£°æ˜ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨å¯¹è±¡å£°æ˜ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨å¯¹è±¡å£°æ˜ï¼Ÿ</h5><p>åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­ä¸€ä¸ªç›¸å½“å¸¸è§çš„æƒ…å½¢å°±æ˜¯åªéœ€è¦ä¸€ä¸ªå®ä¾‹çš„ç±»ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡å£°æ˜æ¥è¡¨ç¤ºä¸€ä¸ªç»„ç»‡çš„å·¥èµ„å•ã€‚</p><h5 id="åœ¨Javaä¸­æ˜¯å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ"><a href="#åœ¨Javaä¸­æ˜¯å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ" class="headerlink" title="åœ¨Javaä¸­æ˜¯å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ"></a>åœ¨Javaä¸­æ˜¯å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ</h5><p>å®šä¹‰ä¸€ä¸ªä½¿ç”¨privateæ„é€ æ–¹æ³•å¹¶ä¸”ç”¨é™æ€å­—æ®µæ¥æŒæœ‰è¿™ä¸ªç±»ä»…æœ‰çš„å®ä¾‹ã€‚</p><h5 id="ä»€ä¹ˆæ˜¯å¯¹è±¡å£°æ˜"><a href="#ä»€ä¹ˆæ˜¯å¯¹è±¡å£°æ˜" class="headerlink" title="ä»€ä¹ˆæ˜¯å¯¹è±¡å£°æ˜"></a>ä»€ä¹ˆæ˜¯å¯¹è±¡å£°æ˜</h5><p>Kotliné€šè¿‡ä½¿ç”¨å¯¹è±¡å£°æ˜åŠŸèƒ½ä¸ºè¿™ä¸€åˆ‡æä¾›äº†æœ€é«˜çº§çš„è¯­è¨€æ”¯æŒã€‚<strong>å¯¹è±¡å£°æ˜å°†ç±»å£°æ˜ä¸è¯¥ç±»çš„å•ä¸€å®ä¾‹å£°æ˜ç»“åˆåˆ°äº†ä¸€èµ·ã€‚</strong></p><h5 id="å¯¹è±¡å£°æ˜ä½¿ç”¨"><a href="#å¯¹è±¡å£°æ˜ä½¿ç”¨" class="headerlink" title="å¯¹è±¡å£°æ˜ä½¿ç”¨"></a>å¯¹è±¡å£°æ˜ä½¿ç”¨</h5><pre><code>object Payroll {    val allEmployees = arrayListOf&lt;Person&gt;()    fun calculateSalary() {        for (person in allEmployees){        }    }}</code></pre><p>å¯¹è±¡å£°æ˜é€šè¿‡ object å…³é”®è¯å¼•å…¥ã€‚ä¸ç±»ä¸€æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å£°æ˜ä¹Ÿå¯ä»¥åŒ…å«å±æ€§ã€æ–¹æ³•ã€åˆå§‹åŒ–è¯­å¥å—ç­‰çš„å£°æ˜ï¼Œå”¯ä¸€ä¸å…è®¸çš„æ˜¯æ„é€ æ–¹æ³•ã€‚å¯¹è±¡å£°æ˜åœ¨å®šä¹‰æ—¶å°±åˆ›å»ºäº†æ„é€ å¯¹è±¡ï¼Œä¸éœ€è¦åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹è°ƒç”¨æ„é€ æ–¹æ³•ã€‚å¯¹è±¡å£°æ˜åŒæ ·å¯ä»¥ç»§æ‰¿ç±»å’Œæ¥å£ã€‚</p><h1 id="5-Lambda-ç¼–ç¨‹"><a href="#5-Lambda-ç¼–ç¨‹" class="headerlink" title="5 Lambda ç¼–ç¨‹"></a>5 Lambda ç¼–ç¨‹</h1><h2 id="5-5-å¸¦æ¥æ”¶è€…çš„lambdaï¼šâ€œwithâ€ä¸â€œapplyâ€"><a href="#5-5-å¸¦æ¥æ”¶è€…çš„lambdaï¼šâ€œwithâ€ä¸â€œapplyâ€" class="headerlink" title="5.5 å¸¦æ¥æ”¶è€…çš„lambdaï¼šâ€œwithâ€ä¸â€œapplyâ€"></a>5.5 å¸¦æ¥æ”¶è€…çš„lambdaï¼šâ€œwithâ€ä¸â€œapplyâ€</h2><h5 id="ä»€ä¹ˆæ˜¯å¸¦æ¥æ”¶è€…çš„-lambdaï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¸¦æ¥æ”¶è€…çš„-lambdaï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¸¦æ¥æ”¶è€…çš„ lambdaï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¸¦æ¥æ”¶è€…çš„ lambdaï¼Ÿ</h5><blockquote><p>Kotlin ä¸­ç‹¬ç‰¹çš„ lambda åŠŸèƒ½ï¼šåœ¨lambdaå‡½æ•°ä½“å†…å¯ä»¥è°ƒç”¨ä¸€ä¸ªä¸åŒçš„å¯¹è±¡æ–¹æ³•ï¼Œè€Œä¸”æ— éœ€å€ŸåŠ©ä»»ä½•é¢å¤–çš„é™å®šç¬¦ã€‚</p></blockquote><p><strong>æ¥æ”¶è€…ï¼š</strong>è°ƒç”¨è€…</p><h3 id="5-5-1-â€œwithâ€-å‡½æ•°"><a href="#5-5-1-â€œwithâ€-å‡½æ•°" class="headerlink" title="5.5.1 â€œwithâ€ å‡½æ•°"></a>5.5.1 â€œwithâ€ å‡½æ•°</h3><h5 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h5><blockquote><p>å¯¹åŒä¸€ä¸ªå¯¹è±¡æ‰§è¡Œå¾ˆå¤šæ¬¡æ“ä½œï¼Œä¸éœ€è¦åå¤æŠŠå¯¹è±¡åç§°å†™å‡ºæ¥ã€‚</p></blockquote><h5 id="æ„å»ºå­—æ¯è¡¨"><a href="#æ„å»ºå­—æ¯è¡¨" class="headerlink" title="æ„å»ºå­—æ¯è¡¨"></a>æ„å»ºå­—æ¯è¡¨</h5><pre><code class="kotlin">fun alphabet(): String {    val result = StringBuilder()    for (letter in &#39;A&#39;..&#39;Z&#39;) {        result.append(letter)    }    result.append(&quot;\n Now I know the alphbet!&quot;)    return result.toString()}</code></pre><pre><code class="kotlin">fun main() {    println(alphabet())}</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201022214803.png" alt=""></p><h5 id="ä½¿ç”¨åœºæ™¯ï¼ˆä¸ºä»€ä¹ˆè¦ç”¨â€withâ€œï¼‰"><a href="#ä½¿ç”¨åœºæ™¯ï¼ˆä¸ºä»€ä¹ˆè¦ç”¨â€withâ€œï¼‰" class="headerlink" title="ä½¿ç”¨åœºæ™¯ï¼ˆä¸ºä»€ä¹ˆè¦ç”¨â€withâ€œï¼‰"></a><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼ˆä¸ºä»€ä¹ˆè¦ç”¨â€withâ€œï¼‰</h5><p>æ¡ˆä¾‹ä¸­å¤šæ¬¡è°ƒç”¨åˆ° â€œ<strong>result</strong>â€œå®ä¾‹ã€‚ä½¿ç”¨â€<strong>with</strong>â€œå‡å°‘å¯¹å®ä¾‹çš„è°ƒç”¨ã€‚</p><h5 id="å¦‚ä½•ä½¿ç”¨-â€withâ€œï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨-â€withâ€œï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ â€withâ€œï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨ â€withâ€œï¼Ÿ</h5><pre><code class="kotlin">fun alphabet(): String {    val result = StringBuilder()    return with(result) {// æŒ‡å®šæ¥æ”¶è€…çš„å€¼        for (letter in &#39;A&#39;..&#39;Z&#39;) {            this.append(letter) // æ˜¾å¼çš„ä½¿ç”¨â€˜thisâ€™æ¥è°ƒç”¨æ¥æ”¶è€…å€¼çš„æ–¹æ³•ï¼ˆresult.appned()æ–¹æ³•ï¼‰        }        append(&quot;\n Now I know the alphabet!&quot;)   // éšè— â€˜thisâ€™ åŒæ ·å¯ä»¥ä½¿ç”¨        this.toString()    }}</code></pre><pre><code class="kotlin">fun main() {    println(alphabet())}</code></pre><h5 id="â€withâ€œçš„ç»“æ„"><a href="#â€withâ€œçš„ç»“æ„" class="headerlink" title="â€withâ€œçš„ç»“æ„"></a>â€withâ€œçš„ç»“æ„</h5><blockquote><p>with ç»“æ„çœ‹ä¸Šå»åƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ç»“æ„ï¼Œä½†å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¥æ”¶ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ï¼šè¿™ä¸ªä¾‹å­ä¸­ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ stringBuilder å’Œ lambda ã€‚</p></blockquote><p>with å‡½æ•°æŠŠç¬¬ä¸€ä¸ªå‚æ•°è½¬æ¢ä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™ lambda çš„æ¥æ”¶è€…ã€‚</p><h5 id="åœ¨æ™®é€šå‡½æ•°ä¸­ä¸æ‰©å±•å‡½æ•°ä¸­å¸¦æ¥æ”¶è€…çš„-lambda-æœ‰é‚£äº›ä¸åŒ"><a href="#åœ¨æ™®é€šå‡½æ•°ä¸­ä¸æ‰©å±•å‡½æ•°ä¸­å¸¦æ¥æ”¶è€…çš„-lambda-æœ‰é‚£äº›ä¸åŒ" class="headerlink" title="åœ¨æ™®é€šå‡½æ•°ä¸­ä¸æ‰©å±•å‡½æ•°ä¸­å¸¦æ¥æ”¶è€…çš„ lambda æœ‰é‚£äº›ä¸åŒ"></a>åœ¨æ™®é€šå‡½æ•°ä¸­ä¸æ‰©å±•å‡½æ•°ä¸­å¸¦æ¥æ”¶è€…çš„ lambda æœ‰é‚£äº›ä¸åŒ</h5><blockquote><p>åœ¨æ‰©å±•å‡½æ•°ä½“å†…éƒ¨ï¼Œthis æŒ‡å‘äº†è¿™ä¸ªå‡½æ•°æ‰©å±•çš„é‚£ä¸ªç±»å‹å®ä¾‹ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥è¢«çœç•¥æ‰ï¼Œè®©ä½ ç›´æ¥è®¿é—®æ¥æ”¶è€…çš„æˆå‘˜ã€‚</p></blockquote><h3 id="5-5-2-â€œapplyâ€-å‡½æ•°"><a href="#5-5-2-â€œapplyâ€-å‡½æ•°" class="headerlink" title="5.5.2 â€œapplyâ€ å‡½æ•°"></a>5.5.2 â€œapplyâ€ å‡½æ•°</h3><h5 id="apply-å’Œ-with-çš„ä¸åŒ"><a href="#apply-å’Œ-with-çš„ä¸åŒ" class="headerlink" title="apply å’Œ with çš„ä¸åŒ"></a>apply å’Œ with çš„ä¸åŒ</h5><blockquote><p>apply å‡½æ•°åŒwith å‡½æ•°åŠŸèƒ½ç›¸åŒï¼ŒåŒºåˆ«åœ¨äº apply å§‹ç»ˆä¼šè¿”å›ä½œä¸ºå®å‚ä¼ é€’ç»™å®ƒçš„å¯¹è±¡ã€‚ï¼ˆè¿”å›æœ¬èº«ä½œä¸ºå®ä¾‹ï¼‰</p></blockquote><pre><code class="kotlin">fun alphabet() = StringBuilder().apply {    for (letter in &#39;A&#39;..&#39;Z&#39;) {        append(letter)    }    append(&quot;\n Now I know the alphbet!&quot;)}.toString()</code></pre><p>apply è¢«å£°æ˜æˆä¸€ä¸ªæ‰©å±•å‡½æ•°ã€‚å®ƒçš„<strong>æ¥æ”¶è€…</strong>å˜æˆäº†ä½œä¸ºå®å‚çš„ lambda çš„æ¥æ”¶è€…ã€‚æ‰§è¡Œ apply çš„ç»“æœæ˜¯StringBuilder,æ‰€ä»¥æ¥ä¸‹æ¥é‡Œå¯ä»¥è°ƒç”¨ toString æŠŠå®ƒè½¬æ¢æˆ Stringã€‚</p><p><strong>ä½¿ç”¨applyåˆå§‹åŒ–ä¸€ä¸ªTextView</strong></p><pre><code class="kotlin">fun createViewWithCustomAttributes(context : Context) = {    TextView(context).apply{        text = &quot;Sample Text&quot;        textSize = 20.0        setPadding(10,0,0,0)    }}</code></pre><p><strong>applyå‡½æ•°å…è®¸é‡Œä½¿ç”¨ç´§å‡‘çš„è¡¨è¾¾å¼å‡½æ•°ä½“é£æ ¼</strong>ã€‚æ–°çš„<strong>TextView</strong>å®ä¾‹<strong>åˆ›å»º</strong>ä¹‹åç«‹å³è¢«ä¼ ç»™äº†<strong>apply</strong>ã€‚</p><p><strong>é‚£ä¸ªæ˜¯æ¥æ”¶è€…?</strong></p><p>TextViewå®ä¾‹å˜æˆäº† (lambda çš„) æ¥æ”¶è€…ï¼Œä½ å¯ä»¥è°ƒç”¨å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p>with å‡½æ•°å’Œ apply å‡½æ•°æ˜¯æœ€åŸºæœ¬å’Œæœ€é€šç”¨çš„ä½¿ç”¨å¸¦æ¥æ”¶è€…çš„ lambda çš„ä¾‹å­ã€‚æ›´å¤šçš„å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨<strong>æ ‡å‡†åº“å‡½æ•°buildStringè¿›ä¸€æ­¥ç®€åŒ–alphbetå‡½æ•°</strong>ï¼Œå®ƒä¼šè´Ÿè´£<strong>åˆ›å»ºStringBuilder</strong>å¹¶<strong>è°ƒç”¨toString</strong>ã€‚<strong>buildingå®é™…æ˜¯å¸¦æ¥æ”¶è€…çš„lambda</strong>ï¼Œ<strong>æ¥æ”¶è€…</strong>å°±æ˜¯<strong>StringBuilder</strong>ã€‚</p><p><strong>ä½¿ç”¨buildStringåˆ›å»ºå­—æ¯è¡¨</strong></p><h2 id="5-6-å°ç»“"><a href="#5-6-å°ç»“" class="headerlink" title="5.6 å°ç»“"></a>5.6 å°ç»“</h2><h1 id="6-Kotlinçš„ç±»å‹ç³»ç»Ÿ"><a href="#6-Kotlinçš„ç±»å‹ç³»ç»Ÿ" class="headerlink" title="6  Kotlinçš„ç±»å‹ç³»ç»Ÿ"></a>6  Kotlinçš„ç±»å‹ç³»ç»Ÿ</h1><h2 id="6-1-å¯ç©ºæ€§"><a href="#6-1-å¯ç©ºæ€§" class="headerlink" title="6.1 å¯ç©ºæ€§"></a>6.1 å¯ç©ºæ€§</h2><h3 id="6-18-å»¶è¿Ÿåˆå§‹åŒ–çš„å±æ€§"><a href="#6-18-å»¶è¿Ÿåˆå§‹åŒ–çš„å±æ€§" class="headerlink" title="6.18 å»¶è¿Ÿåˆå§‹åŒ–çš„å±æ€§"></a>6.18 å»¶è¿Ÿåˆå§‹åŒ–çš„å±æ€§</h3><h4 id="ä½¿ç”¨-å»¶è¿Ÿåˆå§‹åŒ–å±æ€§çš„åŸå› "><a href="#ä½¿ç”¨-å»¶è¿Ÿåˆå§‹åŒ–å±æ€§çš„åŸå› " class="headerlink" title="ä½¿ç”¨ å»¶è¿Ÿåˆå§‹åŒ–å±æ€§çš„åŸå› "></a>ä½¿ç”¨ å»¶è¿Ÿåˆå§‹åŒ–å±æ€§çš„åŸå› </h4><blockquote><p>Kotlin é€šå¸¸è¦æ±‚ä½ åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–æ‰€æœ‰å±æ€§ï¼Œå¦‚æœæŸä¸ªå±æ€§æ˜¯å¯ç©ºç±»å‹ï¼Œä½ å°±å¿…é¡»æä¾›ä¸€ä¸ªéç©ºçš„åˆå§‹åŒ–å€¼ã€‚å¦åˆ™ï¼Œä½ å°±å¿…é¡»ä½¿ç”¨å¯ç©ºç±»å‹ã€‚å¦‚æœä½ è¿™æ ·åšï¼Œè¯¥å±æ€§çš„æ¯ä¸€æ¬¡è®¿é—®éƒ½éœ€è¦nullæ£€æŸ¥æˆ–è€…ï¼ï¼è¿ç®—ç¬¦</p></blockquote><p><strong>ä½¿ç”¨éç©ºæ–­è¨€è®¿é—®å¯æ§å±æ€§</strong></p><pre><code class="kotlin">class MyService{    fun performAction():String = &quot;foo&quot;}class MyText{    private var myService : MyService ?= null    // å£°æ˜äº†ä¸€ä¸ªå¯ç©ºç±»å‹åˆå§‹åŒ–ä¸º null    @Before fun setUp(){    // åœ¨ setUpæ–¹æ³•ä¸­æä¾›çœŸæ­£çš„åˆå§‹åŒ–å™¨        myService = MyService()    }    @Test fun testAction(){        Assert.assertEquals(&quot;foo&quot;,myService!!.performAction())    // å¿…é¡»æ³¨æ„å¯ç©ºæ€§ï¼šè¦ä¹ˆç”¨&quot;!!&quot;ï¼Œè¦ä¹ˆç”¨&quot;?.&quot;    }}</code></pre><p><strong>ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–</strong></p><pre><code class="kotlin">class MyService{    fun performAction():String = &quot;foo&quot;}class MyText{    private lateinit var myService : MyService    // å£°æ˜äº†ä¸€ä¸ªä¸éœ€è¦åˆå§‹åŒ–å™¨çš„éç©ºç±»å‹å±æ€§    @Before fun setUp(){    // åœ¨ setUp æ–¹æ³•ä¸­åˆå§‹åŒ– myService        myService = MyService()    }    @Test fun testAction(){        Assert.assertEquals(&quot;foo&quot;,myService.performAction())    // ä¸éœ€è¦ null æ£€æŸ¥ç›´æ¥è®¿é—®å±æ€§    }}</code></pre><p>æ³¨æ„</p><blockquote><p>åˆå§‹åŒ–çš„å±æ€§å¿…é¡»ä¸ºvarï¼Œå› ä¸ºéœ€è¦åœ¨æ„é€ æ–¹æ³•å¤–ä¿®æ”¹å®ƒçš„å€¼ï¼Œä½¿ç”¨valå±æ€§è¢«ç¼–è¯‘æ—¶å¿…é¡»åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–finalç‰‡æ®µã€‚</p><p>å°½ç®¡ myService å±æ€§æ˜¯éç©ºçš„ï¼Œä½ ä¸éœ€è¦åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–å®ƒã€‚åœ¨å±æ€§æ²¡æœ‰è¢«åˆå§‹åŒ–ä¹‹å‰è°ƒç”¨ä¼šå¾—åˆ°å¼‚å¸¸ â€œlateinit property myService has not been initializedâ€ã€‚</p><p>lateinit å±æ€§å¸¸è§çš„ä¸€ç§ç”¨æ³•æ˜¯åœ¨ä¾èµ–æ³¨å…¥ã€‚åœ¨æŸç§æƒ…å†µä¸‹ï¼Œlateinit å±æ€§çš„å€¼æ˜¯è¢«ä¾èµ–æ³¨å…¥æ¡†æ¶ä»å¤–éƒ¨è®¾ç½®çš„ã€‚ä¸ºäº†ä¿è¯å’Œå„ç§ä¾èµ–æ³¨å…¥æ¡†æ¶çš„å…¼å®¹æ€§</p><p>ï¼ŒKotlin ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå’Œ lateinit å±æ€§å…·æœ‰ç›¸åŒå¯è§æ€§çš„å­—æ®µã€‚å¦‚æœå±æ€§çš„å¯è§æ€§æ˜¯publicï¼Œç”Ÿæˆçš„å­—æ®µæ„æ€public</p></blockquote><h1 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h1><h3 id="å­—æ®µå’Œå±æ€§"><a href="#å­—æ®µå’Œå±æ€§" class="headerlink" title="å­—æ®µå’Œå±æ€§"></a>å­—æ®µå’Œå±æ€§</h3><p><a href="https://blog.csdn.net/chenchunlin526/article/details/71424844" target="_blank" rel="noopener">æ·±å…¥ç†è§£Javaä¸­çš„å­—æ®µä¸å±æ€§çš„åŒºåˆ«</a></p><h4 id="å±æ€§å’Œå­—æ®µçš„åŒºåˆ«"><a href="#å±æ€§å’Œå­—æ®µçš„åŒºåˆ«" class="headerlink" title="å±æ€§å’Œå­—æ®µçš„åŒºåˆ«"></a>å±æ€§å’Œå­—æ®µçš„åŒºåˆ«</h4><p>å±æ€§ï¼ˆpropertyï¼‰ï¼Œé€šå¸¸å¯ä»¥ç†è§£ä¸ºget å’Œ set æ–¹æ³•ã€‚</p><p>å­—æ®µï¼ˆfieldï¼‰ï¼Œé€šå¸¸å«åš <strong>ç±»æˆå‘˜</strong>ï¼Œæˆ–è€… <strong>ç±»å˜é‡</strong> ï¼Œæœ‰æ—¶ä¹Ÿå« åŸŸ ï¼Œç†è§£ä¸º æ•°æ®æˆå‘˜ï¼Œç”¨æ¥æ‰¿æ‹…æ•°æ®çš„ã€‚</p><h4 id="å±æ€§å’Œå­—æ®µè¯¦è§£"><a href="#å±æ€§å’Œå­—æ®µè¯¦è§£" class="headerlink" title="å±æ€§å’Œå­—æ®µè¯¦è§£"></a>å±æ€§å’Œå­—æ®µè¯¦è§£</h4><p><strong>å­—æ®µï¼ˆfieldï¼‰</strong></p><p>ç±»æˆå‘˜ï¼ˆå­—æ®µfieldï¼‰ï¼Œé€šå¸¸åœ¨ç±»ä¸­å®šä¹‰æˆå‘˜å˜é‡ä¾‹å¦‚ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200909213136.png" alt=""></p><p>è§£é‡Šä¸ºï¼š<strong>FacebookUserç±»æ‹¥æœ‰æˆå‘˜å˜é‡nicknameï¼Œæœ‰ä¸€ä¸ªå­—æ®µ nicknameã€‚</strong></p><p>å­—æ®µä¸€èˆ¬ç”¨äºæ‰¿æ‹…æ•°æ®ï¼Œæ‰€ä»¥ä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºç§æœ‰çš„ã€‚</p><p>å­—æ®µå’Œå¸¸é‡æè¿°çš„ç±»çš„æ•°æ®ï¼ˆåŸŸï¼‰ï¼Œå½“è¿™äº›æ•°æ®çš„æŸäº›éƒ¨åˆ†ä¸è¿è¡Œå¤–ç•Œè®¿é—®æ—¶ï¼Œ<strong>æ ¹æ®â€å¯¹è±¡å°è£…â€œåŸåˆ™ï¼Œåº”è¯¥å°½é‡é¿å…å°†ç±»çš„å­—æ®µä»¥å…¬æœ‰æ–¹å¼æä¾›ç»™å¤–éƒ¨</strong>ã€‚é™¤å•¦finalä¿®é¥°çš„å¸¸é‡ã€‚</p><p><strong>å±æ€§ï¼ˆpropertyï¼‰</strong></p><p><strong>å±æ€§åªå±€é™äºç±»ä¸­æ–¹æ³•çš„å£°æ˜ï¼Œå¹¶ä¸ä¸ç±»ä¸­å…¶å®ƒæˆå‘˜ç›¸å…³</strong>ï¼Œæ•°æ®JavaBeanèŒƒç•´ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200909220317.png" alt=""></p><p>è¿™æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸€ä¸ªå­—æ®µã€‚</p><p>æ€»ç»“ï¼šå±æ€§æ˜¯å¯¹å­—æ®µçš„å°è£…ï¼Œä¾›å¤–éƒ¨è®¿é—®ã€‚é€šå¸¸<strong>å±æ€§</strong>å°†å¯¹åº”çš„<strong>ç§æœ‰å­—æ®µ</strong>é€šè¿‡å°è£…æˆå…¬å…±å±æ€§ï¼Œä»¥ä¾¿äºå¤–ç•Œè®¿é—®å’Œä¿®æ”¹ã€‚</p><h3 id="Kotlin-thisè¡¨è¾¾å¼"><a href="#Kotlin-thisè¡¨è¾¾å¼" class="headerlink" title="Kotlin thisè¡¨è¾¾å¼"></a>Kotlin thisè¡¨è¾¾å¼</h3><p>ä¸ºäº†è¡¨ç¤ºå½“å‰çš„ <strong>æ¥æ”¶è€…</strong> ä½¿ç”¨ this{:.keyword} è¡¨è¾¾å¼ï¼š</p><ul><li>åœ¨ç±»çš„æˆå‘˜ä¸­ï¼Œthis{:.keyword}æŒ‡çš„æ˜¯å½“å‰å¯¹è±¡</li><li>åœ¨æ‰©å±•å‡½æ•°æˆ–è€…å¸¦æ¥å—è€…çš„å‡½æ•°å­—é¢å€¼ä¸­ï¼Œthis{:.keyword}è¡¨ç¤ºåœ¨ç‚¹å·¦ä¾§çš„æ¥æ”¶è€…å‚æ•°ã€‚</li></ul><p><strong>å¼•ç”¨ï¼š</strong></p><p><a href="https://www.web3.xin/code/2606.html" target="_blank" rel="noopener">Kotlin thisè¡¨è¾¾å¼</a></p><p>â€‹    </p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-8-3-1.gif" alt="å¦‚æœæœ‰äº›æ–¹æ³•æ²¡æœ‰è¯¦ç»†è¯´æ˜ä½ å¯ä»¥è‡ªè¡Œæœç´¢æŸ¥çœ‹"></p>]]></content>
      
      
      <categories>
          
          <category> Kotlin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RecyclerViewåœ¨Kotlinä¸­çš„ä½¿ç”¨</title>
      <link href="/2020/07/26/RecyclerView%E5%9C%A8Kotlin%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2020/07/26/RecyclerView%E5%9C%A8Kotlin%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ›å»ºé¡¹ç›®RecyclerExampleé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®RecyclerExampleé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®RecyclerExampleé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®RecyclerExampleé¡¹ç›®</h2><h3 id="éœ€è¦å¼•å…¥ä¾èµ–"><a href="#éœ€è¦å¼•å…¥ä¾èµ–" class="headerlink" title="éœ€è¦å¼•å…¥ä¾èµ–"></a>éœ€è¦å¼•å…¥ä¾èµ–</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595735673809.png" alt=""></p><h3 id="éœ€è¦å­é¡¹å¸ƒå±€"><a href="#éœ€è¦å­é¡¹å¸ƒå±€" class="headerlink" title="éœ€è¦å­é¡¹å¸ƒå±€"></a>éœ€è¦å­é¡¹å¸ƒå±€</h3><p>åœ¨ â€œRecyclerViewExample\app\src\main\res\layoutâ€ä¸‹åˆ›å»º â€œexample_item.xmlâ€ ğŸ‘‡</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    android:layout_width=&quot;match_parent&quot;    android:layout_height=&quot;wrap_content&quot;&gt;    &lt;RelativeLayout        android:layout_width=&quot;match_parent&quot;        android:layout_height=&quot;match_parent&quot;        android:padding=&quot;8dp&quot;&gt;        &lt;ImageView            android:id=&quot;@+id/image_view&quot;            android:layout_width=&quot;50dp&quot;            android:layout_height=&quot;50dp&quot;            android:layout_marginEnd=&quot;8dp&quot;            android:src=&quot;@drawable/ic_baseline_android_24&quot; /&gt;        &lt;TextView            android:id=&quot;@+id/text_view_1&quot;            android:layout_width=&quot;wrap_content&quot;            android:layout_height=&quot;wrap_content&quot;            android:layout_toEndOf=&quot;@+id/image_view&quot;            android:text=&quot;Line 1&quot;            android:textColor=&quot;@color/cardview_dark_background&quot;            android:textSize=&quot;18sp&quot; /&gt;        &lt;TextView            android:id=&quot;@+id/text_view_2&quot;            android:layout_width=&quot;wrap_content&quot;            android:layout_height=&quot;wrap_content&quot;            android:layout_below=&quot;@+id/text_view_1&quot;            android:layout_toEndOf=&quot;@+id/image_view&quot;            android:text=&quot;Line 2&quot; /&gt;    &lt;/RelativeLayout&gt;&lt;/androidx.cardview.widget.CardView&gt;</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595735521036.png" alt=""></p><p>éœ€è¦è‡ªå®šä¹‰çš„å›¾ç‰‡ â†“</p><p>é€‰ä¸­â€drawableâ€æ–‡ä»¶å¤¹,é€‰ä¸­â€Newâ€,é€‰ä¸­â€Vactor Assetâ€</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200915232142.png" alt=""></p><p>é€‰ä¸­â€Clip Artâ€ é€‰ä¸­å–œæ¬¢çš„å›¾å½¢å°±å¯ä»¥äº†ã€‚ç‚¹å‡» â€œNextâ€,å†ç‚¹å‡» Finishã€‚ åˆ›å»ºä¸‰ä¸ªã€‚</p><h3 id="éœ€è¦-æ•°æ®ç±»ğŸ‘‡"><a href="#éœ€è¦-æ•°æ®ç±»ğŸ‘‡" class="headerlink" title="éœ€è¦ æ•°æ®ç±»ğŸ‘‡"></a>éœ€è¦ æ•°æ®ç±»ğŸ‘‡</h3><p>åœ¨ â€œrecyclerviewexampleâ€ åŒ…ä¸‹</p><pre><code>/** *   @DATE : 2020/7/26 *   @Time : 11:42 *   @By : TheCara *   &quot;data&quot; æ•°æ®ç±» */data class Exampleitem(val imageResource: Int, val text1: String, val text2: String)</code></pre><h3 id="éœ€è¦é€‚é…å™¨"><a href="#éœ€è¦é€‚é…å™¨" class="headerlink" title="éœ€è¦é€‚é…å™¨"></a>éœ€è¦é€‚é…å™¨</h3><p>éœ€è¦é€‚é…å™¨â€ExampleAdapterâ€</p><pre><code>/** *   @DATE : 2020/7/27 *   @Time : 15:54 *   @By : TheCara *   éœ€è¦ç»§æ‰¿RecyclerView.Adapterç±»å‹ *   éœ€è¦å†…åµŒç±»ç»§æ‰¿RecyclerView.ViewHolderç±»å‹ */class ExampleAdapter(private val exampleList: List&lt;ExampleItem&gt;) :    RecyclerView.Adapter&lt;ExampleAdapter.ExampleViewHolder&gt;() {    // å…³é”®æ–¹æ³•ï¼Œç”¨äºç¡®å®šåˆ—è¡¨é¡¹    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ExampleViewHolder {        val view = LayoutInflater.from(parent.context).inflate(R.layout.example_item, parent, false)        return ExampleViewHolder(view)    }    override fun getItemCount() = exampleList.size    // å°†æ•°æ®å’Œå®¹å™¨ç»‘å®š    override fun onBindViewHolder(holder: ExampleViewHolder, position: Int) {        val currenItem = exampleList[position]        holder.imageView.setImageResource(currenItem.imageResource)        holder.textView1.setText(currenItem.text1)        holder.textView2.setText(currenItem.text1)    }    // è·å¾—æ¯ä¸ªæ§ä»¶çš„å®ä¾‹,éœ€è¦ExampleViewHolderçš„å‚æ•°(å­é¡¹å¸ƒå±€)ä½œä¸ºRecyclerView.ViewHolder()ç”¨ä½œå®ä¾‹åŒ–    class ExampleViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {        val imageView: ImageView = itemView.image_view        val textView1: TextView = itemView.text_view_1        val textView2: TextView = itemView.text_view_2    }}</code></pre><p>åœ¨â€MainActivityâ€ä¿®æ”¹</p><pre><code>class MainActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        val listExample = generateDummyList(500)        recycler_view.adapter = ExampleAdapter(listExample)        // è®¾ç½®RecyclerViewçš„å¸ƒå±€ç®¡ç†å™¨        recycler_view.layoutManager = LinearLayoutManager(this)        // ç¡®ä¿RecyclerViewçš„å°ºå¯¸æ˜¯ä¸€ä¸ªå¸¸æ•°        recycler_view.setHasFixedSize(true)    }    // è·å¾—å¸ƒå±€ä¸­çš„æ•°æ®    private fun generateDummyList(size: Int): List&lt;ExampleItem&gt; {        val list = ArrayList&lt;ExampleItem&gt;()        // ä½¿â½¤åŒºé—´&quot;until&quot;        for (i in 0 until size) {            val drawable = when (i % 4) {                0 -&gt; R.drawable.ic_baseline_add_to_home_screen_24                1 -&gt; R.drawable.ic_baseline_airline_seat_flat_angled_24                2 -&gt; R.drawable.ic_baseline_airline_seat_recline_extra_24                else -&gt; R.drawable.ic_baseline_android_24            }            val item = ExampleItem(drawable, &quot;Line $i&quot;, &quot;Line 2&quot;)            list += item        }        return list    }}</code></pre><p>ğŸ‘†â€setHasFixedSize()â€æ–¹æ³•:å½“æˆ‘ä»¬ç¡®å®šItemçš„æ”¹å˜ä¸ä¼šå½±å“RecyclerViewçš„å®½é«˜æ—¶,å¯ä»¥<strong>è®¾ç½®è¿™ä¸ªæ–¹æ³•</strong>,å¹¶ä¸”Adapterçš„å¢åˆ æ–¹æ³•å»åˆ·æ–°RecyclerView,è€Œä¸æ˜¯é€šè¿‡notifyDataSetChanged()ã€‚(å…¶å®å¯ä»¥ç›´æ¥è®¾ç½®ä¸ºtrueï¼Œå½“éœ€è¦æ”¹å˜å®½é«˜çš„æ—¶å€™å°±ç”¨notifyDataSetChanged()å»æ•´ä½“åˆ·æ–°ä¸€ä¸‹)</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595841353310.png" alt=""></p><h2 id="æ·»åŠ -å¢åˆ -åŠŸèƒ½"><a href="#æ·»åŠ -å¢åˆ -åŠŸèƒ½" class="headerlink" title="æ·»åŠ  å¢åˆ  åŠŸèƒ½"></a>æ·»åŠ  å¢åˆ  åŠŸèƒ½</h2><h2 id="ä½¿ç”¨RecyclerViewåœ¨æ¡ˆä¾‹ä¸­éœ€è¦ä»€ä¹ˆ"><a href="#ä½¿ç”¨RecyclerViewåœ¨æ¡ˆä¾‹ä¸­éœ€è¦ä»€ä¹ˆ" class="headerlink" title="ä½¿ç”¨RecyclerViewåœ¨æ¡ˆä¾‹ä¸­éœ€è¦ä»€ä¹ˆ"></a>ä½¿ç”¨RecyclerViewåœ¨æ¡ˆä¾‹ä¸­éœ€è¦ä»€ä¹ˆ</h2><ul><li>éœ€è¦å¼•å…¥ä¾èµ–</li><li>éœ€è¦é€‚é…å™¨</li><li>éœ€è¦ItemLayout</li><li>éœ€è¦æ•°æ®ç±»</li><li>æ§åˆ¶å™¨éœ€è¦åˆå§‹åŒ–</li></ul>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> RecyclerView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataBindingçš„ä½¿ç”¨</title>
      <link href="/2020/07/24/DataBinding%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2020/07/24/DataBinding%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="DataBinding-é…åˆ-LiveData-å’Œ-ViewModel-ä½¿ç”¨"><a href="#DataBinding-é…åˆ-LiveData-å’Œ-ViewModel-ä½¿ç”¨" class="headerlink" title="DataBinding é…åˆ LiveData å’Œ ViewModel ä½¿ç”¨"></a>DataBinding é…åˆ LiveData å’Œ ViewModel ä½¿ç”¨</h2><ol><li>éœ€è¦åˆ›å»ºMyViewModelç±»,ç»§æ‰¿ViewModel</li><li>éœ€è¦æ·»åŠ DataBindingçš„gradle(app)é…ç½®ä¿¡æ¯</li></ol><p>æ·»åŠ é…ç½®ä¿¡æ¯ åœ¨gradle(app)ä¸­æ·»åŠ  â†“</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-25_10-40-29.png" alt=""></p><h4 id="åˆ›å»ºMyViewModel-â†“"><a href="#åˆ›å»ºMyViewModel-â†“" class="headerlink" title="åˆ›å»ºMyViewModel â†“"></a>åˆ›å»ºMyViewModel â†“</h4><pre><code>/** *   @DATE : 2020/7/24 *   @Time : 21:10 *   @By : TheCara *  è´Ÿè´£å¤„ç†ç•Œé¢æ•°æ® *  éœ€è¦ LiveData æ¥è§‚å¯Ÿæ•°æ®åˆ·æ–°UI */class MyViewModel : ViewModel() {    var numberLiveData = MutableLiveData&lt;Int&gt;()    init {        numberLiveData.value = 0    }    // åŠ å€¼    fun add() {        numberLiveData?.value = numberLiveData?.value?.plus(1)    }}</code></pre><h4 id="ä¿®æ”¹MainActivity-â†“"><a href="#ä¿®æ”¹MainActivity-â†“" class="headerlink" title="ä¿®æ”¹MainActivity â†“"></a>ä¿®æ”¹MainActivity â†“</h4><pre><code>/** éœ€è¦ ActivityMainBinding ç±»ç”¨æ¥ç»‘å®šæ•°æ®* éœ€è¦ MyViewModel æ¥å’Œ ActivityMainBinding ç»‘å®šæ•°æ®* */class MainActivity : AppCompatActivity() {    var myViewModel: MyViewModel? = null    // è®¾ç½®ç±»å‹ä¸ºå¯ç©ºç±»å‹    var activityMainBinding: ActivityMainBinding? = null    //ActivityMainBinding æ˜¯åœ¨DataBingdingé…ç½®å®Œæˆä¹‹åè‡ªåŠ¨ç”Ÿæˆçš„    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        // åˆå§‹åŒ–DataBindingUtil,ç”¨æ¥ç»‘å®šå¸ƒå±€        activityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)        // åˆå§‹åŒ–æ•°æ®ç±»        var myViewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)        activityMainBinding?.myViewModel=myViewModel        activityMainBinding?.lifecycleOwner = this    }}</code></pre><h4 id="å¸ƒå±€-ä½¿ç”¨-â€œdataâ€-æ ‡ç­¾-â†“"><a href="#å¸ƒå±€-ä½¿ç”¨-â€œdataâ€-æ ‡ç­¾-â†“" class="headerlink" title="å¸ƒå±€ ä½¿ç”¨ â€œdataâ€ æ ‡ç­¾ â†“"></a>å¸ƒå±€ ä½¿ç”¨ â€œdataâ€ æ ‡ç­¾ â†“</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595645673021.png" alt=""></p><p>éœ€è¦ layout å¸ƒå±€ä¿å­˜å¸ƒå±€,éœ€è¦ â€œdata â€œæ ‡ç­¾ä¿å­˜ç»‘å®šæ¥çš„æ•°æ®,éœ€è¦ â€œvariableâ€ æ ‡ç­¾è®¾ç½®å˜é‡ã€‚</p><h4 id="éœ€è¦ä½¿ç”¨-â€œ-â€-æ–¹å¼è®¿é—®å˜é‡-â†“"><a href="#éœ€è¦ä½¿ç”¨-â€œ-â€-æ–¹å¼è®¿é—®å˜é‡-â†“" class="headerlink" title="éœ€è¦ä½¿ç”¨ â€œ@{}â€ æ–¹å¼è®¿é—®å˜é‡ â†“"></a>éœ€è¦ä½¿ç”¨ â€œ@{}â€ æ–¹å¼è®¿é—®å˜é‡ â†“</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595645903565.png" alt=""></p><h4 id="éœ€è¦ä½¿ç”¨-â€œ-å‚æ•°-gt-æ–¹æ³•-å‚æ•°-â€è®¿é—®æ–¹æ³•-â†“"><a href="#éœ€è¦ä½¿ç”¨-â€œ-å‚æ•°-gt-æ–¹æ³•-å‚æ•°-â€è®¿é—®æ–¹æ³•-â†“" class="headerlink" title="éœ€è¦ä½¿ç”¨ â€œ@{(å‚æ•°)-&gt;æ–¹æ³•(å‚æ•°)}â€è®¿é—®æ–¹æ³• â†“"></a>éœ€è¦ä½¿ç”¨ â€œ@{(å‚æ•°)-&gt;æ–¹æ³•(å‚æ•°)}â€è®¿é—®æ–¹æ³• â†“</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595645888188.png" alt=""></p><p>demo â†“</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595646636793.png" alt=""></p><h2 id="ä»€ä¹ˆæ˜¯DataBinding"><a href="#ä»€ä¹ˆæ˜¯DataBinding" class="headerlink" title="ä»€ä¹ˆæ˜¯DataBinding"></a>ä»€ä¹ˆæ˜¯DataBinding</h2><p>DataBindingæ˜¯è°·æ­Œåœ¨2015å¹´I/Oå¼€å‘è€…å¤§ä¼šä¸Šå‘å¸ƒçš„ä¸€ä¸ªæ•°æ®ç»‘å®šæ¡†æ¶,ä¹Ÿå°±æ˜¯æŠŠæ•°æ®æ†ç»‘åˆ°UIä¸Š,DataBindingå¯ä»¥è®©Activityå’ŒFragmentå‡å°‘é€»è¾‘,ä½¿å…¶æ–¹ä¾¿ç»´æŠ¤ã€‚åŒæ—¶ä¹Ÿèƒ½æé«˜æ€§èƒ½,é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸,åŒæ—¶DataBindingä¹Ÿæ”¯æŒåŒå‘ç»‘å®š,ä½¿UIçš„æ”¹å˜åŒæ—¶åŒæ­¥åˆ°æ•°æ®ä¸Š,DataBindingä¸æ˜¯MVVMæ¶æ„çš„å¿…éœ€å“ã€‚</p><h2 id="DataBindingæœ‰å“ªäº›ä¼˜ç¼ºç‚¹"><a href="#DataBindingæœ‰å“ªäº›ä¼˜ç¼ºç‚¹" class="headerlink" title="DataBindingæœ‰å“ªäº›ä¼˜ç¼ºç‚¹"></a>DataBindingæœ‰å“ªäº›ä¼˜ç¼ºç‚¹</h2><p><strong>ä¼˜ç‚¹</strong></p><ol><li>å‡å°‘Activityå’ŒFragmentçš„é€»è¾‘å¤„ç†,ä½¿Activityå’ŒFragmenté€»è¾‘æ›´åŠ æ¸…æ™°ã€‚</li><li>æé«˜æ€§èƒ½,é¿å…å†…å­˜æ³„æ¼ä»¥åŠç©ºæŒ‡é’ˆ</li><li>æ”¯æŒåŒå‘ç»‘å®š,å½“Viewæ”¹å˜çš„æ—¶å€™ä¼šé€šçŸ¥Model,å½“Modelæ”¹å˜æ—¶ä¼šé€šçŸ¥View</li></ol><p><strong>ç¼ºç‚¹</strong></p><ol><li>bugéš¾å®šä½,å‡ºç°bugæ—¶æ— æ³•å®šä½åˆ°æ˜¯Viewä¸­çš„bugè¿˜æ˜¯Modelä¸­çš„bug,åˆæˆ–æ˜¯ç¼–å†™çš„é€»è¾‘bugã€‚</li><li>åŒå‘ç»‘å®šä¸åˆ©äºViewçš„å¤ç”¨</li></ol><p>å¼•ç”¨:<a href="https://juejin.im/post/5edb12346fb9a047da364349#heading-2" target="_blank" rel="noopener">https://juejin.im/post/5edb12346fb9a047da364349#heading-2</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> DataBinding </tag>
            
            <tag> Kotlin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LiveDataä¸ViewModel</title>
      <link href="/2020/07/20/LiveData/"/>
      <url>/2020/07/20/LiveData/</url>
      
        <content type="html"><![CDATA[<h4 id="å•ç‹¬ä½¿ç”¨LiveData"><a href="#å•ç‹¬ä½¿ç”¨LiveData" class="headerlink" title="å•ç‹¬ä½¿ç”¨LiveData"></a>å•ç‹¬ä½¿ç”¨LiveData</h4><ol><li>åˆ›å»ºLiveDataå®ä¾‹ã€‚æŒæœ‰ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ int ,Stringã€‚</li><li>åˆ›å»ºä¸€ä¸ªObserverå¯¹è±¡,å¹¶ä¸”å®ç°onChanged()æ–¹æ³•ã€‚åœ¨onChanged()æ–¹æ³•ç±»å¯ä»¥è¿›è¡ŒUIçš„åˆ·æ–°ç­‰ã€‚</li><li>ä½¿ç”¨LiveDataå®ä¾‹çš„observe(â€¦,â€¦)æ–¹æ³•,å°†Observerå¯¹è±¡æ·»åŠ åˆ°LiveDataä¸­ã€‚æ–¹æ³•åŸå‹ä¸º <strong>observe(LifecycleOwner owner,Observer observer)</strong>,ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯LifecycleOwnerå¯¹è±¡ï¼Œä¸ºLiveDataèƒ½å¤Ÿç›‘å¬ç”Ÿå‘½å‘¨æœŸçš„èƒ½åŠ›æ¥æºã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºæˆ‘ä»¬çš„ç›‘å¬å¯¹è±¡ã€‚</li></ol><p>æ·»åŠ LiveDataå’ŒViewModelçš„ä¾èµ– â†“</p><pre><code>// æ·»åŠ LiveDataå’ŒViewModelçš„ä¾èµ–implementation &#39;android.arch.lifecycle:extensions:1.1.1&#39;</code></pre><p>ç•Œé¢å‡†å¤‡æŒ‰é’®ç”¨æ¥å¼€å¯,ä½¿å¾—UIåˆ·æ–° â†“</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-20_15-48-40.png" alt=""></p><p> MainActivityä¸­çš„ä»£ç  â†“</p><pre><code>class MainActivity : AppCompatActivity() {    val TAG = &quot;MainActivity&quot;    val btnStart = btn_start    val mTvNumber = tv_number    var mNumberLiveData: MutableLiveData&lt;Int&gt;? = null // å£°æ˜å˜é‡    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        mNumberLiveData = MutableLiveData()        btnStart.setOnClickListener { view: View? -&gt;            thread {                var number = 0                while (number &lt; 5) {                    mNumberLiveData?.postValue(number)                    Log.d(TAG, &quot;setOnClickListener&quot; + number)                    Thread.sleep(3000)                    number++                }            }        }        mNumberLiveData?.observe(this, object : Observer&lt;Int&gt; {            override fun onChanged(t: Int?) {                mTvNumber.setText(&quot;&quot; + t)                Log.d(TAG, &quot;onChanged&quot; + t)            }        })    }}</code></pre><p>ç•Œé¢çš„TextViewä¼šæ ¹æ®æ•°æ®è¿›è¡Œåˆ·æ–°ã€‚</p><h4 id="å•ç‹¬ä½¿ç”¨ViewModel"><a href="#å•ç‹¬ä½¿ç”¨ViewModel" class="headerlink" title="å•ç‹¬ä½¿ç”¨ViewModel"></a>å•ç‹¬ä½¿ç”¨ViewModel</h4><ol><li>åˆ›å»ºViewModelçš„ç»§æ‰¿ç±»</li><li>åœ¨æ§åˆ¶å™¨ä¸­å®ä¾‹åŒ–ç»§æ‰¿ç±»</li></ol><p>åˆ›å»ºViewModelç»§æ‰¿ç±» â†“</p><pre><code>class MyViewModel() : ViewModel() {    var number = 0}</code></pre><p>ä¿®æ”¹æ§åˆ¶å™¨ â†“</p><pre><code>class MainActivity : AppCompatActivity() {    val TAG = &quot;MainActivity&quot;    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        // ViewModelProvider.of() è·å¾—MyViewModelæŒä¹…ç±»ç”¨æ¥ä¿å­˜UIæ•°æ®        // &quot;MyViewModel::class.java&quot; åå°„å¼•ç”¨ç±»å‹        var myViewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)        tv_number.setText(myViewModel.number.toString())        btn_start.setOnClickListener {            myViewModel.number++            tv_number.setText(myViewModel.number.toString())        }    }}</code></pre><p>ç®€å•çš„ç•Œé¢æ ·å¼ â†“</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-21_19-16-39.png" alt=""></p><h4 id="LiveDataå’ŒViewModelé…åˆä½¿ç”¨"><a href="#LiveDataå’ŒViewModelé…åˆä½¿ç”¨" class="headerlink" title="LiveDataå’ŒViewModelé…åˆä½¿ç”¨"></a>LiveDataå’ŒViewModelé…åˆä½¿ç”¨</h4><ol><li>éœ€è¦æœ‰ViewModelçš„ç»§æ‰¿ç±»</li><li>éœ€è¦åœ¨ViewModelçš„ç»§æ‰¿ç±»ä¸­å®ä¾‹åŒ–LiveDataç±»å‹</li><li>éœ€è¦åœ¨æ§åˆ¶å™¨ä¸­åˆå§‹åŒ–ViewModelçš„ç»§æ‰¿ç±»</li><li>éœ€è¦è°ƒç”¨LiveDataçš„observeçš„æ–¹æ³•</li></ol><pre><code>class MyViewModel : ViewModel() {    var mutableLiveData = MutableLiveData&lt;Int&gt;()    init {        mutableLiveData.value=0    }    fun getLive(): MutableLiveData&lt;Int&gt; {        return mutableLiveData    }    fun addNumber(number: Int) {        mutableLiveData?.value=number+ mutableLiveData.value!!    }}</code></pre><pre><code>class MainActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        // è·å¾—MyViewModelå®ä¾‹        var myViewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)        btn_addone.setOnClickListener {            myViewModel?.addNumber(1)        }        myViewModel?.getLive()?.observe(this, object : Observer&lt;Int&gt; {            override fun onChanged(t: Int?) {                tv_number.setText(t.toString())            }        })    }}</code></pre><h4 id="ä»€ä¹ˆæ˜¯LiveData"><a href="#ä»€ä¹ˆæ˜¯LiveData" class="headerlink" title="ä»€ä¹ˆæ˜¯LiveData"></a>ä»€ä¹ˆæ˜¯LiveData</h4><p>LiveDataæ˜¯ä¸€ä¸ªå¯ä»¥è§‚å¯Ÿçš„æ•°æ®æŒæœ‰ç±»,ä½†æ˜¯ä¸åŒäºé€šå¸¸çš„è§‚å¯Ÿè€…,å®ƒå…·æœ‰å£°æ˜å‘¨æœŸçš„æ„ŸçŸ¥èƒ½åŠ›ã€‚é€šä¿—äº›è®²,å®ƒæ‰€æŒæœ‰çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶,å¹¶ä¸”Lifecycleå¯¹è±¡è¿˜å¤„äºæ´»è·ƒçŠ¶æ€,LiveDataå°†ç«‹å³é€šçŸ¥è§‚å¯Ÿè€…æ•°æ®å‘ç”Ÿäº†å˜åŒ–ã€‚ç›¸æ¯”äºä¸åŒçš„è§‚å¯Ÿè€…å®ƒå¤šäº†ç”Ÿå‘½å‘¨æœŸå’Œæ„ŸçŸ¥èƒ½åŠ›ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯ViewModel"><a href="#ä»€ä¹ˆæ˜¯ViewModel" class="headerlink" title="ä»€ä¹ˆæ˜¯ViewModel"></a>ä»€ä¹ˆæ˜¯ViewModel</h4><p>ç®€å•è¯´ViewModelæ˜¯ä¸€ç§ç”¨æ¥å­˜å‚¨å’Œç®¡ç†UIç›¸å…³æ•°æ®çš„ç±»ã€‚ä½†æ˜¯ä¸å…¶ä»–çš„Modelä¸åŒçš„æ˜¯,ä»–æ”¯æŒåœ¨ç³»ç»Ÿæ”¹å˜æ—¶ä¿å­˜æ•°æ®ã€‚</p><p>å½“å±å¹•å‘ç”Ÿæ”¹å˜æ—¶,ä¼šå¯¼è‡´Activity/Fragmenté‡æ–°ç»˜åˆ¶,ä¼šå¯¼è‡´æˆ‘ä»¬ä¹‹å‰çš„æ•°æ®ä¸¢å¤±ã€‚æ¯”å¦‚,åœ¨EditTextä¸­è¾“å…¥äº†å†…å®¹,ä½†æ˜¯å½“å±å¹•æ‰­è½¬æ—¶,ä¼šå‘ç°editTextä¸­çš„æ–‡æœ¬è¢«æ¸…ç©ºäº†ã€‚</p><p>å½“å¯¹äºä¸€ä¸‹ç®€å•çš„æ•°æ®,æˆ‘ä»¬å¯ä»¥é€šè¿‡Activityçš„onSaveInstanceState()æ–¹æ³•ä¸­å‚¨å­˜,ç„¶åé€šè¿‡onCreate()ä¸­è¿›è¡Œæ¢å¤,ä½†æ˜¯è¿™ç§æ–¹å¼åªé€‚åˆå­˜å‚¨å°‘é‡çš„æ•°æ®ï¼Œå¹¶ä¸”æ˜¯èƒ½è¢«åºåˆ—åŒ–å’Œååºåˆ—çš„æ•°æ®ã€‚è€Œå¯¹é‚£äº›å¤§é‡çš„æ•°æ®åˆ™ä¸é€‚ç”¨ã€‚</p><p>æ­¤å¤–,å®ƒä¹Ÿä½¿Viewçš„æ•°æ®æŒæœ‰è€…å’ŒViewcontrolleré€»è¾‘æ›´åŠ åˆ†ç¦»ï¼Œä¾¿äºè§£è€¦å’Œæµ‹è¯•ã€‚</p><p>å¼•ç”¨:<a href="https://juejin.im/post/5ca9f9156fb9a05e3d0a8aea#heading-6" target="_blank" rel="noopener">https://juejin.im/post/5ca9f9156fb9a05e3d0a8aea#heading-6</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Kotlin </tag>
            
            <tag> LiveData </tag>
            
            <tag> ViewModel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git è®²è§£</title>
      <link href="/2020/07/19/git%E8%AE%BE%E7%BD%AE%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F/"/>
      <url>/2020/07/19/git%E8%AE%BE%E7%BD%AE%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¿®æ”¹æäº¤æ–‡ä»¶å¤§å°"><a href="#ä¿®æ”¹æäº¤æ–‡ä»¶å¤§å°" class="headerlink" title="ä¿®æ”¹æäº¤æ–‡ä»¶å¤§å°"></a>ä¿®æ”¹æäº¤æ–‡ä»¶å¤§å°</h1><p>åœ¨è¦æäº¤çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹ä½¿ç”¨ã€‚</p><pre><code>$ git config --local http.postBuffer 524288000</code></pre><p>è®¾ç½®ä¸º500MBã€‚</p><h1 id="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯"><a href="#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯"></a>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</h1><pre><code>git branch</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923155804.png" alt="æœ¬åœ°çš„ä¸¤ä¸ªåˆ†æ”¯"></p><h1 id="æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯"><a href="#æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯"></a>æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯</h1><pre><code>git branch -r</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923155838.png" alt="è¿œç¨‹ä»“åº“çš„åˆ†æ”¯"></p><h1 id="æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“"><a href="#æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“"></a>æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“</h1><pre><code>git branch -a</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923160933.png" alt="æœ¬åœ°å’Œè¿œç¨‹å…±æœ‰ä»“åº“"></p><h1 id="åˆ›å»ºæœ¬åœ°åˆ†æ”¯"><a href="#åˆ›å»ºæœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ›å»ºæœ¬åœ°åˆ†æ”¯"></a>åˆ›å»ºæœ¬åœ°åˆ†æ”¯</h1><pre><code>git branch annotationVersion</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923120947.png" alt="åˆ›å»ºäº†æœ¬åœ°åˆ†æ”¯"></p><h1 id="åˆ‡æ¢åˆ°åˆ›å»ºçš„åˆ†æ”¯"><a href="#åˆ‡æ¢åˆ°åˆ›å»ºçš„åˆ†æ”¯" class="headerlink" title="åˆ‡æ¢åˆ°åˆ›å»ºçš„åˆ†æ”¯"></a>åˆ‡æ¢åˆ°åˆ›å»ºçš„åˆ†æ”¯</h1><pre><code>git checkout åˆ†æ”¯</code></pre><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923121359.png" alt="åˆ‡æ¢åˆ°åˆ›å»ºçš„ annotationVersion åˆ†æ”¯"></p><h1 id="æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹åˆ†æ”¯"><a href="#æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹åˆ†æ”¯"></a>æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹åˆ†æ”¯</h1><p><strong>åˆ‡æ¢åˆ°åˆ›å»ºçš„åˆ†æ”¯</strong>ï¼ˆannotationVersionï¼‰ã€‚</p><pre><code>git push origin annotationVersion</code></pre><p>å¦‚æœ<strong>è¿œç¨‹ä»“åº“</strong>æ²¡æœ‰è¿™ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªè¯¥åˆ†æ”¯ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923153643.png" alt="ç”±äºè¿œç¨‹ä»“åº“æ²¡æœ‰æœ¬åœ°çš„åˆ†æ”¯åœ¨pushæ—¶è‡ªåŠ¨åˆ›å»ºäº†annotationVersionåˆ†æ”¯"></p><h1 id="æœ¬åœ°è·å¾—ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯"><a href="#æœ¬åœ°è·å¾—ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯" class="headerlink" title="æœ¬åœ°è·å¾—ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯"></a>æœ¬åœ°è·å¾—ä¸€ä¸ªè¿œç¨‹åˆ†æ”¯</h1><p>ä½¿ç”¨å‘½ä»¤</p><pre><code>git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;ä¾‹å¦‚git pull origin v1.0:v1.0</code></pre><p>pull äº†<strong>è¿œç¨‹ä»“åº“çš„v1.0åˆ†æ”¯</strong>æœ¬åœ°å‘½å<strong>ä¸ºv1.0</strong></p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923172540.png" alt="pull å®Œæˆ"></p><h1 id="åˆå¹¶æœ¬åœ°ä¸¤ä¸ªåˆ†æ”¯"><a href="#åˆå¹¶æœ¬åœ°ä¸¤ä¸ªåˆ†æ”¯" class="headerlink" title="åˆå¹¶æœ¬åœ°ä¸¤ä¸ªåˆ†æ”¯"></a>åˆå¹¶æœ¬åœ°ä¸¤ä¸ªåˆ†æ”¯</h1><p>å¦‚æœå½“å‰åˆ†æ”¯ï¼ˆannotationVersionï¼‰åˆ†æ”¯ï¼Œæƒ³ä¸è¿œç¨‹åˆ†æ”¯ master åˆå¹¶ï¼ˆmergeï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>åˆ‡æ¢åˆ° master åˆ†æ”¯ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923161205.png" alt="masteråˆ†æ”¯"></p><p>åœ¨ master åˆ†æ”¯åˆå¹¶å¦ä¸€ä¸ªåˆ†æ”¯ï¼ˆannotationVersionï¼‰ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923161241.png" alt="åˆå¹¶å®Œæˆ"></p><p>éšåå¯ä»¥å°†masteråˆ†æ”¯ push æ‰ï¼ˆç”¨æ¥æäº¤ä¸¤ä¸ªåˆå¹¶äº†ä»“åº“ï¼‰ï¼š</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20200923161838.png" alt="pushå®Œæˆ"></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-theme-materyä½¿ç”¨æ‰‹å†Œ</title>
      <link href="/2020/07/19/hexo-theme-%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
      <url>/2020/07/19/hexo-theme-%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¿®æ”¹å¤´éƒ¨çš„æ¸å˜é¢œè‰²"><a href="#ä¿®æ”¹å¤´éƒ¨çš„æ¸å˜é¢œè‰²" class="headerlink" title="ä¿®æ”¹å¤´éƒ¨çš„æ¸å˜é¢œè‰²"></a>ä¿®æ”¹å¤´éƒ¨çš„æ¸å˜é¢œè‰²</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-19_18-44-57.png" alt=""></p><p>ä¿®æ”¹è·Ÿç›®å½•ä¸‹çš„ themes\hexo-theme-matery\source\css\matery.css æ–‡ä»¶ã€‚ä¿®æ”¹â€bg-colorâ€å³å¯ã€‚</p><h4 id="ä¿®æ”¹åº•éƒ¨çš„åŠ è½½è¿›åº¦æ¡"><a href="#ä¿®æ”¹åº•éƒ¨çš„åŠ è½½è¿›åº¦æ¡" class="headerlink" title="ä¿®æ”¹åº•éƒ¨çš„åŠ è½½è¿›åº¦æ¡"></a>ä¿®æ”¹åº•éƒ¨çš„åŠ è½½è¿›åº¦æ¡</h4><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-19_18-47-15.png" alt=""></p><p>ä¿®æ”¹â€progress-barâ€å³å¯ã€‚</p><h4 id="æ·»åŠ æœç´¢åŠŸèƒ½"><a href="#æ·»åŠ æœç´¢åŠŸèƒ½" class="headerlink" title="æ·»åŠ æœç´¢åŠŸèƒ½"></a>æ·»åŠ æœç´¢åŠŸèƒ½</h4><p>ä¸‹è½½æ’ä»¶,ä¿®æ”¹é…ç½®å³å¯ã€‚</p><pre><code>npm install hexo-generator-search --save</code></pre><p>åœ¨æ ¹ç›®å½•ä¸‹å®‰è£…æ’ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/Snipaste_2020-07-20_08-57-52.png" alt=""></p><p>ä¿®æ”¹é…ç½®ä¿¡æ¯ã€‚</p><p>æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„ â€œ_config.ymlâ€æ–‡ä»¶,æ·»åŠ é…ç½®ä¿¡æ¯ã€‚</p><pre><code>search:  path: search.xml  field: post</code></pre><h4 id="ä¿®æ”¹å‹æƒ…é“¾æ¥"><a href="#ä¿®æ”¹å‹æƒ…é“¾æ¥" class="headerlink" title="ä¿®æ”¹å‹æƒ…é“¾æ¥"></a>ä¿®æ”¹å‹æƒ…é“¾æ¥</h4><p>åœ¨ â€œBlog\source_data\friends.jsonâ€ ç›®å½•ä¸‹ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595649945373.png" alt=""></p><h4 id="è‡ªåŠ¨æ·»åŠ æ–‡ç« çš„åç§°ã€æ—¶é—´ç­‰ä¿¡æ¯"><a href="#è‡ªåŠ¨æ·»åŠ æ–‡ç« çš„åç§°ã€æ—¶é—´ç­‰ä¿¡æ¯" class="headerlink" title="è‡ªåŠ¨æ·»åŠ æ–‡ç« çš„åç§°ã€æ—¶é—´ç­‰ä¿¡æ¯"></a>è‡ªåŠ¨æ·»åŠ æ–‡ç« çš„åç§°ã€æ—¶é—´ç­‰ä¿¡æ¯</h4><p>éœ€è¦åˆ›å»ºæ–‡ä»¶ â€œscaffolds\post.mdâ€</p><pre><code class="yaml">---title: {{ title }}date: {{ date }}tags: [æ ‡ç­¾]author: ç”¨æˆ·åtop: falsecover: falsetoc: truemathjax: truecategories: &quot;åˆ†ç±»&quot;---</code></pre><h4 id="å®Œæ•´å®ä¾‹"><a href="#å®Œæ•´å®ä¾‹" class="headerlink" title="å®Œæ•´å®ä¾‹"></a>å®Œæ•´å®ä¾‹</h4><p>ğŸ‘‡ä¿®æ”¹æ–‡ç« å°é¢,ä¿®æ”¹æ–‡ç« è½®æ’­å›¾ç­‰</p><pre><code class="yaml">---title: {{title}}date: {{data}}author: ä½œè€…åå­—img: /source/images/xxx.jpg &quot;æ–‡ç« ç‰¹å¾å›¾,è·¯å¾„åœ¨sourceä¸­&quot;top: true &quot;æ¨èæ–‡ç« &quot;cover: true &quot;è¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­&quot;coverImg: /images/1.jpg &quot;è½®æ’­å›¾ä¸­çš„å°é¢,è®¿é—®çš„æ˜¯&quot;source&quot;ä¸‹çš„&quot;images&quot;&quot;password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92toc: false &quot;æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ config.yml ä¸­æ¿€æ´»äº† toc é€‰é¡¹&quot;mathjax: false &quot;æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ,æœ¬æ–‡ç« æ˜¯å¦å¼€å¯ mathjaxï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ _config.yml æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ&quot;summary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦categories: Markdowntags:  - Typora  - Markdown---</code></pre><h2 id="æ–‡ç« -Front-matter-ä»‹ç»"><a href="#æ–‡ç« -Front-matter-ä»‹ç»" class="headerlink" title="æ–‡ç«  Front-matter ä»‹ç»"></a>æ–‡ç«  Front-matter ä»‹ç»</h2><h3 id="Front-matter-é€‰é¡¹è¯¦è§£"><a href="#Front-matter-é€‰é¡¹è¯¦è§£" class="headerlink" title="Front-matter é€‰é¡¹è¯¦è§£"></a>Front-matter é€‰é¡¹è¯¦è§£</h3><p><code>Front-matter</code> é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸º<strong>éå¿…å¡«</strong>çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ <code>title</code> å’Œ <code>date</code> çš„å€¼ã€‚</p><table><thead><tr><th>é…ç½®é€‰é¡¹</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>title</td><td><code>Markdown</code> çš„æ–‡ä»¶æ ‡é¢˜</td><td>æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td>date</td><td>æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td>å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td>author</td><td>æ ¹ <code>_config.yml</code> ä¸­çš„ <code>author</code></td><td>æ–‡ç« ä½œè€…</td></tr><tr><td>img</td><td><code>featureImages</code> ä¸­çš„æŸä¸ªå€¼</td><td>æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td>top</td><td><code>true</code></td><td>æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td>cover</td><td><code>false</code></td><td><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td>coverImg</td><td>æ— </td><td><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td>password</td><td>æ— </td><td>æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td>toc</td><td><code>true</code></td><td>æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td>mathjax</td><td><code>false</code></td><td>æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td>summary</td><td>æ— </td><td>æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td>categories</td><td>æ— </td><td>æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td>tags</td><td>æ— </td><td>æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td>keywords</td><td>æ–‡ç« æ ‡é¢˜</td><td>æ–‡ç« å…³é”®å­—ï¼ŒSEO æ—¶éœ€è¦</td></tr><tr><td>reprintPolicy</td><td>cc_by</td><td>æ–‡ç« è½¬è½½è§„åˆ™ï¼Œ å¯ä»¥æ˜¯ cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint æˆ– pay ä¸­çš„ä¸€ä¸ª</td></tr></tbody></table><h2 id="ä¿®æ”¹å„ç§æ ‡é¢˜"><a href="#ä¿®æ”¹å„ç§æ ‡é¢˜" class="headerlink" title="ä¿®æ”¹å„ç§æ ‡é¢˜"></a>ä¿®æ”¹å„ç§æ ‡é¢˜</h2><h3 id="ä¿®æ”¹å‰¯æ ‡é¢˜å’ŒçŸ­å¥"><a href="#ä¿®æ”¹å‰¯æ ‡é¢˜å’ŒçŸ­å¥" class="headerlink" title="ä¿®æ”¹å‰¯æ ‡é¢˜å’ŒçŸ­å¥"></a>ä¿®æ”¹å‰¯æ ‡é¢˜å’ŒçŸ­å¥</h3><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031160424.png" alt="å‰¯æ ‡é¢˜"></p><p>ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ â€œ<strong>_config.xml</strong>â€</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031160741.png" alt="ä¿®æ”¹å‰¯æ ‡é¢˜"></p><p>æ ¹ç›®å½•ä¸‹â€œ<strong>themes\hexo-theme-matery\_config.xml</strong>â€</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031161025.png" alt=""></p><p>subtitleæ ‡ç­¾è´Ÿè´£å‰¯æ ‡é¢˜çš„çŸ­å¥ã€‚</p><h3 id="ä¿®æ”¹-â€œæ¢¦æƒ³â€çŸ­å¥"><a href="#ä¿®æ”¹-â€œæ¢¦æƒ³â€çŸ­å¥" class="headerlink" title="ä¿®æ”¹ â€œæ¢¦æƒ³â€çŸ­å¥"></a>ä¿®æ”¹ â€œæ¢¦æƒ³â€çŸ­å¥</h3><p>æ ¹ç›®å½•ä¸‹â€œ<strong>themes\hexo-theme-matery\_config.xml</strong>â€</p><p>dreamæ ‡ç­¾è´Ÿè´£æ¢¦æƒ³çŸ­å¥ã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/20201031161233.png" alt=""></p><h2 id="å¤‡ä»½å’Œè¿˜åŸBlog"><a href="#å¤‡ä»½å’Œè¿˜åŸBlog" class="headerlink" title="å¤‡ä»½å’Œè¿˜åŸBlog"></a>å¤‡ä»½å’Œè¿˜åŸBlog</h2><h3 id="å¤‡ä»½githubåˆ›å»ºç§æœ‰ä»“åº“"><a href="#å¤‡ä»½githubåˆ›å»ºç§æœ‰ä»“åº“" class="headerlink" title="å¤‡ä»½githubåˆ›å»ºç§æœ‰ä»“åº“"></a>å¤‡ä»½githubåˆ›å»ºç§æœ‰ä»“åº“</h3><p>ç§æœ‰ä»“åº“è®¾ç½®ä¸ºåå­—Blog(ä¸æ–‡ä»¶å¤¹åå­—ç›¸åŒå³å¯),å°†æ–‡ä»¶ä¸‹è½½åˆ°Blogçš„æ ¹ç›®å½•ä¸‹,å°†â€.gitâ€æ–‡ä»¶å’Œâ€.gitignoreâ€æ–‡ä»¶æ‹–æ‹½åˆ°Blogç›®å½•ä¸‹ã€‚</p><p>â€˜â€™.gitignoreâ€™æ–‡ä»¶å†…æ·»åŠ è¦å¿½è§†çš„æ–‡ä»¶å¤¹</p><pre><code>.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/</code></pre><p>æ­£å¸¸æäº¤å³å¯</p><p>ps:å¯èƒ½ä¼šå‡ºç°æ–‡ä»¶å¤¹è¿‡å¤§çš„åŸå›  </p><p><a href="https://thecara.github.io/2020/07/19/git%E8%AE%BE%E7%BD%AE%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F/">åŠæ³•</a></p><h3 id="è¿˜åŸBlog"><a href="#è¿˜åŸBlog" class="headerlink" title="è¿˜åŸBlog"></a>è¿˜åŸBlog</h3><p>å»ºè®®:ä½¿ç”¨æ–°çš„ç”µè„‘æˆ–è€…ä½¿ç”¨è™šæ‹Ÿæœºæ¥æµ‹è¯•</p><p>å®‰è£…git,é…ç½®git </p><p>ä½¿ç”¨â€git Bashâ€ è¾“å…¥ğŸ‘‡.</p><pre><code>$ git config --global user.name &quot;your name&quot;$ git config --global user.email &quot;your_email@youremail.com&quot;ssh-keygen -t rsa -C &quot;è‡ªå·±çš„é‚®ç®±&quot;</code></pre><p><a href="https://github.com/settings/ssh/new" target="_blank" rel="noopener">è®¾ç½®SHH</a></p><p>å®Œæˆåä¼šå‡ºç°shhæ–‡ä»¶çš„ç›®å½•,æ‰“å¼€â€.pubâ€ç±»å‹æ–‡ä»¶å°†å†…å®¹å¤åˆ¶åˆ°è¿™é‡Œã€‚</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/1595819104102.png" alt=""></p><p>å®Œæˆåå…‹éš†æˆ‘ä»¬çš„â€Blogâ€</p><h3 id="å®‰è£…nove-js"><a href="#å®‰è£…nove-js" class="headerlink" title="å®‰è£…nove.js"></a>å®‰è£…nove.js</h3><p>åœ¨Blogç›®å½•ä¸‹ä½¿ç”¨â€git Bashâ€</p><p>ç›´æ¥å®‰è£… hexo,å¦‚æœç½‘ç»œè¿‡æ…¢å»ºè®®é…ç½®ä»“åº“.</p><pre><code>$ npm install -g cnpm --registry=https://registry.npm.taobao.org</code></pre><p><a href="https://developer.aliyun.com/mirror/NPM" target="_blank" rel="noopener">æ›´å¤š</a></p><pre><code>npm i hexo-cli -g æˆ–è€… npm install hexo --save</code></pre><p>æ­å»º</p><pre><code class="g">hexo ghexo shexo d</code></pre><p>ps:</p><p>å¦‚æœå‡ºç° â€œERROR Plugin load failed: hexo-prism-pluginâ€é”™è¯¯ ç›´æ¥åˆ é™¤â€node_modules\hexo-prism-pluginâ€ä¸‹çš„æ–‡ä»¶å¤¹ã€‚</p><p>å®‰è£… nove.js è‡ªåŠ¨å®‰è£…choco<a href="https://thecara.github.io/2020/07/26/choco%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%BA%94%E7%94%A8%E7%9A%84%E5%AE%89%E8%A3%85/">å¯èƒ½ä¼šæŠ¥é”™ä½¿ç”¨</a></p><p>å¼•ç”¨:<a href="https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md" target="_blank" rel="noopener">https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md</a></p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>åœ¨ä½¿ç”¨ ç›®å½•å¯¼èˆªæ—¶ä¸å»ºè®® â€œæ ‡é¢˜â€ é…åˆ â€œæ— åºåˆ—è¡¨â€ ä½¿ç”¨</p><p><img src="https://raw.githubusercontent.com/TheCara/RepoPicture/master/image/2020-8-19-0.gif" alt=""></p><p>ä¼šå‡ºç°æ— æ³•è·³è½¬åˆ°æŒ‡å®šç›®å½•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> hexo-theme-matery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> hexo-theme-matery </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
